uid=19_0 RootWebArea "Deploy an application with CDK for Terraform | Terraform | HashiCorp Developer" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications"
  uid=19_1 Iframe
    uid=19_2 RootWebArea url="https://archive.org/includes/donate.php?as_page=1&platform=wb&referer=https%3A//web.archive.org/web/20251208045256/https%3A//developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications"
  uid=19_3 link "Wayback Machine" description="Wayback Machine home page" url="https://web.archive.org/web/"
    uid=19_4 image "Wayback Machine" url="https://web-static.archive.org/_static/images/toolbar/wayback-toolbar-logo-200.png"
  uid=19_5 textbox value="https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications"
  uid=19_6 button "Go"
  uid=19_7 link "27 captures" description="See a list of every capture for this URL" url="https://web.archive.org/web/*/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications"
    uid=19_8 StaticText "27 captures"
  uid=19_9 StaticText "18 Nov 2022 - 8 Jan 2026"
  uid=19_10 link url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications"
  uid=19_11 link "JUL" description="20:19:17 Jul 7, 2025" url="https://web.archive.org/web/20250707201917/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications"
    uid=19_12 StaticText "JUL"
  uid=19_13 StaticText "DEC"
  uid=19_14 link "JAN" description="15:45:09 Jan 8, 2026" url="https://web.archive.org/web/20260108154509/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications"
    uid=19_15 StaticText "JAN"
  uid=19_16 link "20:19:17 Jul 7, 2025" url="https://web.archive.org/web/20250707201917/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications"
  uid=19_17 StaticText "08"
  uid=19_18 link "15:45:09 Jan 8, 2026" url="https://web.archive.org/web/20260108154509/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications"
  uid=19_19 link "2024" description="23:55:16 Oct 1, 2024" url="https://web.archive.org/web/20241001235516/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications"
    uid=19_20 StaticText "2024"
  uid=19_21 StaticText "2025"
  uid=19_22 StaticText "2026"
  uid=19_23 link "üóî" description="Share via My Web Archive" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#"
    uid=19_24 StaticText "üóî"
  uid=19_25 link "‚ç∞" description="Get some help using the Wayback Machine" url="https://help.archive.org/help/category/the-wayback-machine/"
    uid=19_24 StaticText "‚ç∞"
  uid=19_26 StaticText " "
  uid=19_27 link "‚ùé" description="Close the toolbar" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#close"
    uid=19_24 StaticText "‚ùé"
  uid=19_28 link "f" description="Share on Facebook" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#"
    uid=19_24 StaticText "f"
  uid=19_29 link "üê¶" description="Share on Twitter" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#"
    uid=19_24 StaticText "üê¶"
  uid=19_30 link "‚ñæ About this capture" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#expand"
    uid=19_24 StaticText "‚ñæ"
    uid=19_31 StaticText "About this capture"
  uid=19_32 banner
    uid=19_33 navigation "Main"
      uid=19_34 button "Main menu" expandable
    uid=19_35 link "Terraform home" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform"
      uid=19_36 StaticText "Terraform"
    uid=19_37 navigation "Main"
      uid=19_38 link "Terraform Install" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/install"
        uid=19_39 StaticText "Install"
      uid=19_40 link "Terraform Tutorials" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials"
        uid=19_41 StaticText "Tutorials"
      uid=19_42 button "Terraform Documentation" expandable
      uid=19_43 navigation "Main"
        uid=19_44 button "Terraform Sandbox" expandable
      uid=19_45 link "Terraform Registry" description="(opens in new tab)" url="https://web.archive.org/web/20251208045256/https://registry.terraform.io/"
        uid=19_46 StaticText "Registry"
      uid=19_47 StaticText "(opens in new tab)"
      uid=19_48 link "Terraform Try Cloud" description="(opens in new tab)" url="https://web.archive.org/web/20251208045256/https://app.terraform.io/public/signup/account"
        uid=19_49 StaticText "Try Cloud"
      uid=19_50 StaticText "(opens in new tab)"
    uid=19_51 button "Search"
    uid=19_52 button "User menu" expandable
  uid=19_53 link "CDK for Terraform" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf"
    uid=19_54 StaticText "CDK for Terraform"
  uid=19_55 navigation "CDK for Terraform"
    uid=19_56 heading "CDK for Terraform" level="2"
    uid=19_57 link "Install CDKTF" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-install"
      uid=19_58 StaticText "Install CDKTF"
    uid=19_59 link "Build infrastructure" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-build"
      uid=19_60 StaticText "Build infrastructure"
    uid=19_61 link "Lambda functions" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-assets-stacks-lambda"
      uid=19_62 StaticText "Lambda functions"
    uid=19_63 link "Deploy applications" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications"
      uid=19_64 StaticText "Deploy applications"
    uid=19_65 heading "Resources" level="3"
    uid=19_66 link "Tutorial Library" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/tutorials/library?product=terraform"
      uid=19_67 StaticText "Tutorial Library"
    uid=19_68 link "Certifications" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/certifications/infrastructure-automation"
      uid=19_69 StaticText "Certifications"
    uid=19_70 link "Sandbox" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/sandbox"
      uid=19_71 StaticText "Sandbox"
    uid=19_72 link "Community Forum. Opens in a new tab." description="(opens in new tab)" url="https://web.archive.org/web/20251208045256/https://discuss.hashicorp.com/c/terraform-core/27"
      uid=19_73 StaticText "Community Forum"
    uid=19_74 StaticText "(opens in new tab)"
    uid=19_75 link "Support. Opens in a new tab." description="(opens in new tab)" url="https://web.archive.org/web/20251208045256/https://www.hashicorp.com/customer-success"
      uid=19_76 StaticText "Support"
    uid=19_77 StaticText "(opens in new tab)"
    uid=19_78 link "GitHub. Opens in a new tab." description="(opens in new tab)" url="https://web.archive.org/web/20251208045256/https://github.com/hashicorp/terraform"
      uid=19_79 StaticText "GitHub"
    uid=19_80 StaticText "(opens in new tab)"
    uid=19_81 link "Terraform Registry. Opens in a new tab." description="(opens in new tab)" url="https://web.archive.org/web/20251208045256/https://registry.terraform.io/"
      uid=19_82 StaticText "Terraform Registry"
    uid=19_83 StaticText "(opens in new tab)"
  uid=19_84 navigation "Breadcrumb"
    uid=19_85 link "Developer" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/"
      uid=19_86 StaticText "Developer"
    uid=19_24 StaticText "/"
    uid=19_87 link "Terraform" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform"
      uid=19_88 StaticText "Terraform"
    uid=19_24 StaticText "/"
    uid=19_89 link "Tutorials" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials"
      uid=19_90 StaticText "Tutorials"
    uid=19_24 StaticText "/"
    uid=19_91 link "CDK for Terraform" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf"
      uid=19_92 StaticText "CDK for Terraform"
    uid=19_24 StaticText "/"
    uid=19_93 StaticText "Deploy applications"
  uid=19_94 main
    uid=19_95 heading "Deploy an application with CDK for Terraform" level="1"
    uid=19_96 StaticText "20min"
    uid=19_97 StaticText "|"
    uid=19_98 StaticText "Terraform"
    uid=19_99 StaticText "Interactive"
    uid=19_100 button "Show Terminal"
    uid=19_101 button "Add bookmark"
    uid=19_102 StaticText "The Cloud Development Kit for Terraform (CDKTF) allows you to define infrastructure using familiar programming languages such as TypeScript, Python, or Go. This lets you take advantage of the existing library of providers and modules in the Terraform ecosystem."
    uid=19_103 StaticText "Terraform configuration language is a declarative configuration language with functions and constructs that let you manage infrastructure. CDKTF allows you to generate Terraform configuration by writing code in your preferred programming language, with the same tools and workflows as your application code. Using CDKTF allows you to integrate your infrastructure management process with your testing and application deployment pipelines, which makes it easer for developers to work with their own infrastructure."
    uid=19_104 StaticText "In this tutorial, you will use the CDK for Terraform to deploy an application on Kubernetes. First, you will use CDKTF to convert Terraform configuration into TypeScript code. Then, you will refactor your code to dynamically generate Terraform configuration to manage an example web application consisting of frontend and backend services. Next, you will create multiple stacks representing the application in different environments. Finally, you will use CDKTF to remove your application."
    uid=19_105 link "prerequisites permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#prerequisites"
    uid=19_106 StaticText "Prerequisites"
    uid=19_107 StaticText "This tutorial assumes that you are familiar with the standard Terraform workflow. If you are new to Terraform, complete the "
    uid=19_108 link "Get Started tutorials" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/aws-get-started"
      uid=19_109 StaticText "Get Started tutorials"
    uid=19_110 StaticText " first."
    uid=19_111 StaticText "For this tutorial, you will need:"
    uid=19_112 link "Terraform" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/install"
      uid=19_113 StaticText "Terraform"
    uid=19_114 StaticText " v1.2+"
    uid=19_115 link "CDK for Terraform" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-install"
      uid=19_116 StaticText "CDK for Terraform"
    uid=19_117 StaticText " v0.15+"
    uid=19_118 link "Docker Desktop" url="https://web.archive.org/web/20251208045256/https://docs.docker.com/get-docker/"
      uid=19_119 StaticText "Docker Desktop"
    uid=19_120 StaticText " installed and running."
    uid=19_121 link "NPM (v8.19+) and NodeJS (v18+)" url="https://web.archive.org/web/20251208045256/https://docs.npmjs.com/downloading-and-installing-node-js-and-npm"
      uid=19_122 StaticText "NPM (v8.19+) and NodeJS (v18+)"
    uid=19_123 StaticText " installed."
    uid=19_124 link "kubectl" url="https://web.archive.org/web/20251208045256/https://kubernetes.io/docs/tasks/tools/install-kubectl/"
      uid=19_125 StaticText "kubectl"
    uid=19_126 StaticText "."
    uid=19_127 link "kind" url="https://web.archive.org/web/20251208045256/https://kind.sigs.k8s.io/docs/user/quick-start/#installation"
      uid=19_128 StaticText "kind"
    uid=19_129 StaticText "."
    uid=19_130 StaticText "Launch Terminal"
    uid=19_131 StaticText "This tutorial includes a free interactive command-line lab that lets you follow along on actual cloud infrastructure."
    uid=19_132 button "Start interactive lab"
    uid=19_133 link "clone example repository permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#clone-example-repository"
    uid=19_134 StaticText "Clone example repository"
    uid=19_135 StaticText "Clone the "
    uid=19_136 link "CDKTF Applications" url="https://web.archive.org/web/20251208045256/https://github.com/hashicorp-education/learn-terraform-cdktf-applications"
      uid=19_137 StaticText "CDKTF Applications"
    uid=19_138 StaticText " GitHub repository for this tutorial."
    uid=19_139 StaticText "$"
    uid=19_140 StaticText " git clone https://github.com/hashicorp-education/learn-terraform-cdktf-applications"
    uid=19_141 StaticText "
"
    uid=19_142 button "Copy" description="$ git clone https://github.com/hashicorp-education/learn-terraform-cdktf-applications"
    uid=19_143 StaticText "Change to the repository directory."
    uid=19_144 StaticText "$"
    uid=19_145 StaticText " cd learn-terraform-cdktf-applications"
    uid=19_146 StaticText "
"
    uid=19_147 button "Copy" description="$ cd learn-terraform-cdktf-applications"
    uid=19_148 StaticText "This repository contains an example application with frontend and a backend services that you will deploy on Kubernetes as Docker containers. It also contains configuration files that you will use to create a local Kubernetes cluster with kind."
    uid=19_149 link "configure local kubernetes cluster permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#configure-local-kubernetes-cluster"
    uid=19_150 StaticText "Configure local Kubernetes cluster"
    uid=19_151 StaticText "Start a local Docker registry to store the container images you will use in this tutorial."
    uid=19_152 StaticText "$"
    uid=19_153 StaticText " docker run -d --restart always -p "
    uid=19_154 StaticText ""127.0.0.1:5000:5000""
    uid=19_155 StaticText " --name local-registry registry:2"
    uid=19_156 StaticText "
"
    uid=19_157 StaticText "Unable to find image 'registry:2' locally"
    uid=19_158 StaticText "
"
    uid=19_159 StaticText "2: Pulling from library/registry"
    uid=19_160 StaticText "
"
    uid=19_161 StaticText "530afca65e2e: Already exists"
    uid=19_162 StaticText "
"
    uid=19_163 StaticText "d450d4da0343: Pull complete"
    uid=19_164 StaticText "
"
    uid=19_165 StaticText "96277bea17b6: Pull complete"
    uid=19_166 StaticText "
"
    uid=19_167 StaticText "470ad04e03fb: Pull complete"
    uid=19_168 StaticText "
"
    uid=19_169 StaticText "bd3d4dc6e66f: Pull complete"
    uid=19_170 StaticText "
"
    uid=19_171 StaticText "Digest: sha256:c631a581c6152f5a4a141a974b74cf308ab2ee660287a3c749d88e0b536c0c20"
    uid=19_172 StaticText "
"
    uid=19_173 StaticText "Status: Downloaded newer image for registry:2"
    uid=19_174 StaticText "
"
    uid=19_175 StaticText "2d9c6166d2ea3b1f6ef9d933afa6069eef5e2dbaece27ce1b235b89b7c5d374b"
    uid=19_176 StaticText "
"
    uid=19_177 button "Copy" description="$ docker run -d --restart always -p "127.0.0.1:5000:5000" --name local-registry registry:2 Unable to find image 'registry:2' locally 2: Pulling from library/registry 530afca65e2e: Already exists d450d4da0343: Pull complete 96277bea17b6: Pull complete 470ad04e03fb: Pull complete bd3d4dc6e66f: Pull complete Digest: sha256:c631a581c6152f5a4a141a974b74cf308ab2ee660287a3c749d88e0b536c0c20 Status: Downloaded newer image for registry:2 2d9c6166d2ea3b1f6ef9d933afa6069eef5e2dbaece27ce1b235b89b7c5d374b"
    uid=19_178 StaticText "Use kind to create a Kubernetes cluster running in Docker on your local machine."
    uid=19_179 StaticText "$"
    uid=19_180 StaticText " kind create cluster --name=cdktf-app --config kind-config.yaml"
    uid=19_181 StaticText "
"
    uid=19_182 StaticText "Creating cluster "cdktf-app" ..."
    uid=19_183 StaticText "
"
    uid=19_184 StaticText " ‚úì Ensuring node image (kindest/node:v1.25.0) üñº "
    uid=19_185 StaticText "
"
    uid=19_186 StaticText " ‚úì Preparing nodes üì¶"
    uid=19_187 StaticText "
"
    uid=19_188 StaticText " ‚úì Writing configuration üìú"
    uid=19_189 StaticText "
"
    uid=19_190 StaticText " ‚úì Starting control-plane üïπÔ∏è"
    uid=19_191 StaticText "
"
    uid=19_192 StaticText " ‚úì Installing CNI üîå"
    uid=19_193 StaticText "
"
    uid=19_194 StaticText " ‚úì Installing StorageClass üíæ"
    uid=19_195 StaticText "
"
    uid=19_196 StaticText "Set kubectl context to "kind-cdktf-app""
    uid=19_197 StaticText "
"
    uid=19_198 StaticText "You can now use your cluster with:"
    uid=19_199 StaticText "
"
    uid=19_200 StaticText "
"
    uid=19_201 StaticText "kubectl cluster-info --context kind-cdktf-app"
    uid=19_202 StaticText "
"
    uid=19_203 StaticText "
"
    uid=19_204 StaticText "Not sure what to do next? üòÖ  Check out https://kind.sigs.k8s.io/docs/user/quick-start/"
    uid=19_205 StaticText "
"
    uid=19_206 button "Copy" description="$ kind create cluster --name=cdktf-app --config kind-config.yaml Creating cluster "cdktf-app" ... ‚úì Ensuring node image (kindest/node:v1.25.0) üñº ‚úì Preparing nodes üì¶ ‚úì Writing configuration üìú ‚úì Starting control-plane üïπÔ∏è ‚úì Installing CNI üîå ‚úì Installing StorageClass üíæ Set kubectl context to "kind-cdktf-app" You can now use your cluster with: kubectl cluster-info --context kind-cdktf-app Not sure what to do next? üòÖ Check out https://kind.sigs.k8s.io/docs/user/quick-start/"
    uid=19_207 StaticText "Verify that your cluster exists by listing your kind clusters."
    uid=19_208 StaticText "$"
    uid=19_209 StaticText " kind get clusters"
    uid=19_210 StaticText "
"
    uid=19_211 StaticText "cdktf-app"
    uid=19_212 StaticText "
"
    uid=19_213 button "Copy" description="$ kind get clusters cdktf-app"
    uid=19_214 StaticText "Then, use "
    uid=19_215 StaticText "kubectl"
    uid=19_216 StaticText " to print out information about your cluster. The context is "
    uid=19_217 StaticText "kind-"
    uid=19_218 StaticText " followed by the name of your cluster."
    uid=19_219 StaticText "$"
    uid=19_220 StaticText " kubectl cluster-info --context=kind-cdktf-app"
    uid=19_221 StaticText "
"
    uid=19_222 StaticText "Kubernetes control plane is running at https://127.0.0.1:56821"
    uid=19_223 StaticText "
"
    uid=19_224 StaticText "CoreDNS is running at https://127.0.0.1:56821/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy"
    uid=19_225 StaticText "
"
    uid=19_226 StaticText "
"
    uid=19_227 StaticText "To further debug and diagnose cluster problems, use 'kubectl cluster-info dump'."
    uid=19_228 StaticText "
"
    uid=19_229 button "Copy" description="$ kubectl cluster-info --context=kind-cdktf-app Kubernetes control plane is running at https://127.0.0.1:56821 CoreDNS is running at https://127.0.0.1:56821/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy To further debug and diagnose cluster problems, use 'kubectl cluster-info dump'."
    uid=19_230 StaticText "Create a kubeconfig file to allow access to your Kubernetes cluster."
    uid=19_231 StaticText "$"
    uid=19_232 StaticText " kubectl config view --raw --context kind-cdktf-app "
    uid=19_233 StaticText ">"
    uid=19_234 StaticText " kubeconfig.yaml"
    uid=19_235 StaticText "
"
    uid=19_236 button "Copy" description="$ kubectl config view --raw --context kind-cdktf-app > kubeconfig.yaml"
    uid=19_237 StaticText "Now, attach your local Docker registry to your kind cluster."
    uid=19_238 StaticText "$"
    uid=19_239 StaticText " docker network connect kind local-registry"
    uid=19_240 StaticText "
"
    uid=19_241 button "Copy" description="$ docker network connect kind local-registry"
    uid=19_242 StaticText "Configure your Kubernetes cluster to use the local registry."
    uid=19_243 StaticText "$"
    uid=19_244 StaticText " kubectl apply -f local-registry-configmap.yaml --kubeconfig kubeconfig.yaml"
    uid=19_245 StaticText "
"
    uid=19_246 StaticText "configmap/local-registry-hosting created"
    uid=19_247 StaticText "
"
    uid=19_248 button "Copy" description="$ kubectl apply -f local-registry-configmap.yaml --kubeconfig kubeconfig.yaml configmap/local-registry-hosting created"
    uid=19_249 StaticText "Your Kubernetes cluster now uses the local Docker registry to store and retrieve Docker images. Next you will use CDKTF to generate images for your application and deploy them to your cluster."
    uid=19_250 link "initialize your cdktf application permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#initialize-your-cdktf-application"
    uid=19_251 StaticText "Initialize your CDKTF application"
    uid=19_252 StaticText "Create a directory for your CDKTF application."
    uid=19_253 StaticText "$"
    uid=19_254 StaticText " mkdir app"
    uid=19_255 StaticText "
"
    uid=19_256 button "Copy" description="$ mkdir app"
    uid=19_257 StaticText "Now change into it."
    uid=19_258 StaticText "$"
    uid=19_259 StaticText " cd app"
    uid=19_260 StaticText "
"
    uid=19_261 button "Copy" description="$ cd app"
    uid=19_262 StaticText "Initialize your CDKTF application with the "
    uid=19_263 StaticText "typescript"
    uid=19_264 StaticText " template and a pre-built Kubernetes provider. For this tutorial, use the "
    uid=19_265 StaticText "--local"
    uid=19_266 StaticText " flag so that CDKTF stores your Terraform state locally, rather than in a remote backend such as HCP Terraform."
    uid=19_267 StaticText "$"
    uid=19_268 StaticText " cdktf init --template=typescript \"
    uid=19_269 StaticText "
"
    uid=19_270 StaticText "             --project-name=learn-terraform-cdktf-applications \"
    uid=19_271 StaticText "
"
    uid=19_272 StaticText "             --project-description="Learn how to develop CDKTF applications" \"
    uid=19_273 StaticText "
"
    uid=19_274 StaticText "             --providers="kubernetes@~>2.14" \"
    uid=19_275 StaticText "
"
    uid=19_276 StaticText "             --local"
    uid=19_277 StaticText "
"
    uid=19_278 button "Copy" description="$ cdktf init --template=typescript \ --project-name=learn-terraform-cdktf-applications \ --project-description="Learn how to develop CDKTF applications" \ --providers="kubernetes@~>2.14" \ --local"
    uid=19_279 StaticText "When CDKTF prompts you, accept the defaults. CDKTF will initialize your application in the current directory, and print out a help message."
    uid=19_280 StaticText "Note: By supplying '--local' option you have chosen local storage mode for storing the state of your stack."
    uid=19_281 StaticText "
"
    uid=19_282 StaticText "This means that your Terraform state file will be stored locally on disk in a file 'terraform.<STACK NAME>.tfstate' in the root of your project."
    uid=19_283 StaticText "
"
    uid=19_284 StaticText "? Do you want to start from an existing Terraform project? No"
    uid=19_285 StaticText "
"
    uid=19_286 StaticText "? Do you want to send crash reports to the CDKTF team? See"
    uid=19_287 StaticText "
"
    uid=19_288 StaticText "https://www.terraform.io/cdktf/create-and-deploy/configuration-file#enable-crash"
    uid=19_289 StaticText "
"
    uid=19_290 StaticText "-reporting-for-the-cli for more information Yes"
    uid=19_291 StaticText "
"
    uid=19_292 StaticText "##..."
    uid=19_293 StaticText "
"
    uid=19_294 StaticText " Use Providers:"
    uid=19_295 StaticText "
"
    uid=19_296 StaticText "
"
    uid=19_297 StaticText "  You can add prebuilt providers (if available) or locally generated ones using the add command:"
    uid=19_298 StaticText "
"
    uid=19_299 StaticText "
"
    uid=19_300 StaticText "  cdktf provider add "aws@~>3.0" null kreuzwerker/docker"
    uid=19_301 StaticText "
"
    uid=19_302 StaticText "
"
    uid=19_303 StaticText "  You can find all prebuilt providers on npm: https://www.npmjs.com/search?q=keywords:cdktf"
    uid=19_304 StaticText "
"
    uid=19_305 StaticText "  You can also install these providers directly through npm:"
    uid=19_306 StaticText "
"
    uid=19_307 StaticText "
"
    uid=19_308 StaticText "  npm install @cdktf/provider-aws"
    uid=19_309 StaticText "
"
    uid=19_310 StaticText "  npm install @cdktf/provider-google"
    uid=19_311 StaticText "
"
    uid=19_312 StaticText "  npm install @cdktf/provider-azurerm"
    uid=19_313 StaticText "
"
    uid=19_314 StaticText "  npm install @cdktf/provider-docker"
    uid=19_315 StaticText "
"
    uid=19_316 StaticText "  npm install @cdktf/provider-github"
    uid=19_317 StaticText "
"
    uid=19_318 StaticText "  npm install @cdktf/provider-null"
    uid=19_319 StaticText "
"
    uid=19_320 StaticText "
"
    uid=19_321 StaticText "  You can also build any module or provider locally. Learn more https://cdk.tf/modules-and-providers"
    uid=19_322 StaticText "
"
    uid=19_323 StaticText "
"
    uid=19_324 StaticText "========================================================================================================"
    uid=19_325 StaticText "
"
    uid=19_326 StaticText "
"
    uid=19_327 StaticText "Checking whether pre-built provider exists for the following constraints:"
    uid=19_328 StaticText "
"
    uid=19_329 StaticText "  provider: kubernetes"
    uid=19_330 StaticText "
"
    uid=19_331 StaticText "  version : ~>2.14"
    uid=19_332 StaticText "
"
    uid=19_333 StaticText "  language: typescript"
    uid=19_334 StaticText "
"
    uid=19_335 StaticText "  cdktf   : 0.15.0"
    uid=19_336 StaticText "
"
    uid=19_337 StaticText "
"
    uid=19_338 StaticText "Found pre-built provider."
    uid=19_339 StaticText "
"
    uid=19_340 StaticText "Adding package @cdktf/provider-kubernetes @ 3.0.12"
    uid=19_341 StaticText "
"
    uid=19_342 StaticText "Installing package @cdktf/provider-kubernetes @ 3.0.12 using npm."
    uid=19_343 StaticText "
"
    uid=19_344 StaticText "Package installed."
    uid=19_345 StaticText "
"
    uid=19_346 StaticText "CDKTF created your application from a template."
    uid=19_347 link "create a kubernetes deployment permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#create-a-kubernetes-deployment"
    uid=19_348 StaticText "Create a Kubernetes Deployment"
    uid=19_349 StaticText "Now that you have initialized your CDKTF application, create a Kubernetes Deployment for your application's frontend."
    uid=19_350 link "add kubernetes deployment permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#add-kubernetes-deployment"
    uid=19_351 StaticText "Add Kubernetes Deployment"
    uid=19_352 StaticText "Convert example Terraform configuration that defines a Kubernetes Deployment into TypeScript."
    uid=19_353 StaticText "$"
    uid=19_354 StaticText " cat ../k8s_deployment.tf "
    uid=19_355 StaticText "|"
    uid=19_356 StaticText " cdktf"
    uid=19_357 StaticText " convert"
    uid=19_358 StaticText "  --provider=kubernetes"
    uid=19_359 StaticText "
"
    uid=19_360 StaticText "/*Provider bindings are generated by running cdktf get."
    uid=19_361 StaticText "
"
    uid=19_362 StaticText "See https://cdk.tf/provider-generation for more details.*/"
    uid=19_363 StaticText "
"
    uid=19_364 StaticText "import * as kubernetes from "./.gen/providers/kubernetes";"
    uid=19_365 StaticText "
"
    uid=19_366 StaticText "new kubernetes.deployment.Deployment(this, "myapp", {"
    uid=19_367 StaticText "
"
    uid=19_368 StaticText "  metadata: {"
    uid=19_369 StaticText "
"
    uid=19_370 StaticText "    labels: {"
    uid=19_371 StaticText "
"
    uid=19_372 StaticText "      app: "myapp","
    uid=19_373 StaticText "
"
    uid=19_374 StaticText "      component: "frontend","
    uid=19_375 StaticText "
"
    uid=19_376 StaticText "      environment: "dev","
    uid=19_377 StaticText "
"
    uid=19_378 StaticText "    },"
    uid=19_379 StaticText "
"
    uid=19_380 StaticText "    name: "myapp-frontend-dev","
    uid=19_381 StaticText "
"
    uid=19_382 StaticText "  },"
    uid=19_383 StaticText "
"
    uid=19_384 StaticText "  spec: {"
    uid=19_385 StaticText "
"
    uid=19_386 StaticText "    replicas: "1","
    uid=19_387 StaticText "
"
    uid=19_388 StaticText "    selector: {"
    uid=19_389 StaticText "
"
    uid=19_390 StaticText "      matchLabels: {"
    uid=19_391 StaticText "
"
    uid=19_392 StaticText "        app: "myapp","
    uid=19_393 StaticText "
"
    uid=19_394 StaticText "        component: "frontend","
    uid=19_395 StaticText "
"
    uid=19_396 StaticText "        environment: "dev","
    uid=19_397 StaticText "
"
    uid=19_398 StaticText "      },"
    uid=19_399 StaticText "
"
    uid=19_400 StaticText "    },"
    uid=19_401 StaticText "
"
    uid=19_402 StaticText "    template: {"
    uid=19_403 StaticText "
"
    uid=19_404 StaticText "      metadata: {"
    uid=19_405 StaticText "
"
    uid=19_406 StaticText "        labels: {"
    uid=19_407 StaticText "
"
    uid=19_408 StaticText "          app: "myapp","
    uid=19_409 StaticText "
"
    uid=19_410 StaticText "          component: "frontend","
    uid=19_411 StaticText "
"
    uid=19_412 StaticText "          environment: "dev","
    uid=19_413 StaticText "
"
    uid=19_414 StaticText "        },"
    uid=19_415 StaticText "
"
    uid=19_416 StaticText "      },"
    uid=19_417 StaticText "
"
    uid=19_418 StaticText "      spec: {"
    uid=19_419 StaticText "
"
    uid=19_420 StaticText "        container: ["
    uid=19_421 StaticText "
"
    uid=19_422 StaticText "          {"
    uid=19_423 StaticText "
"
    uid=19_424 StaticText "            image: "nginx:latest","
    uid=19_425 StaticText "
"
    uid=19_426 StaticText "            name: "myapp-frontend-dev","
    uid=19_427 StaticText "
"
    uid=19_428 StaticText "          },"
    uid=19_429 StaticText "
"
    uid=19_430 StaticText "        ],"
    uid=19_431 StaticText "
"
    uid=19_432 StaticText "      },"
    uid=19_433 StaticText "
"
    uid=19_434 StaticText "    },"
    uid=19_435 StaticText "
"
    uid=19_436 StaticText "  },"
    uid=19_437 StaticText "
"
    uid=19_438 StaticText "});"
    uid=19_439 StaticText "
"
    uid=19_440 button "Copy" description="$ cat ../k8s_deployment.tf | cdktf convert --provider=kubernetes /*Provider bindings are generated by running cdktf get. See https://cdk.tf/provider-generation for more details.*/ import * as kubernetes from "./.gen/providers/kubernetes"; new kubernetes.deployment.Deployment(this, "myapp", { metadata: { labels: { app: "myapp", component: "frontend", environment: "dev", }, name: "myapp-frontend-dev", }, spec: { replicas: "1", selector: { matchLabels: { app: "myapp", component: "frontend", environment: "dev", }, }, template: { metadata: { labels: { app: "myapp", component: "frontend", environment: "dev", }, }, spec: {"
    uid=19_441 StaticText "The "
    uid=19_442 StaticText "cdktf convert"
    uid=19_443 StaticText " command converts Terraform configuration into code in the project's configured programming language. This command is still experimental, so this output requires some adjustment before you can use it in your project."
    uid=19_444 StaticText "Open "
    uid=19_445 StaticText "main.ts"
    uid=19_446 StaticText " and add code to import the Kubernetes provider and path, and define a deployment."
    uid=19_447 StaticText "main.ts"
    uid=19_448 StaticText "import"
    uid=19_449 StaticText " { Construct } "
    uid=19_450 StaticText "from"
    uid=19_451 StaticText " "constructs""
    uid=19_452 StaticText "
"
    uid=19_453 StaticText "import"
    uid=19_454 StaticText " { App"
    uid=19_455 StaticText ","
    uid=19_456 StaticText " TerraformStack } "
    uid=19_457 StaticText "from"
    uid=19_458 StaticText " "cdktf""
    uid=19_459 StaticText "
"
    uid=19_460 StaticText "import"
    uid=19_461 StaticText " *"
    uid=19_462 StaticText " as"
    uid=19_463 StaticText " kubernetes "
    uid=19_464 StaticText "from"
    uid=19_465 StaticText " "@cdktf/provider-kubernetes""
    uid=19_466 StaticText "
"
    uid=19_467 StaticText "import"
    uid=19_468 StaticText " *"
    uid=19_469 StaticText " as"
    uid=19_470 StaticText " path "
    uid=19_471 StaticText "from"
    uid=19_472 StaticText " "path""
    uid=19_473 StaticText "
"
    uid=19_474 StaticText "
"
    uid=19_475 StaticText "class"
    uid=19_476 StaticText " MyStack"
    uid=19_477 StaticText " extends"
    uid=19_478 StaticText " TerraformStack"
    uid=19_479 StaticText " {"
    uid=19_480 StaticText "
"
    uid=19_481 StaticText "  constructor"
    uid=19_482 StaticText "(scope"
    uid=19_483 StaticText ":"
    uid=19_484 StaticText " Construct"
    uid=19_485 StaticText ","
    uid=19_486 StaticText " name"
    uid=19_487 StaticText ":"
    uid=19_488 StaticText " string"
    uid=19_489 StaticText ") {"
    uid=19_490 StaticText "
"
    uid=19_491 StaticText "    super"
    uid=19_492 StaticText "(scope"
    uid=19_493 StaticText ","
    uid=19_494 StaticText " name)"
    uid=19_495 StaticText "
"
    uid=19_496 StaticText "
"
    uid=19_497 StaticText "    new"
    uid=19_498 StaticText " kubernetes"
    uid=19_499 StaticText "."
    uid=19_500 StaticText "provider"
    uid=19_501 StaticText ".KubernetesProvider"
    uid=19_502 StaticText "("
    uid=19_503 StaticText "this"
    uid=19_504 StaticText ","
    uid=19_505 StaticText " 'kind'"
    uid=19_506 StaticText ","
    uid=19_507 StaticText " {"
    uid=19_508 StaticText "
"
    uid=19_509 StaticText "      configPath"
    uid=19_510 StaticText ":"
    uid=19_511 StaticText " path"
    uid=19_512 StaticText ".join"
    uid=19_513 StaticText "(__dirname"
    uid=19_514 StaticText ","
    uid=19_515 StaticText " '../kubeconfig.yaml'"
    uid=19_516 StaticText ")"
    uid=19_517 StaticText ","
    uid=19_518 StaticText "
"
    uid=19_519 StaticText "    })"
    uid=19_520 StaticText "
"
    uid=19_521 StaticText "
"
    uid=19_522 StaticText "    new"
    uid=19_523 StaticText " kubernetes"
    uid=19_524 StaticText "."
    uid=19_525 StaticText "deployment"
    uid=19_526 StaticText ".Deployment"
    uid=19_527 StaticText "("
    uid=19_528 StaticText "this"
    uid=19_529 StaticText ","
    uid=19_530 StaticText " "myapp""
    uid=19_531 StaticText ","
    uid=19_532 StaticText " {"
    uid=19_533 StaticText "
"
    uid=19_534 StaticText "      metadata"
    uid=19_535 StaticText ":"
    uid=19_536 StaticText " {"
    uid=19_537 StaticText "
"
    uid=19_538 StaticText "        labels"
    uid=19_539 StaticText ":"
    uid=19_540 StaticText " {"
    uid=19_541 StaticText "
"
    uid=19_542 StaticText "          app"
    uid=19_543 StaticText ":"
    uid=19_544 StaticText " 'myapp'"
    uid=19_545 StaticText ","
    uid=19_546 StaticText "
"
    uid=19_547 StaticText "          component"
    uid=19_548 StaticText ":"
    uid=19_549 StaticText " 'frontend'"
    uid=19_550 StaticText ","
    uid=19_551 StaticText "
"
    uid=19_552 StaticText "          environment"
    uid=19_553 StaticText ":"
    uid=19_554 StaticText " 'dev'"
    uid=19_555 StaticText ","
    uid=19_556 StaticText "
"
    uid=19_557 StaticText "        }"
    uid=19_558 StaticText ","
    uid=19_559 StaticText "
"
    uid=19_560 StaticText "        name"
    uid=19_561 StaticText ":"
    uid=19_562 StaticText " 'myapp'"
    uid=19_563 StaticText ","
    uid=19_564 StaticText "
"
    uid=19_565 StaticText "      }"
    uid=19_566 StaticText ","
    uid=19_567 StaticText "
"
    uid=19_568 StaticText "      spec"
    uid=19_569 StaticText ":"
    uid=19_570 StaticText " {"
    uid=19_571 StaticText "
"
    uid=19_572 StaticText "        replicas"
    uid=19_573 StaticText ":"
    uid=19_574 StaticText " '1'"
    uid=19_575 StaticText ","
    uid=19_576 StaticText "
"
    uid=19_577 StaticText "        selector"
    uid=19_578 StaticText ":"
    uid=19_579 StaticText " {"
    uid=19_580 StaticText "
"
    uid=19_581 StaticText "          matchLabels"
    uid=19_582 StaticText ":"
    uid=19_583 StaticText " {"
    uid=19_584 StaticText "
"
    uid=19_585 StaticText "            app"
    uid=19_586 StaticText ":"
    uid=19_587 StaticText " 'myapp'"
    uid=19_588 StaticText ","
    uid=19_589 StaticText "
"
    uid=19_590 StaticText "            component"
    uid=19_591 StaticText ":"
    uid=19_592 StaticText " 'frontend'"
    uid=19_593 StaticText ","
    uid=19_594 StaticText "
"
    uid=19_595 StaticText "            environment"
    uid=19_596 StaticText ":"
    uid=19_597 StaticText " 'dev'"
    uid=19_598 StaticText ","
    uid=19_599 StaticText "
"
    uid=19_600 StaticText "          }"
    uid=19_601 StaticText ","
    uid=19_602 StaticText "
"
    uid=19_603 StaticText "        }"
    uid=19_604 StaticText ","
    uid=19_605 StaticText "
"
    uid=19_606 StaticText "        template"
    uid=19_607 StaticText ":"
    uid=19_608 StaticText " {"
    uid=19_609 StaticText "
"
    uid=19_610 StaticText "          metadata"
    uid=19_611 StaticText ":"
    uid=19_612 StaticText " {"
    uid=19_613 StaticText "
"
    uid=19_614 StaticText "            labels"
    uid=19_615 StaticText ":"
    uid=19_616 StaticText " {"
    uid=19_617 StaticText "
"
    uid=19_618 StaticText "              app"
    uid=19_619 StaticText ":"
    uid=19_620 StaticText " 'myapp'"
    uid=19_621 StaticText ","
    uid=19_622 StaticText "
"
    uid=19_623 StaticText "              component"
    uid=19_624 StaticText ":"
    uid=19_625 StaticText " 'frontend'"
    uid=19_626 StaticText ","
    uid=19_627 StaticText "
"
    uid=19_628 StaticText "              environment"
    uid=19_629 StaticText ":"
    uid=19_630 StaticText " 'dev'"
    uid=19_631 StaticText ","
    uid=19_632 StaticText "
"
    uid=19_633 StaticText "            }"
    uid=19_634 StaticText ","
    uid=19_635 StaticText "
"
    uid=19_636 StaticText "          }"
    uid=19_637 StaticText ","
    uid=19_638 StaticText "
"
    uid=19_639 StaticText "          spec"
    uid=19_640 StaticText ":"
    uid=19_641 StaticText " {"
    uid=19_642 StaticText "
"
    uid=19_643 StaticText "            container"
    uid=19_644 StaticText ":"
    uid=19_645 StaticText " ["
    uid=19_646 StaticText "
"
    uid=19_647 StaticText "              {"
    uid=19_648 StaticText "
"
    uid=19_649 StaticText "                image"
    uid=19_650 StaticText ":"
    uid=19_651 StaticText " 'nginx:latest'"
    uid=19_652 StaticText ","
    uid=19_653 StaticText "
"
    uid=19_654 StaticText "                name"
    uid=19_655 StaticText ":"
    uid=19_656 StaticText " 'frontend'"
    uid=19_657 StaticText ","
    uid=19_658 StaticText "
"
    uid=19_659 StaticText "              }"
    uid=19_660 StaticText ","
    uid=19_661 StaticText "
"
    uid=19_662 StaticText "            ]"
    uid=19_663 StaticText ","
    uid=19_664 StaticText "
"
    uid=19_665 StaticText "          }"
    uid=19_666 StaticText ","
    uid=19_667 StaticText "
"
    uid=19_668 StaticText "        }"
    uid=19_669 StaticText ","
    uid=19_670 StaticText "
"
    uid=19_671 StaticText "      }"
    uid=19_672 StaticText ","
    uid=19_673 StaticText "
"
    uid=19_674 StaticText "    })"
    uid=19_675 StaticText "
"
    uid=19_676 StaticText "  }"
    uid=19_677 StaticText "
"
    uid=19_678 StaticText "}"
    uid=19_679 StaticText "
"
    uid=19_680 StaticText "
"
    uid=19_681 StaticText "const"
    uid=19_682 StaticText " app"
    uid=19_683 StaticText " ="
    uid=19_684 StaticText " new"
    uid=19_685 StaticText " App"
    uid=19_686 StaticText "()"
    uid=19_687 StaticText "
"
    uid=19_688 StaticText "new"
    uid=19_689 StaticText " MyStack"
    uid=19_690 StaticText "(app"
    uid=19_691 StaticText ","
    uid=19_692 StaticText " 'app'"
    uid=19_693 StaticText ")"
    uid=19_694 StaticText "
"
    uid=19_695 StaticText "app"
    uid=19_696 StaticText ".synth"
    uid=19_697 StaticText "()"
    uid=19_698 StaticText "
"
    uid=19_699 StaticText "This code adds a Kubernetes provider configured with the "
    uid=19_700 StaticText "kubeconfig.yml"
    uid=19_701 StaticText " file you created earlier, and a new "
    uid=19_702 StaticText "kubernetes.Deployment"
    uid=19_703 StaticText " object that represents a Kubernetes Deployment consisting of a single pod running the "
    uid=19_704 StaticText "nginx:latest"
    uid=19_705 StaticText " image."
    uid=19_706 link "install dependencies permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#install-dependencies"
    uid=19_707 StaticText "Install dependencies"
    uid=19_708 StaticText "Install the "
    uid=19_709 StaticText "path"
    uid=19_710 StaticText " package with NPM."
    uid=19_711 StaticText "$"
    uid=19_712 StaticText " npm install path"
    uid=19_713 StaticText "
"
    uid=19_714 StaticText "
"
    uid=19_715 StaticText "added 299 packages, and audited 357 packages in 3s"
    uid=19_716 StaticText "
"
    uid=19_717 StaticText "
"
    uid=19_718 StaticText "33 packages are looking for funding"
    uid=19_719 StaticText "
"
    uid=19_720 StaticText "  run `npm fund` for details"
    uid=19_721 StaticText "
"
    uid=19_722 StaticText "
"
    uid=19_723 StaticText "found 0 vulnerabilities"
    uid=19_724 StaticText "
"
    uid=19_725 button "Copy" description="$ npm install path added 299 packages, and audited 357 packages in 3s 33 packages are looking for funding run `npm fund` for details found 0 vulnerabilities"
    uid=19_726 link "synthesize your application permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#synthesize-your-application"
    uid=19_727 StaticText "Synthesize your application"
    uid=19_728 StaticText "Use the "
    uid=19_729 StaticText "cdktf synth"
    uid=19_730 StaticText " command to generate Terraform configuration from your code."
    uid=19_731 StaticText "$"
    uid=19_732 StaticText " cdktf synth"
    uid=19_733 StaticText "
"
    uid=19_734 StaticText "Generated Terraform code for the stacks: app"
    uid=19_735 StaticText "
"
    uid=19_736 button "Copy" description="$ cdktf synth Generated Terraform code for the stacks: app"
    uid=19_737 StaticText "In your text editor, review the contents of "
    uid=19_738 StaticText "app/cdktf.out/stacks/app/cdk.tf.json"
    uid=19_739 StaticText ". This is Terraform configuration in JSON format that CDKTF generated based on your TypeScript code in "
    uid=19_740 StaticText "main.ts"
    uid=19_741 StaticText "."
    uid=19_742 link "deploy your app permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#deploy-your-app"
    uid=19_743 StaticText "Deploy your app"
    uid=19_744 StaticText "The "
    uid=19_745 StaticText "cdktf deploy"
    uid=19_746 StaticText " command will use Terraform to apply the configuration generated by "
    uid=19_747 StaticText "cdktf synth"
    uid=19_748 StaticText "."
    uid=19_749 StaticText "Create your Kubernetes Deployment with "
    uid=19_750 StaticText "cdktf deploy"
    uid=19_751 StaticText ". Respond to the confirmation prompt with "
    uid=19_752 StaticText "Approve"
    uid=19_753 StaticText "."
    uid=19_754 StaticText "$"
    uid=19_755 StaticText " cdktf deploy"
    uid=19_756 StaticText "
"
    uid=19_757 StaticText "app  Initializing the backend..."
    uid=19_758 StaticText "
"
    uid=19_759 StaticText "app"
    uid=19_760 StaticText "
"
    uid=19_761 StaticText "     Successfully configured the backend "local"! Terraform will automatically"
    uid=19_762 StaticText "
"
    uid=19_763 StaticText "     use this backend unless the backend configuration changes."
    uid=19_764 StaticText "
"
    uid=19_765 StaticText "app  Initializing provider plugins..."
    uid=19_766 StaticText "
"
    uid=19_767 StaticText "app  - Finding hashicorp/kubernetes versions matching "2.14.0"..."
    uid=19_768 StaticText "
"
    uid=19_769 StaticText "app  - Using hashicorp/kubernetes v2.14.0 from the shared cache directory"
    uid=19_770 StaticText "
"
    uid=19_771 StaticText "##..."
    uid=19_772 StaticText "
"
    uid=19_773 StaticText "     Plan: 1 to add, 0 to change, 0 to destroy."
    uid=19_774 StaticText "
"
    uid=19_775 StaticText "
"
    uid=19_776 StaticText "     ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ"
    uid=19_777 StaticText "
"
    uid=19_778 StaticText "
"
    uid=19_779 StaticText "     Saved the plan to: plan"
    uid=19_780 StaticText "
"
    uid=19_781 StaticText "
"
    uid=19_782 StaticText "     To perform exactly these actions, run the following command to apply:"
    uid=19_783 StaticText "
"
    uid=19_784 StaticText "         terraform apply "plan""
    uid=19_785 StaticText "
"
    uid=19_786 StaticText "
"
    uid=19_787 StaticText "Please review the diff output above for app"
    uid=19_788 StaticText "
"
    uid=19_789 StaticText "‚ùØ"
    uid=19_790 StaticText " Approve  Applies the changes outlined "
    uid=19_791 StaticText "in"
    uid=19_792 StaticText " the plan."
    uid=19_793 StaticText "
"
    uid=19_794 StaticText "  Dismiss"
    uid=19_795 StaticText "
"
    uid=19_796 StaticText "  Stop"
    uid=19_797 StaticText "
"
    uid=19_798 StaticText "##..."
    uid=19_799 StaticText "
"
    uid=19_800 StaticText "app  kubernetes_deployment.myapp (myapp): Creating..."
    uid=19_801 StaticText "
"
    uid=19_802 StaticText "app  kubernetes_deployment.myapp (myapp): Creation complete after 8s [id=default/myapp]"
    uid=19_803 StaticText "
"
    uid=19_804 StaticText "app"
    uid=19_805 StaticText "
"
    uid=19_806 StaticText "     Apply complete! Resources: 1 added, 0 changed, 0 destroyed."
    uid=19_807 StaticText "
"
    uid=19_808 StaticText "
"
    uid=19_809 StaticText "
"
    uid=19_810 StaticText "No outputs found."
    uid=19_811 StaticText "
"
    uid=19_812 button "Copy" description="$ cdktf deploy app Initializing the backend... app Successfully configured the backend "local"! Terraform will automatically use this backend unless the backend configuration changes. app Initializing provider plugins... app - Finding hashicorp/kubernetes versions matching "2.14.0"... app - Using hashicorp/kubernetes v2.14.0 from the shared cache directory ##... Plan: 1 to add, 0 to change, 0 to destroy. ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply "plan" Please review the diff output above for app ‚ùØ Approve Applies the changes outlined in the plan. Dismiss Stop ##... app kubernetes_deployment.myapp (myapp): Creating... app kubernetes_deployment.myapp (myapp): Creation complete after 8s [id=default/myapp] app Apply complete! Resources: 1 added, 0 changed, 0 destroyed. No outputs found."
    uid=19_813 StaticText "The "
    uid=19_814 StaticText "deploy"
    uid=19_815 StaticText " command synthesizes your Terraform configuration if needed, so you will skip "
    uid=19_816 StaticText "cdktf synth"
    uid=19_817 StaticText " for the rest of the tutorial."
    uid=19_818 StaticText "List your deployments with "
    uid=19_819 StaticText "kubectl"
    uid=19_820 StaticText "."
    uid=19_821 StaticText "$"
    uid=19_822 StaticText " kubectl get deployments"
    uid=19_823 StaticText "
"
    uid=19_824 StaticText "NAME    READY   UP-TO-DATE   AVAILABLE   AGE"
    uid=19_825 StaticText "
"
    uid=19_826 StaticText "myapp   1/1     1            1           117s"
    uid=19_827 StaticText "
"
    uid=19_828 button "Copy" description="$ kubectl get deployments NAME READY UP-TO-DATE AVAILABLE AGE myapp 1/1 1 1 117s"
    uid=19_829 link "update replica count permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#update-replica-count"
    uid=19_830 StaticText "Update replica count"
    uid=19_831 StaticText "As with Terraform, you can use CDKTF to update your existing resources."
    uid=19_832 StaticText "In your editor, update "
    uid=19_833 StaticText "main.ts"
    uid=19_834 StaticText " to change the number of replicas for your deployment from "
    uid=19_835 StaticText "1"
    uid=19_836 StaticText " to "
    uid=19_837 StaticText "4"
    uid=19_838 StaticText "."
    uid=19_839 StaticText "main.ts"
    uid=19_840 StaticText "       spec: {"
    uid=19_841 StaticText "
"
    uid=19_842 StaticText "-"
    uid=19_843 StaticText "        replicas: '1',"
    uid=19_844 StaticText "
"
    uid=19_845 StaticText "+"
    uid=19_846 StaticText "        replicas: '4',"
    uid=19_847 StaticText "
"
    uid=19_848 StaticText "         selector: {"
    uid=19_849 StaticText "
"
    uid=19_850 StaticText "Deploy your application again. Respond to the confirmation prompt by choosing "
    uid=19_851 StaticText "Approve"
    uid=19_852 StaticText "."
    uid=19_853 StaticText "$"
    uid=19_854 StaticText " cdktf deploy"
    uid=19_855 StaticText "
"
    uid=19_856 StaticText "app  Initializing the backend..."
    uid=19_857 StaticText "
"
    uid=19_858 StaticText "app  Initializing provider plugins..."
    uid=19_859 StaticText "
"
    uid=19_860 StaticText "app  - Reusing previous version of hashicorp/kubernetes from the dependency lock file"
    uid=19_861 StaticText "
"
    uid=19_862 StaticText "app  - Using previously-installed hashicorp/kubernetes v2.14.0"
    uid=19_863 StaticText "
"
    uid=19_864 StaticText "app  Terraform has been successfully initialized!"
    uid=19_865 StaticText "
"
    uid=19_866 StaticText "
"
    uid=19_867 StaticText "##..."
    uid=19_868 StaticText "
"
    uid=19_869 StaticText "
"
    uid=19_870 StaticText "     Terraform will perform the following actions:"
    uid=19_871 StaticText "
"
    uid=19_872 StaticText "app    # kubernetes_deployment.myapp (myapp) will be updated in-place"
    uid=19_873 StaticText "
"
    uid=19_874 StaticText "       ~ resource "kubernetes_deployment" "myapp" {"
    uid=19_875 StaticText "
"
    uid=19_876 StaticText "             id               = "default/myapp""
    uid=19_877 StaticText "
"
    uid=19_878 StaticText "             # (1 unchanged attribute hidden)"
    uid=19_879 StaticText "
"
    uid=19_880 StaticText "
"
    uid=19_881 StaticText "           ~ spec {"
    uid=19_882 StaticText "
"
    uid=19_883 StaticText "               ~ replicas                  = "1" -> "4""
    uid=19_884 StaticText "
"
    uid=19_885 StaticText "                 # (4 unchanged attributes hidden)"
    uid=19_886 StaticText "
"
    uid=19_887 StaticText "
"
    uid=19_888 StaticText "                 # (3 unchanged blocks hidden)"
    uid=19_889 StaticText "
"
    uid=19_890 StaticText "             }"
    uid=19_891 StaticText "
"
    uid=19_892 StaticText "
"
    uid=19_893 StaticText "             # (1 unchanged block hidden)"
    uid=19_894 StaticText "
"
    uid=19_895 StaticText "         }"
    uid=19_896 StaticText "
"
    uid=19_897 StaticText "
"
    uid=19_898 StaticText "     Plan: 0 to add, 1 to change, 0 to destroy."
    uid=19_899 StaticText "
"
    uid=19_900 StaticText "
"
    uid=19_901 StaticText "     ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ"
    uid=19_902 StaticText "
"
    uid=19_903 StaticText "
"
    uid=19_904 StaticText "     Saved the plan to: plan"
    uid=19_905 StaticText "
"
    uid=19_906 StaticText "
"
    uid=19_907 StaticText "     To perform exactly these actions, run the following command to apply:"
    uid=19_908 StaticText "
"
    uid=19_909 StaticText "     terraform apply "plan""
    uid=19_910 StaticText "
"
    uid=19_911 StaticText "Please review the diff output above for app"
    uid=19_912 StaticText "
"
    uid=19_913 StaticText "‚ùØ"
    uid=19_914 StaticText " Approve  Applies the changes outlined "
    uid=19_915 StaticText "in"
    uid=19_916 StaticText " the plan."
    uid=19_917 StaticText "
"
    uid=19_918 StaticText "  Dismiss"
    uid=19_919 StaticText "
"
    uid=19_920 StaticText "  Stop"
    uid=19_921 StaticText "
"
    uid=19_922 StaticText "##..."
    uid=19_923 StaticText "
"
    uid=19_924 StaticText "app  kubernetes_deployment.myapp (myapp): Modifying... [id=default/myapp]"
    uid=19_925 StaticText "
"
    uid=19_926 StaticText "app  kubernetes_deployment.myapp (myapp): Modifications complete after 4s [id=default/myapp]"
    uid=19_927 StaticText "
"
    uid=19_928 StaticText "app"
    uid=19_929 StaticText "
"
    uid=19_930 StaticText "     Apply complete! Resources: 0 added, 1 changed, 0 destroyed."
    uid=19_931 StaticText "
"
    uid=19_932 StaticText "
"
    uid=19_933 StaticText "
"
    uid=19_934 StaticText "No outputs found."
    uid=19_935 StaticText "
"
    uid=19_936 button "Copy" description="$ cdktf deploy app Initializing the backend... app Initializing provider plugins... app - Reusing previous version of hashicorp/kubernetes from the dependency lock file app - Using previously-installed hashicorp/kubernetes v2.14.0 app Terraform has been successfully initialized! ##... Terraform will perform the following actions: app # kubernetes_deployment.myapp (myapp) will be updated in-place ~ resource "kubernetes_deployment" "myapp" { id = "default/myapp" # (1 unchanged attribute hidden) ~ spec { ~ replicas = "1" -> "4" # (4 unchanged attributes hidden) # (3 unchanged blocks hidden) } # (1 unchanged block hidden) } Plan: 0 to add, 1 to change, 0 to destroy. ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply "plan" Please review the diff output above for app ‚ùØ Approve Applies the changes outlined in the plan."
    uid=19_937 StaticText "After Kubernetes finishes applying this change, "
    uid=19_938 StaticText "kubectl"
    uid=19_939 StaticText " will report four instances of your applicaton."
    uid=19_940 StaticText "$"
    uid=19_941 StaticText " kubectl get deployments"
    uid=19_942 StaticText "
"
    uid=19_943 StaticText "NAME    READY   UP-TO-DATE   AVAILABLE   AGE"
    uid=19_944 StaticText "
"
    uid=19_945 StaticText "myapp   4/4     4            4           8m31s"
    uid=19_946 StaticText "
"
    uid=19_947 button "Copy" description="$ kubectl get deployments NAME READY UP-TO-DATE AVAILABLE AGE myapp 4/4 4 4 8m31s"
    uid=19_948 link "refactor your deployment permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#refactor-your-deployment"
    uid=19_949 StaticText "Refactor your deployment"
    uid=19_950 StaticText "CDKTF applications are made up of constructs which represent the infrastruture CDKTF will manage for you. You can extend the "
    uid=19_951 StaticText "Construct"
    uid=19_952 StaticText " class to define your own constructs. This way, you can create reusable components that will make up your application infrastructure."
    uid=19_953 link "create construct permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#create-construct"
    uid=19_954 StaticText "Create construct"
    uid=19_955 StaticText "Refactor your Deployment using a CDKTF construct."
    uid=19_956 StaticText "Create a new directory for your constructs inside the "
    uid=19_957 StaticText "learn-terraform-cdktf-applications/app"
    uid=19_958 StaticText " directory."
    uid=19_959 StaticText "$"
    uid=19_960 StaticText " mkdir constructs"
    uid=19_961 StaticText "
"
    uid=19_962 button "Copy" description="$ mkdir constructs"
    uid=19_963 StaticText "Inside the "
    uid=19_964 StaticText "constructs"
    uid=19_965 StaticText " directory, create a new file named "
    uid=19_966 StaticText "kubernetes-web-app.ts"
    uid=19_967 StaticText " for the Kubernetes web application constructs you will create in this tutorial."
    uid=19_968 StaticText "constructs/kubernetes-web-app.ts"
    uid=19_969 StaticText "import"
    uid=19_970 StaticText " { Construct } "
    uid=19_971 StaticText "from"
    uid=19_972 StaticText " "constructs""
    uid=19_973 StaticText "
"
    uid=19_974 StaticText "import"
    uid=19_975 StaticText " *"
    uid=19_976 StaticText " as"
    uid=19_977 StaticText " kubernetes "
    uid=19_978 StaticText "from"
    uid=19_979 StaticText " "@cdktf/provider-kubernetes""
    uid=19_980 StaticText "
"
    uid=19_981 StaticText "
"
    uid=19_982 StaticText "export"
    uid=19_983 StaticText " interface"
    uid=19_984 StaticText " KubernetesWebAppDeploymentConfig"
    uid=19_985 StaticText " {"
    uid=19_986 StaticText "
"
    uid=19_987 StaticText "  readonly"
    uid=19_988 StaticText " image"
    uid=19_989 StaticText ":"
    uid=19_990 StaticText " string"
    uid=19_991 StaticText "
"
    uid=19_992 StaticText "  readonly"
    uid=19_993 StaticText " replicas"
    uid=19_994 StaticText ":"
    uid=19_995 StaticText " number"
    uid=19_996 StaticText "
"
    uid=19_997 StaticText "  readonly"
    uid=19_998 StaticText " app"
    uid=19_999 StaticText ":"
    uid=19_1000 StaticText " string"
    uid=19_1001 StaticText "
"
    uid=19_1002 StaticText "  readonly"
    uid=19_1003 StaticText " component"
    uid=19_1004 StaticText ":"
    uid=19_1005 StaticText " string"
    uid=19_1006 StaticText "
"
    uid=19_1007 StaticText "  readonly"
    uid=19_1008 StaticText " environment"
    uid=19_1009 StaticText ":"
    uid=19_1010 StaticText " string"
    uid=19_1011 StaticText "
"
    uid=19_1012 StaticText "  readonly"
    uid=19_1013 StaticText " env"
    uid=19_1014 StaticText "?:"
    uid=19_1015 StaticText " Record"
    uid=19_1016 StaticText "<"
    uid=19_1017 StaticText "string"
    uid=19_1018 StaticText ","
    uid=19_1019 StaticText " string"
    uid=19_1020 StaticText ">"
    uid=19_1021 StaticText "
"
    uid=19_1022 StaticText "}"
    uid=19_1023 StaticText "
"
    uid=19_1024 StaticText "
"
    uid=19_1025 StaticText "export"
    uid=19_1026 StaticText " class"
    uid=19_1027 StaticText " KubernetesWebAppDeployment"
    uid=19_1028 StaticText " extends"
    uid=19_1029 StaticText " Construct"
    uid=19_1030 StaticText " {"
    uid=19_1031 StaticText "
"
    uid=19_1032 StaticText "  public"
    uid=19_1033 StaticText " readonly"
    uid=19_1034 StaticText " resource"
    uid=19_1035 StaticText ":"
    uid=19_1036 StaticText " kubernetes"
    uid=19_1037 StaticText "."
    uid=19_1038 StaticText "deployment"
    uid=19_1039 StaticText "."
    uid=19_1040 StaticText "Deployment"
    uid=19_1041 StaticText "
"
    uid=19_1042 StaticText "
"
    uid=19_1043 StaticText "  constructor"
    uid=19_1044 StaticText "("
    uid=19_1045 StaticText "
"
    uid=19_1046 StaticText "    scope"
    uid=19_1047 StaticText ":"
    uid=19_1048 StaticText " Construct"
    uid=19_1049 StaticText ","
    uid=19_1050 StaticText "
"
    uid=19_1051 StaticText "    name"
    uid=19_1052 StaticText ":"
    uid=19_1053 StaticText " string"
    uid=19_1054 StaticText ","
    uid=19_1055 StaticText "
"
    uid=19_1056 StaticText "    config"
    uid=19_1057 StaticText ":"
    uid=19_1058 StaticText " KubernetesWebAppDeploymentConfig"
    uid=19_1059 StaticText "
"
    uid=19_1060 StaticText "  ) {"
    uid=19_1061 StaticText "
"
    uid=19_1062 StaticText "    super"
    uid=19_1063 StaticText "(scope"
    uid=19_1064 StaticText ","
    uid=19_1065 StaticText " name)"
    uid=19_1066 StaticText "
"
    uid=19_1067 StaticText "
"
    uid=19_1068 StaticText "    this"
    uid=19_1069 StaticText ".resource "
    uid=19_1070 StaticText "="
    uid=19_1071 StaticText " new"
    uid=19_1072 StaticText " kubernetes"
    uid=19_1073 StaticText "."
    uid=19_1074 StaticText "deployment"
    uid=19_1075 StaticText ".Deployment"
    uid=19_1076 StaticText "("
    uid=19_1077 StaticText "this"
    uid=19_1078 StaticText ","
    uid=19_1079 StaticText " name"
    uid=19_1080 StaticText ","
    uid=19_1081 StaticText " {"
    uid=19_1082 StaticText "
"
    uid=19_1083 StaticText "      metadata"
    uid=19_1084 StaticText ":"
    uid=19_1085 StaticText " {"
    uid=19_1086 StaticText "
"
    uid=19_1087 StaticText "        labels"
    uid=19_1088 StaticText ":"
    uid=19_1089 StaticText " {"
    uid=19_1090 StaticText "
"
    uid=19_1091 StaticText "          app"
    uid=19_1092 StaticText ":"
    uid=19_1093 StaticText " config"
    uid=19_1094 StaticText ".app"
    uid=19_1095 StaticText ","
    uid=19_1096 StaticText "
"
    uid=19_1097 StaticText "          component"
    uid=19_1098 StaticText ":"
    uid=19_1099 StaticText " config"
    uid=19_1100 StaticText ".component"
    uid=19_1101 StaticText ","
    uid=19_1102 StaticText "
"
    uid=19_1103 StaticText "          environment"
    uid=19_1104 StaticText ":"
    uid=19_1105 StaticText " config"
    uid=19_1106 StaticText ".environment"
    uid=19_1107 StaticText ","
    uid=19_1108 StaticText "
"
    uid=19_1109 StaticText "        }"
    uid=19_1110 StaticText ","
    uid=19_1111 StaticText "
"
    uid=19_1112 StaticText "        name"
    uid=19_1113 StaticText ":"
    uid=19_1114 StaticText " `"
    uid=19_1115 StaticText "${"
    uid=19_1116 StaticText "config"
    uid=19_1117 StaticText ".app"
    uid=19_1118 StaticText "}"
    uid=19_1119 StaticText "-"
    uid=19_1120 StaticText "${"
    uid=19_1121 StaticText "config"
    uid=19_1122 StaticText ".component"
    uid=19_1123 StaticText "}"
    uid=19_1124 StaticText "-"
    uid=19_1125 StaticText "${"
    uid=19_1126 StaticText "config"
    uid=19_1127 StaticText ".environment"
    uid=19_1128 StaticText "}"
    uid=19_1129 StaticText "`"
    uid=19_1130 StaticText ","
    uid=19_1131 StaticText "
"
    uid=19_1132 StaticText "      }"
    uid=19_1133 StaticText ","
    uid=19_1134 StaticText "
"
    uid=19_1135 StaticText "      spec"
    uid=19_1136 StaticText ":"
    uid=19_1137 StaticText " {"
    uid=19_1138 StaticText "
"
    uid=19_1139 StaticText "        replicas"
    uid=19_1140 StaticText ":"
    uid=19_1141 StaticText " config"
    uid=19_1142 StaticText "."
    uid=19_1143 StaticText "replicas"
    uid=19_1144 StaticText ".toString"
    uid=19_1145 StaticText "()"
    uid=19_1146 StaticText ","
    uid=19_1147 StaticText "
"
    uid=19_1148 StaticText "        selector"
    uid=19_1149 StaticText ":"
    uid=19_1150 StaticText " {"
    uid=19_1151 StaticText "
"
    uid=19_1152 StaticText "          matchLabels"
    uid=19_1153 StaticText ":"
    uid=19_1154 StaticText " {"
    uid=19_1155 StaticText "
"
    uid=19_1156 StaticText "            app"
    uid=19_1157 StaticText ":"
    uid=19_1158 StaticText " config"
    uid=19_1159 StaticText ".app"
    uid=19_1160 StaticText ","
    uid=19_1161 StaticText "
"
    uid=19_1162 StaticText "            component"
    uid=19_1163 StaticText ":"
    uid=19_1164 StaticText " config"
    uid=19_1165 StaticText ".component"
    uid=19_1166 StaticText ","
    uid=19_1167 StaticText "
"
    uid=19_1168 StaticText "            environment"
    uid=19_1169 StaticText ":"
    uid=19_1170 StaticText " config"
    uid=19_1171 StaticText ".environment"
    uid=19_1172 StaticText ","
    uid=19_1173 StaticText "
"
    uid=19_1174 StaticText "          }"
    uid=19_1175 StaticText ","
    uid=19_1176 StaticText "
"
    uid=19_1177 StaticText "        }"
    uid=19_1178 StaticText ","
    uid=19_1179 StaticText "
"
    uid=19_1180 StaticText "        template"
    uid=19_1181 StaticText ":"
    uid=19_1182 StaticText " {"
    uid=19_1183 StaticText "
"
    uid=19_1184 StaticText "          metadata"
    uid=19_1185 StaticText ":"
    uid=19_1186 StaticText " {"
    uid=19_1187 StaticText "
"
    uid=19_1188 StaticText "            labels"
    uid=19_1189 StaticText ":"
    uid=19_1190 StaticText " {"
    uid=19_1191 StaticText "
"
    uid=19_1192 StaticText "              app"
    uid=19_1193 StaticText ":"
    uid=19_1194 StaticText " config"
    uid=19_1195 StaticText ".app"
    uid=19_1196 StaticText ","
    uid=19_1197 StaticText "
"
    uid=19_1198 StaticText "              component"
    uid=19_1199 StaticText ":"
    uid=19_1200 StaticText " config"
    uid=19_1201 StaticText ".component"
    uid=19_1202 StaticText ","
    uid=19_1203 StaticText "
"
    uid=19_1204 StaticText "              environment"
    uid=19_1205 StaticText ":"
    uid=19_1206 StaticText " config"
    uid=19_1207 StaticText ".environment"
    uid=19_1208 StaticText ","
    uid=19_1209 StaticText "
"
    uid=19_1210 StaticText "            }"
    uid=19_1211 StaticText ","
    uid=19_1212 StaticText "
"
    uid=19_1213 StaticText "          }"
    uid=19_1214 StaticText ","
    uid=19_1215 StaticText "
"
    uid=19_1216 StaticText "          spec"
    uid=19_1217 StaticText ":"
    uid=19_1218 StaticText " {"
    uid=19_1219 StaticText "
"
    uid=19_1220 StaticText "            container"
    uid=19_1221 StaticText ":"
    uid=19_1222 StaticText " ["
    uid=19_1223 StaticText "
"
    uid=19_1224 StaticText "              {"
    uid=19_1225 StaticText "
"
    uid=19_1226 StaticText "                image"
    uid=19_1227 StaticText ":"
    uid=19_1228 StaticText " config"
    uid=19_1229 StaticText ".image"
    uid=19_1230 StaticText ","
    uid=19_1231 StaticText "
"
    uid=19_1232 StaticText "                name"
    uid=19_1233 StaticText ":"
    uid=19_1234 StaticText " `"
    uid=19_1235 StaticText "${"
    uid=19_1236 StaticText "config"
    uid=19_1237 StaticText ".app"
    uid=19_1238 StaticText "}"
    uid=19_1239 StaticText "-"
    uid=19_1240 StaticText "${"
    uid=19_1241 StaticText "config"
    uid=19_1242 StaticText ".component"
    uid=19_1243 StaticText "}"
    uid=19_1244 StaticText "-"
    uid=19_1245 StaticText "${"
    uid=19_1246 StaticText "config"
    uid=19_1247 StaticText ".environment"
    uid=19_1248 StaticText "}"
    uid=19_1249 StaticText "`"
    uid=19_1250 StaticText ","
    uid=19_1251 StaticText "
"
    uid=19_1252 StaticText "                env"
    uid=19_1253 StaticText ":"
    uid=19_1254 StaticText " Object"
    uid=19_1255 StaticText ".entries"
    uid=19_1256 StaticText "("
    uid=19_1257 StaticText "config"
    uid=19_1258 StaticText ".env "
    uid=19_1259 StaticText "||"
    uid=19_1260 StaticText " {})"
    uid=19_1261 StaticText ".map"
    uid=19_1262 StaticText "(([name"
    uid=19_1263 StaticText ","
    uid=19_1264 StaticText " value]) "
    uid=19_1265 StaticText "=>"
    uid=19_1266 StaticText " ({"
    uid=19_1267 StaticText "
"
    uid=19_1268 StaticText "                  name"
    uid=19_1269 StaticText ","
    uid=19_1270 StaticText "
"
    uid=19_1271 StaticText "                  value"
    uid=19_1272 StaticText ","
    uid=19_1273 StaticText "
"
    uid=19_1274 StaticText "                }))"
    uid=19_1275 StaticText ","
    uid=19_1276 StaticText "
"
    uid=19_1277 StaticText "              }"
    uid=19_1278 StaticText ","
    uid=19_1279 StaticText "
"
    uid=19_1280 StaticText "            ]"
    uid=19_1281 StaticText ","
    uid=19_1282 StaticText "
"
    uid=19_1283 StaticText "          }"
    uid=19_1284 StaticText ","
    uid=19_1285 StaticText "
"
    uid=19_1286 StaticText "        }"
    uid=19_1287 StaticText ","
    uid=19_1288 StaticText "
"
    uid=19_1289 StaticText "      }"
    uid=19_1290 StaticText ","
    uid=19_1291 StaticText "
"
    uid=19_1292 StaticText "    })"
    uid=19_1293 StaticText "
"
    uid=19_1294 StaticText "  }"
    uid=19_1295 StaticText "
"
    uid=19_1296 StaticText "}"
    uid=19_1297 StaticText "
"
    uid=19_1298 button "Copy" description="import { Construct } from "constructs" import * as kubernetes from "@cdktf/provider-kubernetes" export interface KubernetesWebAppDeploymentConfig { readonly image: string readonly replicas: number readonly app: string readonly component: string readonly environment: string readonly env?: Record<string, string> } export class KubernetesWebAppDeployment extends Construct { public readonly resource: kubernetes.deployment.Deployment constructor( scope: Construct,"
    uid=19_1299 StaticText "This code imports the "
    uid=19_1300 StaticText "Construct"
    uid=19_1301 StaticText " base class, as well as the Kubernetes provider library you installed earlier. Then, it defines an interface you will use to configure your web application deployments. Finally, it defines a class named "
    uid=19_1302 StaticText "KubernetesWebAppDeployment"
    uid=19_1303 StaticText " which extends the "
    uid=19_1304 StaticText "Construct"
    uid=19_1305 StaticText " base class to define and configure the Kubernetes Deployments you will use to manage the web application for this tutorial."
    uid=19_1306 StaticText "Create a file in the constructs directory named "
    uid=19_1307 StaticText "index.ts"
    uid=19_1308 StaticText ", with the following contents to export the classes and interfaces you define in "
    uid=19_1309 StaticText "kubernetes-web-app.ts"
    uid=19_1310 StaticText "."
    uid=19_1311 StaticText "constructs/index.ts"
    uid=19_1312 StaticText "export"
    uid=19_1313 StaticText " *"
    uid=19_1314 StaticText " from"
    uid=19_1315 StaticText " "./kubernetes-web-app""
    uid=19_1316 StaticText "
"
    uid=19_1317 button "Copy" description="export * from "./kubernetes-web-app""
    uid=19_1318 link "add deployment construct to cdktf application permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#add-deployment-construct-to-cdktf-application"
    uid=19_1319 StaticText "Add Deployment construct to CDKTF application"
    uid=19_1320 StaticText "Open "
    uid=19_1321 StaticText "app/main.ts"
    uid=19_1322 StaticText " and import your new Construct near top of the file."
    uid=19_1323 StaticText "main.ts"
    uid=19_1324 StaticText "import"
    uid=19_1325 StaticText " { Construct } "
    uid=19_1326 StaticText "from"
    uid=19_1327 StaticText " "constructs""
    uid=19_1328 StaticText "
"
    uid=19_1329 StaticText "import"
    uid=19_1330 StaticText " { App"
    uid=19_1331 StaticText ","
    uid=19_1332 StaticText " TerraformStack } "
    uid=19_1333 StaticText "from"
    uid=19_1334 StaticText " "cdktf""
    uid=19_1335 StaticText "
"
    uid=19_1336 StaticText "import"
    uid=19_1337 StaticText " *"
    uid=19_1338 StaticText " as"
    uid=19_1339 StaticText " kubernetes "
    uid=19_1340 StaticText "from"
    uid=19_1341 StaticText " "@cdktf/provider-kubernetes""
    uid=19_1342 StaticText "
"
    uid=19_1343 StaticText "import"
    uid=19_1344 StaticText " *"
    uid=19_1345 StaticText " as"
    uid=19_1346 StaticText " path "
    uid=19_1347 StaticText "from"
    uid=19_1348 StaticText " "path""
    uid=19_1349 StaticText "
"
    uid=19_1350 StaticText "
"
    uid=19_1351 StaticText "import"
    uid=19_1352 StaticText " { KubernetesWebAppDeployment } "
    uid=19_1353 StaticText "from"
    uid=19_1354 StaticText " "./constructs""
    uid=19_1355 StaticText "
"
    uid=19_1356 StaticText "Replace the entire "
    uid=19_1357 StaticText "new kubernetes.deployment.Deployment(this, "myapp", { ... });"
    uid=19_1358 StaticText " block with a new instance of your construct."
    uid=19_1359 StaticText "main.ts"
    uid=19_1360 StaticText "class"
    uid=19_1361 StaticText " MyStack"
    uid=19_1362 StaticText " extends"
    uid=19_1363 StaticText " TerraformStack"
    uid=19_1364 StaticText " {"
    uid=19_1365 StaticText "
"
    uid=19_1366 StaticText "  constructor"
    uid=19_1367 StaticText "(scope"
    uid=19_1368 StaticText ":"
    uid=19_1369 StaticText " Construct"
    uid=19_1370 StaticText ","
    uid=19_1371 StaticText " name"
    uid=19_1372 StaticText ":"
    uid=19_1373 StaticText " string"
    uid=19_1374 StaticText ") {"
    uid=19_1375 StaticText "
"
    uid=19_1376 StaticText "    super"
    uid=19_1377 StaticText "(scope"
    uid=19_1378 StaticText ","
    uid=19_1379 StaticText " name)"
    uid=19_1380 StaticText "
"
    uid=19_1381 StaticText "
"
    uid=19_1382 StaticText "    new"
    uid=19_1383 StaticText " kubernetes"
    uid=19_1384 StaticText "."
    uid=19_1385 StaticText "provider"
    uid=19_1386 StaticText ".KubernetesProvider"
    uid=19_1387 StaticText "("
    uid=19_1388 StaticText "this"
    uid=19_1389 StaticText ","
    uid=19_1390 StaticText " 'kind'"
    uid=19_1391 StaticText ","
    uid=19_1392 StaticText " {"
    uid=19_1393 StaticText "
"
    uid=19_1394 StaticText "      configPath"
    uid=19_1395 StaticText ":"
    uid=19_1396 StaticText " path"
    uid=19_1397 StaticText ".join"
    uid=19_1398 StaticText "(__dirname"
    uid=19_1399 StaticText ","
    uid=19_1400 StaticText " '../kubeconfig.yaml'"
    uid=19_1401 StaticText ")"
    uid=19_1402 StaticText ","
    uid=19_1403 StaticText "
"
    uid=19_1404 StaticText "    })"
    uid=19_1405 StaticText "
"
    uid=19_1406 StaticText "
"
    uid=19_1407 StaticText "    new"
    uid=19_1408 StaticText " KubernetesWebAppDeployment"
    uid=19_1409 StaticText "("
    uid=19_1410 StaticText "this"
    uid=19_1411 StaticText ","
    uid=19_1412 StaticText " 'deployment'"
    uid=19_1413 StaticText ","
    uid=19_1414 StaticText " {"
    uid=19_1415 StaticText "
"
    uid=19_1416 StaticText "      image"
    uid=19_1417 StaticText ":"
    uid=19_1418 StaticText " 'nginx:latest'"
    uid=19_1419 StaticText ","
    uid=19_1420 StaticText "
"
    uid=19_1421 StaticText "      replicas"
    uid=19_1422 StaticText ":"
    uid=19_1423 StaticText " 2"
    uid=19_1424 StaticText ","
    uid=19_1425 StaticText "
"
    uid=19_1426 StaticText "      app"
    uid=19_1427 StaticText ":"
    uid=19_1428 StaticText " 'myapp'"
    uid=19_1429 StaticText ","
    uid=19_1430 StaticText "
"
    uid=19_1431 StaticText "      component"
    uid=19_1432 StaticText ":"
    uid=19_1433 StaticText " 'frontend'"
    uid=19_1434 StaticText ","
    uid=19_1435 StaticText "
"
    uid=19_1436 StaticText "      environment"
    uid=19_1437 StaticText ":"
    uid=19_1438 StaticText " 'dev'"
    uid=19_1439 StaticText ","
    uid=19_1440 StaticText "
"
    uid=19_1441 StaticText "    })"
    uid=19_1442 StaticText "
"
    uid=19_1443 StaticText "  }"
    uid=19_1444 StaticText "
"
    uid=19_1445 StaticText "}"
    uid=19_1446 StaticText "
"
    uid=19_1447 StaticText "Tip"
    uid=19_1448 StaticText "Be sure to replace the entire "
    uid=19_1449 StaticText "kubernetes.deployment.Deployment"
    uid=19_1450 StaticText " block. If you get stuck editing the file, replace the entire file with the code below."
    uid=19_1451 StaticText "Now "
    uid=19_1452 StaticText "main.ts"
    uid=19_1453 StaticText " will contain:"
    uid=19_1454 StaticText "main.ts"
    uid=19_1455 StaticText "import"
    uid=19_1456 StaticText " { Construct } "
    uid=19_1457 StaticText "from"
    uid=19_1458 StaticText " "constructs""
    uid=19_1459 StaticText "
"
    uid=19_1460 StaticText "import"
    uid=19_1461 StaticText " { App"
    uid=19_1462 StaticText ","
    uid=19_1463 StaticText " TerraformStack } "
    uid=19_1464 StaticText "from"
    uid=19_1465 StaticText " "cdktf""
    uid=19_1466 StaticText "
"
    uid=19_1467 StaticText "import"
    uid=19_1468 StaticText " *"
    uid=19_1469 StaticText " as"
    uid=19_1470 StaticText " kubernetes "
    uid=19_1471 StaticText "from"
    uid=19_1472 StaticText " "@cdktf/provider-kubernetes""
    uid=19_1473 StaticText "
"
    uid=19_1474 StaticText "import"
    uid=19_1475 StaticText " *"
    uid=19_1476 StaticText " as"
    uid=19_1477 StaticText " path "
    uid=19_1478 StaticText "from"
    uid=19_1479 StaticText " "path""
    uid=19_1480 StaticText "
"
    uid=19_1481 StaticText "
"
    uid=19_1482 StaticText "import"
    uid=19_1483 StaticText " { KubernetesWebAppDeployment } "
    uid=19_1484 StaticText "from"
    uid=19_1485 StaticText " "./constructs""
    uid=19_1486 StaticText "
"
    uid=19_1487 StaticText "
"
    uid=19_1488 StaticText "class"
    uid=19_1489 StaticText " MyStack"
    uid=19_1490 StaticText " extends"
    uid=19_1491 StaticText " TerraformStack"
    uid=19_1492 StaticText " {"
    uid=19_1493 StaticText "
"
    uid=19_1494 StaticText "  constructor"
    uid=19_1495 StaticText "(scope"
    uid=19_1496 StaticText ":"
    uid=19_1497 StaticText " Construct"
    uid=19_1498 StaticText ","
    uid=19_1499 StaticText " name"
    uid=19_1500 StaticText ":"
    uid=19_1501 StaticText " string"
    uid=19_1502 StaticText ") {"
    uid=19_1503 StaticText "
"
    uid=19_1504 StaticText "    super"
    uid=19_1505 StaticText "(scope"
    uid=19_1506 StaticText ","
    uid=19_1507 StaticText " name)"
    uid=19_1508 StaticText "
"
    uid=19_1509 StaticText "
"
    uid=19_1510 StaticText "    new"
    uid=19_1511 StaticText " kubernetes"
    uid=19_1512 StaticText "."
    uid=19_1513 StaticText "provider"
    uid=19_1514 StaticText ".KubernetesProvider"
    uid=19_1515 StaticText "("
    uid=19_1516 StaticText "this"
    uid=19_1517 StaticText ","
    uid=19_1518 StaticText " 'kind'"
    uid=19_1519 StaticText ","
    uid=19_1520 StaticText " {"
    uid=19_1521 StaticText "
"
    uid=19_1522 StaticText "      configPath"
    uid=19_1523 StaticText ":"
    uid=19_1524 StaticText " path"
    uid=19_1525 StaticText ".join"
    uid=19_1526 StaticText "(__dirname"
    uid=19_1527 StaticText ","
    uid=19_1528 StaticText " '../kubeconfig.yaml'"
    uid=19_1529 StaticText ")"
    uid=19_1530 StaticText ","
    uid=19_1531 StaticText "
"
    uid=19_1532 StaticText "    })"
    uid=19_1533 StaticText "
"
    uid=19_1534 StaticText "
"
    uid=19_1535 StaticText "    new"
    uid=19_1536 StaticText " KubernetesWebAppDeployment"
    uid=19_1537 StaticText "("
    uid=19_1538 StaticText "this"
    uid=19_1539 StaticText ","
    uid=19_1540 StaticText " 'deployment'"
    uid=19_1541 StaticText ","
    uid=19_1542 StaticText " {"
    uid=19_1543 StaticText "
"
    uid=19_1544 StaticText "      image"
    uid=19_1545 StaticText ":"
    uid=19_1546 StaticText " 'nginx:latest'"
    uid=19_1547 StaticText ","
    uid=19_1548 StaticText "
"
    uid=19_1549 StaticText "      replicas"
    uid=19_1550 StaticText ":"
    uid=19_1551 StaticText " 2"
    uid=19_1552 StaticText ","
    uid=19_1553 StaticText "
"
    uid=19_1554 StaticText "      app"
    uid=19_1555 StaticText ":"
    uid=19_1556 StaticText " 'myapp'"
    uid=19_1557 StaticText ","
    uid=19_1558 StaticText "
"
    uid=19_1559 StaticText "      component"
    uid=19_1560 StaticText ":"
    uid=19_1561 StaticText " 'frontend'"
    uid=19_1562 StaticText ","
    uid=19_1563 StaticText "
"
    uid=19_1564 StaticText "      environment"
    uid=19_1565 StaticText ":"
    uid=19_1566 StaticText " 'dev'"
    uid=19_1567 StaticText ","
    uid=19_1568 StaticText "
"
    uid=19_1569 StaticText "    })"
    uid=19_1570 StaticText "
"
    uid=19_1571 StaticText "  }"
    uid=19_1572 StaticText "
"
    uid=19_1573 StaticText "}"
    uid=19_1574 StaticText "
"
    uid=19_1575 StaticText "
"
    uid=19_1576 StaticText "const"
    uid=19_1577 StaticText " app"
    uid=19_1578 StaticText " ="
    uid=19_1579 StaticText " new"
    uid=19_1580 StaticText " App"
    uid=19_1581 StaticText "()"
    uid=19_1582 StaticText "
"
    uid=19_1583 StaticText "new"
    uid=19_1584 StaticText " MyStack"
    uid=19_1585 StaticText "(app"
    uid=19_1586 StaticText ","
    uid=19_1587 StaticText " 'app'"
    uid=19_1588 StaticText ")"
    uid=19_1589 StaticText "
"
    uid=19_1590 StaticText "app"
    uid=19_1591 StaticText ".synth"
    uid=19_1592 StaticText "()"
    uid=19_1593 StaticText "
"
    uid=19_1594 button "Copy" description="import { Construct } from "constructs" import { App, TerraformStack } from "cdktf" import * as kubernetes from "@cdktf/provider-kubernetes" import * as path from "path" import { KubernetesWebAppDeployment } from "./constructs" class MyStack extends TerraformStack { constructor(scope: Construct, name: string) { super(scope, name) new kubernetes.provider.KubernetesProvider(this, 'kind', { configPath: path.join(__dirname, '../kubeconfig.yaml'), }) new KubernetesWebAppDeployment("
    uid=19_1595 StaticText "Deploy your application. This will reduce the number of replicas for your deployment from four to two, as specified in the arguments to "
    uid=19_1596 StaticText "KubernetesWebAppDeployment"
    uid=19_1597 StaticText ". Respond to the confirmation prompt by choosing "
    uid=19_1598 StaticText "Approve"
    uid=19_1599 StaticText "."
    uid=19_1600 StaticText "$"
    uid=19_1601 StaticText " cdktf deploy"
    uid=19_1602 StaticText "
"
    uid=19_1603 StaticText "app  Initializing the backend..."
    uid=19_1604 StaticText "
"
    uid=19_1605 StaticText "app  Initializing provider plugins..."
    uid=19_1606 StaticText "
"
    uid=19_1607 StaticText "app  - Reusing previous version of hashicorp/kubernetes from the dependency lock file"
    uid=19_1608 StaticText "
"
    uid=19_1609 StaticText "app  - Using previously-installed hashicorp/kubernetes v2.14.0"
    uid=19_1610 StaticText "
"
    uid=19_1611 StaticText "app  Terraform has been successfully initialized!"
    uid=19_1612 StaticText "
"
    uid=19_1613 StaticText "##..."
    uid=19_1614 StaticText "
"
    uid=19_1615 StaticText "     Plan: 1 to add, 0 to change, 1 to destroy."
    uid=19_1616 StaticText "
"
    uid=19_1617 StaticText "
"
    uid=19_1618 StaticText "     ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ"
    uid=19_1619 StaticText "
"
    uid=19_1620 StaticText "
"
    uid=19_1621 StaticText "     Saved the plan to: plan"
    uid=19_1622 StaticText "
"
    uid=19_1623 StaticText "
"
    uid=19_1624 StaticText "     To perform exactly these actions, run the following command to apply:"
    uid=19_1625 StaticText "
"
    uid=19_1626 StaticText "         terraform apply "plan""
    uid=19_1627 StaticText "
"
    uid=19_1628 StaticText "
"
    uid=19_1629 StaticText "Please review the diff output above for app"
    uid=19_1630 StaticText "
"
    uid=19_1631 StaticText "‚ùØ"
    uid=19_1632 StaticText " Approve  Applies the changes outlined "
    uid=19_1633 StaticText "in"
    uid=19_1634 StaticText " the plan."
    uid=19_1635 StaticText "
"
    uid=19_1636 StaticText "  Dismiss"
    uid=19_1637 StaticText "
"
    uid=19_1638 StaticText "  Stop"
    uid=19_1639 StaticText "
"
    uid=19_1640 StaticText "##..."
    uid=19_1641 StaticText "
"
    uid=19_1642 StaticText "app  kubernetes_deployment.myapp: Destroying... [id=default/myapp]"
    uid=19_1643 StaticText "
"
    uid=19_1644 StaticText "app  kubernetes_deployment.deployment_7B0B4E40 (deployment/deployment): Creating..."
    uid=19_1645 StaticText "
"
    uid=19_1646 StaticText "app  kubernetes_deployment.myapp: Destruction complete after 0s"
    uid=19_1647 StaticText "
"
    uid=19_1648 StaticText "app  kubernetes_deployment.deployment_7B0B4E40 (deployment/deployment): Creation complete after 8s [id=default/myapp-frontend-dev]"
    uid=19_1649 StaticText "
"
    uid=19_1650 StaticText "app"
    uid=19_1651 StaticText "
"
    uid=19_1652 StaticText "     Apply complete! Resources: 1 added, 0 changed, 1 destroyed."
    uid=19_1653 StaticText "
"
    uid=19_1654 StaticText "
"
    uid=19_1655 StaticText "
"
    uid=19_1656 StaticText "No outputs found."
    uid=19_1657 StaticText "
"
    uid=19_1658 button "Copy" description="$ cdktf deploy app Initializing the backend... app Initializing provider plugins... app - Reusing previous version of hashicorp/kubernetes from the dependency lock file app - Using previously-installed hashicorp/kubernetes v2.14.0 app Terraform has been successfully initialized! ##... Plan: 1 to add, 0 to change, 1 to destroy. ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply "plan" Please review the diff output above for app ‚ùØ Approve Applies the changes outlined in the plan. Dismiss Stop ##... app kubernetes_deployment.myapp: Destroying... [id=default/myapp] app kubernetes_deployment.deployment_7B0B4E40 (deployment/deployment): Creating... app kubernetes_deployment.myapp: Destruction complete after 0s app kubernetes_deployment.deployment_7B0B4E40 (deployment/deployment): Creation complete after 8s [id=default/myapp-frontend-dev] app Apply complete! Resources: 1 added, 0 changed, 1 destroyed. No outputs found."
    uid=19_1659 StaticText "The name of your deployment resource now includes a unique suffix. CDKTF adds this suffix to resources defined inside of constructs to ensure that each resource in the Terraform configuration it generates has a unique name."
    uid=19_1660 StaticText "Use "
    uid=19_1661 StaticText "kubectl"
    uid=19_1662 StaticText " to report your deployment's status."
    uid=19_1663 StaticText "$"
    uid=19_1664 StaticText " kubectl get deployments"
    uid=19_1665 StaticText "
"
    uid=19_1666 StaticText "NAME                 READY   UP-TO-DATE   AVAILABLE   AGE"
    uid=19_1667 StaticText "
"
    uid=19_1668 StaticText "myapp-frontend-dev   2/2     2            2           5m14s"
    uid=19_1669 StaticText "
"
    uid=19_1670 button "Copy" description="$ kubectl get deployments NAME READY UP-TO-DATE AVAILABLE AGE myapp-frontend-dev 2/2 2 2 5m14s"
    uid=19_1671 StaticText "Once Kubernetes deploys your app, "
    uid=19_1672 StaticText "kubectl"
    uid=19_1673 StaticText " will report two running replicas."
    uid=19_1674 link "add a test permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#add-a-test"
    uid=19_1675 StaticText "Add a test"
    uid=19_1676 StaticText "Since your CDKTF application is written in TypeScript, you can use Jest to unit test it."
    uid=19_1677 StaticText "First, configure Jest to work with CDKTF. Create a new file called "
    uid=19_1678 StaticText "jest.setup.js"
    uid=19_1679 StaticText " in the "
    uid=19_1680 StaticText "app"
    uid=19_1681 StaticText " directory with the following contents:"
    uid=19_1682 StaticText "jest.setup.js"
    uid=19_1683 StaticText "const"
    uid=19_1684 StaticText " cdktf"
    uid=19_1685 StaticText " ="
    uid=19_1686 StaticText " require"
    uid=19_1687 StaticText "("
    uid=19_1688 StaticText "'cdktf'"
    uid=19_1689 StaticText ")"
    uid=19_1690 StaticText "
"
    uid=19_1691 StaticText "cdktf"
    uid=19_1692 StaticText "."
    uid=19_1693 StaticText "Testing"
    uid=19_1694 StaticText ".setupJest"
    uid=19_1695 StaticText "()"
    uid=19_1696 StaticText "
"
    uid=19_1697 button "Copy" description="const cdktf = require('cdktf') cdktf.Testing.setupJest()"
    uid=19_1698 StaticText "Note"
    uid=19_1699 StaticText "This filename ends in "
    uid=19_1700 StaticText ".js"
    uid=19_1701 StaticText ", not "
    uid=19_1702 StaticText ".ts"
    uid=19_1703 StaticText ", as required by Jest."
    uid=19_1704 StaticText "Next, create a new file in the "
    uid=19_1705 StaticText "app/__tests__"
    uid=19_1706 StaticText " directory named "
    uid=19_1707 StaticText "kubernetes-web-app-test.ts"
    uid=19_1708 StaticText " with the following contents."
    uid=19_1709 StaticText "__tests__/kubernetes-web-app-test.ts"
    uid=19_1710 StaticText "import"
    uid=19_1711 StaticText " "cdktf/lib/testing/adapters/jest""
    uid=19_1712 StaticText "
"
    uid=19_1713 StaticText "import"
    uid=19_1714 StaticText " { Testing } "
    uid=19_1715 StaticText "from"
    uid=19_1716 StaticText " "cdktf""
    uid=19_1717 StaticText "
"
    uid=19_1718 StaticText "import"
    uid=19_1719 StaticText " *"
    uid=19_1720 StaticText " as"
    uid=19_1721 StaticText " kubernetes "
    uid=19_1722 StaticText "from"
    uid=19_1723 StaticText " "@cdktf/provider-kubernetes""
    uid=19_1724 StaticText "
"
    uid=19_1725 StaticText "import"
    uid=19_1726 StaticText " { KubernetesWebAppDeployment } "
    uid=19_1727 StaticText "from"
    uid=19_1728 StaticText " "../constructs""
    uid=19_1729 StaticText "
"
    uid=19_1730 StaticText "
"
    uid=19_1731 StaticText "describe"
    uid=19_1732 StaticText "("
    uid=19_1733 StaticText "'Our CDKTF Constructs'"
    uid=19_1734 StaticText ","
    uid=19_1735 StaticText " () "
    uid=19_1736 StaticText "=>"
    uid=19_1737 StaticText " {"
    uid=19_1738 StaticText "
"
    uid=19_1739 StaticText "  describe"
    uid=19_1740 StaticText "("
    uid=19_1741 StaticText "'KubernetesWebAppDeployment'"
    uid=19_1742 StaticText ","
    uid=19_1743 StaticText " () "
    uid=19_1744 StaticText "=>"
    uid=19_1745 StaticText " {"
    uid=19_1746 StaticText "
"
    uid=19_1747 StaticText "    it"
    uid=19_1748 StaticText "("
    uid=19_1749 StaticText "'should contain a deployment resource'"
    uid=19_1750 StaticText ","
    uid=19_1751 StaticText " () "
    uid=19_1752 StaticText "=>"
    uid=19_1753 StaticText " {"
    uid=19_1754 StaticText "
"
    uid=19_1755 StaticText "      expect"
    uid=19_1756 StaticText "("
    uid=19_1757 StaticText "
"
    uid=19_1758 StaticText "        Testing"
    uid=19_1759 StaticText ".synthScope"
    uid=19_1760 StaticText "((scope) "
    uid=19_1761 StaticText "=>"
    uid=19_1762 StaticText " {"
    uid=19_1763 StaticText "
"
    uid=19_1764 StaticText "          new"
    uid=19_1765 StaticText " KubernetesWebAppDeployment"
    uid=19_1766 StaticText "(scope"
    uid=19_1767 StaticText ","
    uid=19_1768 StaticText " 'myapp-frontend-dev'"
    uid=19_1769 StaticText ","
    uid=19_1770 StaticText " {"
    uid=19_1771 StaticText "
"
    uid=19_1772 StaticText "            image"
    uid=19_1773 StaticText ":"
    uid=19_1774 StaticText " 'nginx:latest'"
    uid=19_1775 StaticText ","
    uid=19_1776 StaticText "
"
    uid=19_1777 StaticText "            replicas"
    uid=19_1778 StaticText ":"
    uid=19_1779 StaticText " 4"
    uid=19_1780 StaticText ","
    uid=19_1781 StaticText "
"
    uid=19_1782 StaticText "            app"
    uid=19_1783 StaticText ":"
    uid=19_1784 StaticText " 'myapp'"
    uid=19_1785 StaticText ","
    uid=19_1786 StaticText "
"
    uid=19_1787 StaticText "            component"
    uid=19_1788 StaticText ":"
    uid=19_1789 StaticText " 'frontend'"
    uid=19_1790 StaticText ","
    uid=19_1791 StaticText "
"
    uid=19_1792 StaticText "            environment"
    uid=19_1793 StaticText ":"
    uid=19_1794 StaticText " 'dev'"
    uid=19_1795 StaticText ","
    uid=19_1796 StaticText "
"
    uid=19_1797 StaticText "          })"
    uid=19_1798 StaticText "
"
    uid=19_1799 StaticText "        })"
    uid=19_1800 StaticText "
"
    uid=19_1801 StaticText "      )"
    uid=19_1802 StaticText ".toHaveResource"
    uid=19_1803 StaticText "("
    uid=19_1804 StaticText "kubernetes"
    uid=19_1805 StaticText "."
    uid=19_1806 StaticText "deployment"
    uid=19_1807 StaticText ".Deployment)"
    uid=19_1808 StaticText "
"
    uid=19_1809 StaticText "    })"
    uid=19_1810 StaticText "
"
    uid=19_1811 StaticText "  })"
    uid=19_1812 StaticText "
"
    uid=19_1813 StaticText "})"
    uid=19_1814 StaticText "
"
    uid=19_1815 button "Copy" description="import "cdktf/lib/testing/adapters/jest" import { Testing } from "cdktf" import * as kubernetes from "@cdktf/provider-kubernetes" import { KubernetesWebAppDeployment } from "../constructs" describe('Our CDKTF Constructs', () => { describe('KubernetesWebAppDeployment', () => { it('should contain a deployment resource', () => { expect( Testing.synthScope((scope) => { new KubernetesWebAppDeployment(scope, 'myapp-frontend-dev', { image: 'nginx:latest', replicas: 4, app: 'myapp', component: 'frontend', environment"
    uid=19_1816 StaticText "In your terminal, run your new test from the "
    uid=19_1817 StaticText "app/"
    uid=19_1818 StaticText " directory."
    uid=19_1819 StaticText "$"
    uid=19_1820 StaticText " npm run test"
    uid=19_1821 StaticText "
"
    uid=19_1822 StaticText "
"
    uid=19_1823 StaticText ">"
    uid=19_1824 StaticText " app@1.0.0 test"
    uid=19_1825 StaticText "
"
    uid=19_1826 StaticText ">"
    uid=19_1827 StaticText " jest"
    uid=19_1828 StaticText "
"
    uid=19_1829 StaticText "
"
    uid=19_1830 StaticText " PASS  __tests__/main-test.ts"
    uid=19_1831 StaticText "
"
    uid=19_1832 StaticText " PASS  __tests__/kubernetes-web-app-test.ts"
    uid=19_1833 StaticText "
"
    uid=19_1834 StaticText "
"
    uid=19_1835 StaticText "Test Suites: 2 passed, 2 total"
    uid=19_1836 StaticText "
"
    uid=19_1837 StaticText "Tests:       1 todo, 1 passed, 2 total"
    uid=19_1838 StaticText "
"
    uid=19_1839 StaticText "Snapshots:   0 total"
    uid=19_1840 StaticText "
"
    uid=19_1841 StaticText "Time:        5.109 s"
    uid=19_1842 StaticText "
"
    uid=19_1843 StaticText "Ran all test suites."
    uid=19_1844 StaticText "
"
    uid=19_1845 button "Copy" description="$ npm run test > app@1.0.0 test > jest PASS __tests__/main-test.ts PASS __tests__/kubernetes-web-app-test.ts Test Suites: 2 passed, 2 total Tests: 1 todo, 1 passed, 2 total Snapshots: 0 total Time: 5.109 s Ran all test suites."
    uid=19_1846 StaticText "All of your tests should pass."
    uid=19_1847 StaticText "There are more example tests in "
    uid=19_1848 StaticText "main-test.ts"
    uid=19_1849 StaticText ". CDKTF generates this file when you run "
    uid=19_1850 StaticText "cdktf init"
    uid=19_1851 StaticText "."
    uid=19_1852 link "add a nodeport service permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#add-a-nodeport-service"
    uid=19_1853 StaticText "Add a NodePort Service"
    uid=19_1854 StaticText "The "
    uid=19_1855 StaticText "nginx:latest"
    uid=19_1856 StaticText " container is running in your deployment, but it is not accessible. Next you will add a NodePort Service to make it available on port "
    uid=19_1857 StaticText "30001"
    uid=19_1858 StaticText "."
    uid=19_1859 link "add nodeport service construct permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#add-nodeport-service-construct"
    uid=19_1860 StaticText "Add NodePort Service construct"
    uid=19_1861 StaticText "In your editor, open "
    uid=19_1862 StaticText "app/constructs/kubernetes-web-app.ts"
    uid=19_1863 StaticText "."
    uid=19_1864 StaticText "Add a new interface for your NodePort Service right after the "
    uid=19_1865 StaticText "export interface KubernetesDeploymentConfig { ... }"
    uid=19_1866 StaticText " block."
    uid=19_1867 StaticText "constructs/kubernetes-web-app.ts"
    uid=19_1868 StaticText "export"
    uid=19_1869 StaticText " interface"
    uid=19_1870 StaticText " KubernetesNodePortServiceConfig"
    uid=19_1871 StaticText " {"
    uid=19_1872 StaticText "
"
    uid=19_1873 StaticText "  readonly"
    uid=19_1874 StaticText " port"
    uid=19_1875 StaticText ":"
    uid=19_1876 StaticText " number"
    uid=19_1877 StaticText "
"
    uid=19_1878 StaticText "  readonly"
    uid=19_1879 StaticText " app"
    uid=19_1880 StaticText ":"
    uid=19_1881 StaticText " string"
    uid=19_1882 StaticText "
"
    uid=19_1883 StaticText "  readonly"
    uid=19_1884 StaticText " component"
    uid=19_1885 StaticText ":"
    uid=19_1886 StaticText " string"
    uid=19_1887 StaticText "
"
    uid=19_1888 StaticText "  readonly"
    uid=19_1889 StaticText " environment"
    uid=19_1890 StaticText ":"
    uid=19_1891 StaticText " string"
    uid=19_1892 StaticText "
"
    uid=19_1893 StaticText "}"
    uid=19_1894 StaticText "
"
    uid=19_1895 button "Copy" description="export interface KubernetesNodePortServiceConfig { readonly port: number readonly app: string readonly component: string readonly environment: string }"
    uid=19_1896 StaticText "Next, add a new "
    uid=19_1897 StaticText "KubernetesNodePortService"
    uid=19_1898 StaticText " construct after your "
    uid=19_1899 StaticText "KubernetesWebAppDeployment"
    uid=19_1900 StaticText " class, at the end of the file."
    uid=19_1901 StaticText "constructs/kubernetes-web-app.ts"
    uid=19_1902 StaticText "export"
    uid=19_1903 StaticText " class"
    uid=19_1904 StaticText " KubernetesNodePortService"
    uid=19_1905 StaticText " extends"
    uid=19_1906 StaticText " Construct"
    uid=19_1907 StaticText " {"
    uid=19_1908 StaticText "
"
    uid=19_1909 StaticText "  public"
    uid=19_1910 StaticText " readonly"
    uid=19_1911 StaticText " resource"
    uid=19_1912 StaticText ":"
    uid=19_1913 StaticText " kubernetes"
    uid=19_1914 StaticText "."
    uid=19_1915 StaticText "service"
    uid=19_1916 StaticText "."
    uid=19_1917 StaticText "Service"
    uid=19_1918 StaticText "
"
    uid=19_1919 StaticText "
"
    uid=19_1920 StaticText "  constructor"
    uid=19_1921 StaticText "("
    uid=19_1922 StaticText "
"
    uid=19_1923 StaticText "    scope"
    uid=19_1924 StaticText ":"
    uid=19_1925 StaticText " Construct"
    uid=19_1926 StaticText ","
    uid=19_1927 StaticText "
"
    uid=19_1928 StaticText "    name"
    uid=19_1929 StaticText ":"
    uid=19_1930 StaticText " string"
    uid=19_1931 StaticText ","
    uid=19_1932 StaticText "
"
    uid=19_1933 StaticText "    config"
    uid=19_1934 StaticText ":"
    uid=19_1935 StaticText " KubernetesNodePortServiceConfig"
    uid=19_1936 StaticText "
"
    uid=19_1937 StaticText "  ) {"
    uid=19_1938 StaticText "
"
    uid=19_1939 StaticText "    super"
    uid=19_1940 StaticText "(scope"
    uid=19_1941 StaticText ","
    uid=19_1942 StaticText " name)"
    uid=19_1943 StaticText "
"
    uid=19_1944 StaticText "
"
    uid=19_1945 StaticText "    this"
    uid=19_1946 StaticText ".resource "
    uid=19_1947 StaticText "="
    uid=19_1948 StaticText " new"
    uid=19_1949 StaticText " kubernetes"
    uid=19_1950 StaticText "."
    uid=19_1951 StaticText "service"
    uid=19_1952 StaticText ".Service"
    uid=19_1953 StaticText "("
    uid=19_1954 StaticText "this"
    uid=19_1955 StaticText ","
    uid=19_1956 StaticText " name"
    uid=19_1957 StaticText ","
    uid=19_1958 StaticText " {"
    uid=19_1959 StaticText "
"
    uid=19_1960 StaticText "      metadata"
    uid=19_1961 StaticText ":"
    uid=19_1962 StaticText " {"
    uid=19_1963 StaticText "
"
    uid=19_1964 StaticText "        name"
    uid=19_1965 StaticText ":"
    uid=19_1966 StaticText " `"
    uid=19_1967 StaticText "${"
    uid=19_1968 StaticText "config"
    uid=19_1969 StaticText ".app"
    uid=19_1970 StaticText "}"
    uid=19_1971 StaticText "-"
    uid=19_1972 StaticText "${"
    uid=19_1973 StaticText "config"
    uid=19_1974 StaticText ".component"
    uid=19_1975 StaticText "}"
    uid=19_1976 StaticText "-"
    uid=19_1977 StaticText "${"
    uid=19_1978 StaticText "config"
    uid=19_1979 StaticText ".environment"
    uid=19_1980 StaticText "}"
    uid=19_1981 StaticText "`"
    uid=19_1982 StaticText ","
    uid=19_1983 StaticText "
"
    uid=19_1984 StaticText "      }"
    uid=19_1985 StaticText ","
    uid=19_1986 StaticText "
"
    uid=19_1987 StaticText "      spec"
    uid=19_1988 StaticText ":"
    uid=19_1989 StaticText " {"
    uid=19_1990 StaticText "
"
    uid=19_1991 StaticText "        type"
    uid=19_1992 StaticText ":"
    uid=19_1993 StaticText " 'NodePort'"
    uid=19_1994 StaticText ","
    uid=19_1995 StaticText "
"
    uid=19_1996 StaticText "        port"
    uid=19_1997 StaticText ":"
    uid=19_1998 StaticText " ["
    uid=19_1999 StaticText "
"
    uid=19_2000 StaticText "          {"
    uid=19_2001 StaticText "
"
    uid=19_2002 StaticText "            port"
    uid=19_2003 StaticText ":"
    uid=19_2004 StaticText " 80"
    uid=19_2005 StaticText ","
    uid=19_2006 StaticText "
"
    uid=19_2007 StaticText "            targetPort"
    uid=19_2008 StaticText ":"
    uid=19_2009 StaticText " '80'"
    uid=19_2010 StaticText ","
    uid=19_2011 StaticText "
"
    uid=19_2012 StaticText "            nodePort"
    uid=19_2013 StaticText ":"
    uid=19_2014 StaticText " config"
    uid=19_2015 StaticText ".port"
    uid=19_2016 StaticText ","
    uid=19_2017 StaticText "
"
    uid=19_2018 StaticText "            protocol"
    uid=19_2019 StaticText ":"
    uid=19_2020 StaticText " 'TCP'"
    uid=19_2021 StaticText ","
    uid=19_2022 StaticText "
"
    uid=19_2023 StaticText "          }"
    uid=19_2024 StaticText ","
    uid=19_2025 StaticText "
"
    uid=19_2026 StaticText "        ]"
    uid=19_2027 StaticText ","
    uid=19_2028 StaticText "
"
    uid=19_2029 StaticText "        selector"
    uid=19_2030 StaticText ":"
    uid=19_2031 StaticText " {"
    uid=19_2032 StaticText "
"
    uid=19_2033 StaticText "          app"
    uid=19_2034 StaticText ":"
    uid=19_2035 StaticText " config"
    uid=19_2036 StaticText ".app"
    uid=19_2037 StaticText ","
    uid=19_2038 StaticText "
"
    uid=19_2039 StaticText "          component"
    uid=19_2040 StaticText ":"
    uid=19_2041 StaticText " config"
    uid=19_2042 StaticText ".component"
    uid=19_2043 StaticText ","
    uid=19_2044 StaticText "
"
    uid=19_2045 StaticText "          environment"
    uid=19_2046 StaticText ":"
    uid=19_2047 StaticText " config"
    uid=19_2048 StaticText ".environment"
    uid=19_2049 StaticText ","
    uid=19_2050 StaticText "
"
    uid=19_2051 StaticText "        }"
    uid=19_2052 StaticText ","
    uid=19_2053 StaticText "
"
    uid=19_2054 StaticText "      }"
    uid=19_2055 StaticText ","
    uid=19_2056 StaticText "
"
    uid=19_2057 StaticText "    })"
    uid=19_2058 StaticText "
"
    uid=19_2059 StaticText "  }"
    uid=19_2060 StaticText "
"
    uid=19_2061 StaticText "}"
    uid=19_2062 StaticText "
"
    uid=19_2063 button "Copy" description="export class KubernetesNodePortService extends Construct { public readonly resource: kubernetes.service.Service constructor( scope: Construct, name: string, config: KubernetesNodePortServiceConfig ) { super(scope, name) this.resource = new kubernetes.service.Service(this, name, { metadata: { name: `${config.app}-${config.component}-${config.environment}`, },"
    uid=19_2064 link "test your construct permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#test-your-construct"
    uid=19_2065 StaticText "Test your construct"
    uid=19_2066 StaticText "Now open "
    uid=19_2067 StaticText "app/__tests__/kubernetes-web-app-test.ts"
    uid=19_2068 StaticText " and add a test."
    uid=19_2069 StaticText "Near the top of the file, add your new "
    uid=19_2070 StaticText "KubernetesNodePortService"
    uid=19_2071 StaticText " to the "
    uid=19_2072 StaticText "import { ... } from '../constructs';"
    uid=19_2073 StaticText " block, and include a comma after the "
    uid=19_2074 StaticText "KubernetesWebAppDeployment"
    uid=19_2075 StaticText "."
    uid=19_2076 StaticText "__tests__/kubernetes-web-app-test.ts"
    uid=19_2077 StaticText "import"
    uid=19_2078 StaticText " {"
    uid=19_2079 StaticText "
"
    uid=19_2080 StaticText "  KubernetesWebAppDeployment"
    uid=19_2081 StaticText ","
    uid=19_2082 StaticText "
"
    uid=19_2083 StaticText "  KubernetesNodePortService"
    uid=19_2084 StaticText ","
    uid=19_2085 StaticText "
"
    uid=19_2086 StaticText "} "
    uid=19_2087 StaticText "from"
    uid=19_2088 StaticText " '../constructs'"
    uid=19_2089 StaticText "
"
    uid=19_2090 StaticText "Add the test, inside the "
    uid=19_2091 StaticText "describe("Our CDKTF Constructs", () => { ... })"
    uid=19_2092 StaticText " block. This test must be on the same level as the "
    uid=19_2093 StaticText "describe("KubernetesWebAppDeployment", () => { ... })"
    uid=19_2094 StaticText " block. There will be a final "
    uid=19_2095 StaticText "})"
    uid=19_2096 StaticText " at the end of the file after the new test."
    uid=19_2097 StaticText "__tests__/kubernetes-web-app-test.ts"
    uid=19_2098 StaticText "describe"
    uid=19_2099 StaticText "("
    uid=19_2100 StaticText "'KubernetesNodePortService'"
    uid=19_2101 StaticText ","
    uid=19_2102 StaticText " () "
    uid=19_2103 StaticText "=>"
    uid=19_2104 StaticText " {"
    uid=19_2105 StaticText "
"
    uid=19_2106 StaticText "  it"
    uid=19_2107 StaticText "("
    uid=19_2108 StaticText "'should contain a Service resource'"
    uid=19_2109 StaticText ","
    uid=19_2110 StaticText " () "
    uid=19_2111 StaticText "=>"
    uid=19_2112 StaticText " {"
    uid=19_2113 StaticText "
"
    uid=19_2114 StaticText "    expect"
    uid=19_2115 StaticText "("
    uid=19_2116 StaticText "
"
    uid=19_2117 StaticText "      Testing"
    uid=19_2118 StaticText ".synthScope"
    uid=19_2119 StaticText "((scope) "
    uid=19_2120 StaticText "=>"
    uid=19_2121 StaticText " {"
    uid=19_2122 StaticText "
"
    uid=19_2123 StaticText "        new"
    uid=19_2124 StaticText " KubernetesNodePortService"
    uid=19_2125 StaticText "(scope"
    uid=19_2126 StaticText ","
    uid=19_2127 StaticText " 'myapp-frontend-dev'"
    uid=19_2128 StaticText ","
    uid=19_2129 StaticText " {"
    uid=19_2130 StaticText "
"
    uid=19_2131 StaticText "          app"
    uid=19_2132 StaticText ":"
    uid=19_2133 StaticText " 'myapp'"
    uid=19_2134 StaticText ","
    uid=19_2135 StaticText "
"
    uid=19_2136 StaticText "          component"
    uid=19_2137 StaticText ":"
    uid=19_2138 StaticText " 'frontend'"
    uid=19_2139 StaticText ","
    uid=19_2140 StaticText "
"
    uid=19_2141 StaticText "          environment"
    uid=19_2142 StaticText ":"
    uid=19_2143 StaticText " 'dev'"
    uid=19_2144 StaticText ","
    uid=19_2145 StaticText "
"
    uid=19_2146 StaticText "          port"
    uid=19_2147 StaticText ":"
    uid=19_2148 StaticText " 30001"
    uid=19_2149 StaticText ","
    uid=19_2150 StaticText "
"
    uid=19_2151 StaticText "        })"
    uid=19_2152 StaticText "
"
    uid=19_2153 StaticText "      })"
    uid=19_2154 StaticText "
"
    uid=19_2155 StaticText "    )"
    uid=19_2156 StaticText ".toHaveResource"
    uid=19_2157 StaticText "("
    uid=19_2158 StaticText "kubernetes"
    uid=19_2159 StaticText "."
    uid=19_2160 StaticText "service"
    uid=19_2161 StaticText ".Service)"
    uid=19_2162 StaticText "
"
    uid=19_2163 StaticText "  })"
    uid=19_2164 StaticText "
"
    uid=19_2165 StaticText "})"
    uid=19_2166 StaticText "
"
    uid=19_2167 button "Copy" description="describe('KubernetesNodePortService', () => { it('should contain a Service resource', () => { expect( Testing.synthScope((scope) => { new KubernetesNodePortService(scope, 'myapp-frontend-dev', { app: 'myapp', component: 'frontend', environment: 'dev', port: 30001, }) }) ).toHaveResource(kubernetes.service.Service) }) })"
    uid=19_2168 StaticText "Check to make sure your tests still pass. Run the tests in the "
    uid=19_2169 StaticText "app/"
    uid=19_2170 StaticText " directory."
    uid=19_2171 StaticText "$"
    uid=19_2172 StaticText " npm run test"
    uid=19_2173 StaticText "
"
    uid=19_2174 StaticText "
"
    uid=19_2175 StaticText ">"
    uid=19_2176 StaticText " app@1.0.0 test"
    uid=19_2177 StaticText "
"
    uid=19_2178 StaticText ">"
    uid=19_2179 StaticText " jest"
    uid=19_2180 StaticText "
"
    uid=19_2181 StaticText "
"
    uid=19_2182 StaticText " PASS  __tests__/main-test.ts"
    uid=19_2183 StaticText "
"
    uid=19_2184 StaticText " PASS  __tests__/kubernetes-web-app-test.ts"
    uid=19_2185 StaticText "
"
    uid=19_2186 StaticText "
"
    uid=19_2187 StaticText "Test Suites: 2 passed, 2 total"
    uid=19_2188 StaticText "
"
    uid=19_2189 StaticText "Tests:       1 todo, 2 passed, 3 total"
    uid=19_2190 StaticText "
"
    uid=19_2191 StaticText "Snapshots:   0 total"
    uid=19_2192 StaticText "
"
    uid=19_2193 StaticText "Time:        5.094 s"
    uid=19_2194 StaticText "
"
    uid=19_2195 StaticText "Ran all test suites."
    uid=19_2196 StaticText "
"
    uid=19_2197 button "Copy" description="$ npm run test > app@1.0.0 test > jest PASS __tests__/main-test.ts PASS __tests__/kubernetes-web-app-test.ts Test Suites: 2 passed, 2 total Tests: 1 todo, 2 passed, 3 total Snapshots: 0 total Time: 5.094 s Ran all test suites."
    uid=19_2198 StaticText "Jest should report that all of your tests pass."
    uid=19_2199 link "add a nodeportservice to your application permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#add-a-nodeportservice-to-your-application"
    uid=19_2200 StaticText "Add a NodePortService to your application"
    uid=19_2201 StaticText "In your editor, open "
    uid=19_2202 StaticText "app/main.ts"
    uid=19_2203 StaticText ", and a new import to the "
    uid=19_2204 StaticText "import { ... } from './constructs';"
    uid=19_2205 StaticText " block near the top of the file with the following code, and include a comma after the "
    uid=19_2206 StaticText "KubernetesWebAppDeployment"
    uid=19_2207 StaticText "."
    uid=19_2208 StaticText "main.ts"
    uid=19_2209 StaticText "import"
    uid=19_2210 StaticText " {"
    uid=19_2211 StaticText "
"
    uid=19_2212 StaticText "  KubernetesWebAppDeployment"
    uid=19_2213 StaticText ","
    uid=19_2214 StaticText "
"
    uid=19_2215 StaticText "  KubernetesNodePortService"
    uid=19_2216 StaticText ","
    uid=19_2217 StaticText "
"
    uid=19_2218 StaticText "} "
    uid=19_2219 StaticText "from"
    uid=19_2220 StaticText " './constructs'"
    uid=19_2221 StaticText "
"
    uid=19_2222 StaticText "Add a new "
    uid=19_2223 StaticText "KubernetesNodePortService"
    uid=19_2224 StaticText " after your "
    uid=19_2225 StaticText "KubernetesWebAppDeployment"
    uid=19_2226 StaticText ", inside the "
    uid=19_2227 StaticText "constructor( ... ) { ... }"
    uid=19_2228 StaticText " function block."
    uid=19_2229 StaticText "main.ts"
    uid=19_2230 StaticText "new"
    uid=19_2231 StaticText " KubernetesNodePortService"
    uid=19_2232 StaticText "("
    uid=19_2233 StaticText "this"
    uid=19_2234 StaticText ","
    uid=19_2235 StaticText " 'service'"
    uid=19_2236 StaticText ","
    uid=19_2237 StaticText " {"
    uid=19_2238 StaticText "
"
    uid=19_2239 StaticText "  port"
    uid=19_2240 StaticText ":"
    uid=19_2241 StaticText " 30001"
    uid=19_2242 StaticText ","
    uid=19_2243 StaticText "
"
    uid=19_2244 StaticText "  app"
    uid=19_2245 StaticText ":"
    uid=19_2246 StaticText " 'myapp'"
    uid=19_2247 StaticText ","
    uid=19_2248 StaticText "
"
    uid=19_2249 StaticText "  component"
    uid=19_2250 StaticText ":"
    uid=19_2251 StaticText " 'frontend'"
    uid=19_2252 StaticText ","
    uid=19_2253 StaticText "
"
    uid=19_2254 StaticText "  environment"
    uid=19_2255 StaticText ":"
    uid=19_2256 StaticText " 'dev'"
    uid=19_2257 StaticText ","
    uid=19_2258 StaticText "
"
    uid=19_2259 StaticText "})"
    uid=19_2260 StaticText "
"
    uid=19_2261 button "Copy" description="new KubernetesNodePortService(this, 'service', { port: 30001, app: 'myapp', component: 'frontend', environment: 'dev', })"
    uid=19_2262 StaticText "Deploy your application. Respond to the confirmation prompt by choosing "
    uid=19_2263 StaticText "Approve"
    uid=19_2264 StaticText "."
    uid=19_2265 StaticText "$"
    uid=19_2266 StaticText " cdktf deploy"
    uid=19_2267 StaticText "
"
    uid=19_2268 StaticText "app  Initializing the backend..."
    uid=19_2269 StaticText "
"
    uid=19_2270 StaticText "app  Initializing provider plugins..."
    uid=19_2271 StaticText "
"
    uid=19_2272 StaticText "app  - Reusing previous version of hashicorp/kubernetes from the dependency lock file"
    uid=19_2273 StaticText "
"
    uid=19_2274 StaticText "app  - Using previously-installed hashicorp/kubernetes v2.14.0"
    uid=19_2275 StaticText "
"
    uid=19_2276 StaticText "app  Terraform has been successfully initialized!"
    uid=19_2277 StaticText "
"
    uid=19_2278 StaticText "##..."
    uid=19_2279 StaticText "
"
    uid=19_2280 StaticText "     Plan: 1 to add, 0 to change, 0 to destroy."
    uid=19_2281 StaticText "
"
    uid=19_2282 StaticText "
"
    uid=19_2283 StaticText "     ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ"
    uid=19_2284 StaticText "
"
    uid=19_2285 StaticText "
"
    uid=19_2286 StaticText "     Saved the plan to: plan"
    uid=19_2287 StaticText "
"
    uid=19_2288 StaticText "
"
    uid=19_2289 StaticText "     To perform exactly these actions, run the following command to apply:"
    uid=19_2290 StaticText "
"
    uid=19_2291 StaticText "         terraform apply "plan""
    uid=19_2292 StaticText "
"
    uid=19_2293 StaticText "
"
    uid=19_2294 StaticText "Please review the diff output above for app"
    uid=19_2295 StaticText "
"
    uid=19_2296 StaticText "‚ùØ"
    uid=19_2297 StaticText " Approve  Applies the changes outlined "
    uid=19_2298 StaticText "in"
    uid=19_2299 StaticText " the plan."
    uid=19_2300 StaticText "
"
    uid=19_2301 StaticText "  Dismiss"
    uid=19_2302 StaticText "
"
    uid=19_2303 StaticText "  Stop"
    uid=19_2304 StaticText "
"
    uid=19_2305 StaticText "##..."
    uid=19_2306 StaticText "
"
    uid=19_2307 StaticText "app  kubernetes_service.service_E7C408F2 (service/service): Creating..."
    uid=19_2308 StaticText "
"
    uid=19_2309 StaticText "app  kubernetes_service.service_E7C408F2 (service/service): Creation complete after 0s [id=default/myapp-frontend-dev]"
    uid=19_2310 StaticText "
"
    uid=19_2311 StaticText "app"
    uid=19_2312 StaticText "
"
    uid=19_2313 StaticText "     Apply complete! Resources: 1 added, 0 changed, 0 destroyed."
    uid=19_2314 StaticText "
"
    uid=19_2315 StaticText "
"
    uid=19_2316 StaticText "
"
    uid=19_2317 StaticText "No outputs found."
    uid=19_2318 StaticText "
"
    uid=19_2319 button "Copy" description="$ cdktf deploy app Initializing the backend... app Initializing provider plugins... app - Reusing previous version of hashicorp/kubernetes from the dependency lock file app - Using previously-installed hashicorp/kubernetes v2.14.0 app Terraform has been successfully initialized! ##... Plan: 1 to add, 0 to change, 0 to destroy. ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply "plan" Please review the diff output above for app ‚ùØ Approve Applies the changes outlined in the plan. Dismiss Stop ##... app kubernetes_service.service_E7C408F2 (service/service): Creating... app kubernetes_service.service_E7C408F2 (service/service): Creation complete after 0s [id=default/myapp-frontend-dev] app Apply complete! Resources: 1 added, 0 changed, 0 destroyed. No outputs found."
    uid=19_2320 StaticText "Use "
    uid=19_2321 StaticText "kubectl"
    uid=19_2322 StaticText " to list your running services."
    uid=19_2323 StaticText "$"
    uid=19_2324 StaticText " kubectl get services"
    uid=19_2325 StaticText "
"
    uid=19_2326 StaticText "NAME                 TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE"
    uid=19_2327 StaticText "
"
    uid=19_2328 StaticText "kubernetes           ClusterIP   10.96.0.1       <none>        443/TCP        101m"
    uid=19_2329 StaticText "
"
    uid=19_2330 StaticText "myapp-frontend-dev   NodePort    10.96.186.212   <none>        80:30001/TCP   22s"
    uid=19_2331 StaticText "
"
    uid=19_2332 button "Copy" description="$ kubectl get services NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE kubernetes ClusterIP 10.96.0.1 <none> 443/TCP 101m myapp-frontend-dev NodePort 10.96.186.212 <none> 80:30001/TCP 22s"
    uid=19_2333 StaticText "Kubectl reports two services, a "
    uid=19_2334 StaticText "ClusterIP"
    uid=19_2335 StaticText " service, and your new "
    uid=19_2336 StaticText "NodePort"
    uid=19_2337 StaticText " service."
    uid=19_2338 StaticText "In may take a minute or two for the frontend to become available. When it is, curl will respond with the NGINX welcome page."
    uid=19_2339 StaticText "$"
    uid=19_2340 StaticText " curl http://localhost:30001"
    uid=19_2341 StaticText "
"
    uid=19_2342 StaticText "<!DOCTYPE html>"
    uid=19_2343 StaticText "
"
    uid=19_2344 StaticText "<html>"
    uid=19_2345 StaticText "
"
    uid=19_2346 StaticText "<head>"
    uid=19_2347 StaticText "
"
    uid=19_2348 StaticText "<title>Welcome to nginx!</title>"
    uid=19_2349 StaticText "
"
    uid=19_2350 StaticText "<style>"
    uid=19_2351 StaticText "
"
    uid=19_2352 StaticText "html { color-scheme: light dark; }"
    uid=19_2353 StaticText "
"
    uid=19_2354 StaticText "body { width: 35em; margin: 0 auto;"
    uid=19_2355 StaticText "
"
    uid=19_2356 StaticText "font-family: Tahoma, Verdana, Arial, sans-serif; }"
    uid=19_2357 StaticText "
"
    uid=19_2358 StaticText "</style>"
    uid=19_2359 StaticText "
"
    uid=19_2360 StaticText "</head>"
    uid=19_2361 StaticText "
"
    uid=19_2362 StaticText "<body>"
    uid=19_2363 StaticText "
"
    uid=19_2364 StaticText "<h1>Welcome to nginx!</h1>"
    uid=19_2365 StaticText "
"
    uid=19_2366 StaticText "<p>If you see this page, the nginx web server is successfully installed and"
    uid=19_2367 StaticText "
"
    uid=19_2368 StaticText "working. Further configuration is required.</p>"
    uid=19_2369 StaticText "
"
    uid=19_2370 StaticText "
"
    uid=19_2371 StaticText "<p>For online documentation and support please refer to"
    uid=19_2372 StaticText "
"
    uid=19_2373 StaticText "<a href="http://nginx.org/">nginx.org</a>.<br/>"
    uid=19_2374 StaticText "
"
    uid=19_2375 StaticText "Commercial support is available at"
    uid=19_2376 StaticText "
"
    uid=19_2377 StaticText "<a href="http://nginx.com/">nginx.com</a>.</p>"
    uid=19_2378 StaticText "
"
    uid=19_2379 StaticText "
"
    uid=19_2380 StaticText "<p><em>Thank you for using nginx.</em></p>"
    uid=19_2381 StaticText "
"
    uid=19_2382 StaticText "</body>"
    uid=19_2383 StaticText "
"
    uid=19_2384 StaticText "</html>"
    uid=19_2385 StaticText "
"
    uid=19_2386 button "Copy" description="$ curl http://localhost:30001 <!DOCTYPE html> <html> <head> <title>Welcome to nginx!</title> <style> html { color-scheme: light dark; } body { width: 35em; margin: 0 auto; font-family: Tahoma, Verdana, Arial, sans-serif; } </style> </head> <body> <h1>Welcome to nginx!</h1> <p>If you see this page, the nginx web server is successfully installed and working. Further configuration is required.</p> <p>For online documentation and support please refer to <a href="http://nginx.org/">nginx.org</a>.<br/> Commercial support is available at <a href="http://nginx.com/">nginx.com</a>.</p> <p><em>Thank you for using nginx.</em></p> </body> </html>"
    uid=19_2387 StaticText "Open "
    uid=19_2388 StaticText "http://localhost:30001"
    uid=19_2389 StaticText " in a new browser tab to review this page."
    uid=19_2390 link "refactor your application permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#refactor-your-application"
    uid=19_2391 StaticText "Refactor your application"
    uid=19_2392 StaticText "Now you will refactor your application with a new CDKTF construct. Before you do so, remove the existing application to prevent the new application from attempting to use the same ports as the current one."
    uid=19_2393 link "destroy app permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#destroy-app"
    uid=19_2394 StaticText "Destroy app"
    uid=19_2395 StaticText "Like Terraform, you can use CDKTF to destroy the resources it manages."
    uid=19_2396 StaticText "Before you refactor your code, destroy your application. Respond to the confirmation prompt by choosing "
    uid=19_2397 StaticText "Approve"
    uid=19_2398 StaticText "."
    uid=19_2399 StaticText "$"
    uid=19_2400 StaticText " cdktf destroy"
    uid=19_2401 StaticText "
"
    uid=19_2402 StaticText "app  Initializing the backend..."
    uid=19_2403 StaticText "
"
    uid=19_2404 StaticText "app  Initializing provider plugins..."
    uid=19_2405 StaticText "
"
    uid=19_2406 StaticText "app  - Reusing previous version of hashicorp/kubernetes from the dependency lock file"
    uid=19_2407 StaticText "
"
    uid=19_2408 StaticText "app  - Using previously-installed hashicorp/kubernetes v2.14.0"
    uid=19_2409 StaticText "
"
    uid=19_2410 StaticText "app  Terraform has been successfully initialized!"
    uid=19_2411 StaticText "
"
    uid=19_2412 StaticText "##..."
    uid=19_2413 StaticText "
"
    uid=19_2414 StaticText "     Plan: 0 to add, 0 to change, 2 to destroy."
    uid=19_2415 StaticText "
"
    uid=19_2416 StaticText "
"
    uid=19_2417 StaticText "     ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ"
    uid=19_2418 StaticText "
"
    uid=19_2419 StaticText "
"
    uid=19_2420 StaticText "     Saved the plan to: plan"
    uid=19_2421 StaticText "
"
    uid=19_2422 StaticText "
"
    uid=19_2423 StaticText "     To perform exactly these actions, run the following command to apply:"
    uid=19_2424 StaticText "
"
    uid=19_2425 StaticText "         terraform apply "plan""
    uid=19_2426 StaticText "
"
    uid=19_2427 StaticText "
"
    uid=19_2428 StaticText "Please review the diff output above for app"
    uid=19_2429 StaticText "
"
    uid=19_2430 StaticText "‚ùØ"
    uid=19_2431 StaticText " Approve  Applies the changes outlined "
    uid=19_2432 StaticText "in"
    uid=19_2433 StaticText " the plan."
    uid=19_2434 StaticText "
"
    uid=19_2435 StaticText "  Dismiss"
    uid=19_2436 StaticText "
"
    uid=19_2437 StaticText "  Stop"
    uid=19_2438 StaticText "
"
    uid=19_2439 StaticText "app  kubernetes_service.service_E7C408F2 (service/service): Destroying... [id=default/myapp-frontend-dev]"
    uid=19_2440 StaticText "
"
    uid=19_2441 StaticText "app  kubernetes_deployment.deployment_7B0B4E40 (deployment/deployment): Destroying... [id=default/myapp-frontend-dev]"
    uid=19_2442 StaticText "
"
    uid=19_2443 StaticText "app  kubernetes_deployment.deployment_7B0B4E40 (deployment/deployment): Destruction complete after 0s"
    uid=19_2444 StaticText "
"
    uid=19_2445 StaticText "app  kubernetes_service.service_E7C408F2 (service/service): Destruction complete after 0s"
    uid=19_2446 StaticText "
"
    uid=19_2447 StaticText "app"
    uid=19_2448 StaticText "
"
    uid=19_2449 StaticText "     Destroy complete! Resources: 2 destroyed."
    uid=19_2450 StaticText "
"
    uid=19_2451 button "Copy" description="$ cdktf destroy app Initializing the backend... app Initializing provider plugins... app - Reusing previous version of hashicorp/kubernetes from the dependency lock file app - Using previously-installed hashicorp/kubernetes v2.14.0 app Terraform has been successfully initialized! ##... Plan: 0 to add, 0 to change, 2 to destroy. ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply "plan" Please review the diff output above for app ‚ùØ Approve Applies the changes outlined in the plan. Dismiss Stop app kubernetes_service.service_E7C408F2 (service/service): Destroying... [id=default/myapp-frontend-dev] app kubernetes_deployment.deployment_7B0B4E40 (deployment/deployment): Destroying... [id=default/myapp-frontend-dev] app kubernetes_deployment.deployment_7B0B4E40 (deployment/deployment): Destruction complete after 0s app kubernetes_service.service_E7C408F2 (service/service): Destruction complete after 0s app Destroy complete! Resources: 2 destroyed."
    uid=19_2452 link "refactor constructs permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#refactor-constructs"
    uid=19_2453 StaticText "Refactor constructs"
    uid=19_2454 StaticText "In your editor, open "
    uid=19_2455 StaticText "app/constructs/kubernetes-web-app.ts"
    uid=19_2456 StaticText "."
    uid=19_2457 StaticText "CDKTF provides classes and interfaces for built-in Terraform features, such as output values and functions. Add an import for Terraform outputs to the imports near the top of the file."
    uid=19_2458 StaticText "constructs/kubernetes-web-app.ts"
    uid=19_2459 StaticText "import"
    uid=19_2460 StaticText " { TerraformOutput } "
    uid=19_2461 StaticText "from"
    uid=19_2462 StaticText " "cdktf""
    uid=19_2463 StaticText "
"
    uid=19_2464 button "Copy" description="import { TerraformOutput } from "cdktf""
    uid=19_2465 StaticText "At the end of the file, add a new construct to represent an application, including a Deployment and a NodePortService."
    uid=19_2466 StaticText "constructs/kubernetes-web-app.ts"
    uid=19_2467 StaticText "export"
    uid=19_2468 StaticText " type"
    uid=19_2469 StaticText " SimpleKubernetesWebAppConfig"
    uid=19_2470 StaticText " ="
    uid=19_2471 StaticText " KubernetesWebAppDeploymentConfig"
    uid=19_2472 StaticText " &"
    uid=19_2473 StaticText "
"
    uid=19_2474 StaticText "  KubernetesNodePortServiceConfig"
    uid=19_2475 StaticText "
"
    uid=19_2476 StaticText "
"
    uid=19_2477 StaticText "export"
    uid=19_2478 StaticText " class"
    uid=19_2479 StaticText " SimpleKubernetesWebApp"
    uid=19_2480 StaticText " extends"
    uid=19_2481 StaticText " Construct"
    uid=19_2482 StaticText " {"
    uid=19_2483 StaticText "
"
    uid=19_2484 StaticText "  public"
    uid=19_2485 StaticText " readonly"
    uid=19_2486 StaticText " deployment"
    uid=19_2487 StaticText ":"
    uid=19_2488 StaticText " KubernetesWebAppDeployment"
    uid=19_2489 StaticText "
"
    uid=19_2490 StaticText "  public"
    uid=19_2491 StaticText " readonly"
    uid=19_2492 StaticText " service"
    uid=19_2493 StaticText ":"
    uid=19_2494 StaticText " KubernetesNodePortService"
    uid=19_2495 StaticText "
"
    uid=19_2496 StaticText "  public"
    uid=19_2497 StaticText " readonly"
    uid=19_2498 StaticText " config"
    uid=19_2499 StaticText ":"
    uid=19_2500 StaticText " SimpleKubernetesWebAppConfig"
    uid=19_2501 StaticText "
"
    uid=19_2502 StaticText "
"
    uid=19_2503 StaticText "  constructor"
    uid=19_2504 StaticText "("
    uid=19_2505 StaticText "
"
    uid=19_2506 StaticText "    scope"
    uid=19_2507 StaticText ":"
    uid=19_2508 StaticText " Construct"
    uid=19_2509 StaticText ","
    uid=19_2510 StaticText "
"
    uid=19_2511 StaticText "    name"
    uid=19_2512 StaticText ":"
    uid=19_2513 StaticText " string"
    uid=19_2514 StaticText ","
    uid=19_2515 StaticText "
"
    uid=19_2516 StaticText "    config"
    uid=19_2517 StaticText ":"
    uid=19_2518 StaticText " SimpleKubernetesWebAppConfig"
    uid=19_2519 StaticText "
"
    uid=19_2520 StaticText "  ) {"
    uid=19_2521 StaticText "
"
    uid=19_2522 StaticText "    super"
    uid=19_2523 StaticText "(scope"
    uid=19_2524 StaticText ","
    uid=19_2525 StaticText " name)"
    uid=19_2526 StaticText "
"
    uid=19_2527 StaticText "
"
    uid=19_2528 StaticText "    this"
    uid=19_2529 StaticText ".config "
    uid=19_2530 StaticText "="
    uid=19_2531 StaticText " config"
    uid=19_2532 StaticText "
"
    uid=19_2533 StaticText "    this"
    uid=19_2534 StaticText ".deployment "
    uid=19_2535 StaticText "="
    uid=19_2536 StaticText " new"
    uid=19_2537 StaticText " KubernetesWebAppDeployment"
    uid=19_2538 StaticText "("
    uid=19_2539 StaticText "this"
    uid=19_2540 StaticText ","
    uid=19_2541 StaticText " 'deployment'"
    uid=19_2542 StaticText ","
    uid=19_2543 StaticText " {"
    uid=19_2544 StaticText "
"
    uid=19_2545 StaticText "      image"
    uid=19_2546 StaticText ":"
    uid=19_2547 StaticText " config"
    uid=19_2548 StaticText ".image"
    uid=19_2549 StaticText ","
    uid=19_2550 StaticText "
"
    uid=19_2551 StaticText "      replicas"
    uid=19_2552 StaticText ":"
    uid=19_2553 StaticText " config"
    uid=19_2554 StaticText ".replicas"
    uid=19_2555 StaticText ","
    uid=19_2556 StaticText "
"
    uid=19_2557 StaticText "      app"
    uid=19_2558 StaticText ":"
    uid=19_2559 StaticText " config"
    uid=19_2560 StaticText ".app"
    uid=19_2561 StaticText ","
    uid=19_2562 StaticText "
"
    uid=19_2563 StaticText "      component"
    uid=19_2564 StaticText ":"
    uid=19_2565 StaticText " config"
    uid=19_2566 StaticText ".component"
    uid=19_2567 StaticText ","
    uid=19_2568 StaticText "
"
    uid=19_2569 StaticText "      environment"
    uid=19_2570 StaticText ":"
    uid=19_2571 StaticText " config"
    uid=19_2572 StaticText ".environment"
    uid=19_2573 StaticText ","
    uid=19_2574 StaticText "
"
    uid=19_2575 StaticText "      env"
    uid=19_2576 StaticText ":"
    uid=19_2577 StaticText " config"
    uid=19_2578 StaticText ".env"
    uid=19_2579 StaticText ","
    uid=19_2580 StaticText "
"
    uid=19_2581 StaticText "    })"
    uid=19_2582 StaticText "
"
    uid=19_2583 StaticText "
"
    uid=19_2584 StaticText "    this"
    uid=19_2585 StaticText ".service "
    uid=19_2586 StaticText "="
    uid=19_2587 StaticText " new"
    uid=19_2588 StaticText " KubernetesNodePortService"
    uid=19_2589 StaticText "("
    uid=19_2590 StaticText "this"
    uid=19_2591 StaticText ","
    uid=19_2592 StaticText " 'service'"
    uid=19_2593 StaticText ","
    uid=19_2594 StaticText " {"
    uid=19_2595 StaticText "
"
    uid=19_2596 StaticText "      port"
    uid=19_2597 StaticText ":"
    uid=19_2598 StaticText " config"
    uid=19_2599 StaticText ".port"
    uid=19_2600 StaticText ","
    uid=19_2601 StaticText "
"
    uid=19_2602 StaticText "      app"
    uid=19_2603 StaticText ":"
    uid=19_2604 StaticText " config"
    uid=19_2605 StaticText ".app"
    uid=19_2606 StaticText ","
    uid=19_2607 StaticText "
"
    uid=19_2608 StaticText "      component"
    uid=19_2609 StaticText ":"
    uid=19_2610 StaticText " config"
    uid=19_2611 StaticText ".component"
    uid=19_2612 StaticText ","
    uid=19_2613 StaticText "
"
    uid=19_2614 StaticText "      environment"
    uid=19_2615 StaticText ":"
    uid=19_2616 StaticText " config"
    uid=19_2617 StaticText ".environment"
    uid=19_2618 StaticText ","
    uid=19_2619 StaticText "
"
    uid=19_2620 StaticText "    })"
    uid=19_2621 StaticText "
"
    uid=19_2622 StaticText "
"
    uid=19_2623 StaticText "    new"
    uid=19_2624 StaticText " TerraformOutput"
    uid=19_2625 StaticText "("
    uid=19_2626 StaticText "this"
    uid=19_2627 StaticText ","
    uid=19_2628 StaticText " 'url'"
    uid=19_2629 StaticText ","
    uid=19_2630 StaticText " {"
    uid=19_2631 StaticText "
"
    uid=19_2632 StaticText "      value"
    uid=19_2633 StaticText ":"
    uid=19_2634 StaticText " `http://localhost:"
    uid=19_2635 StaticText "${"
    uid=19_2636 StaticText "config"
    uid=19_2637 StaticText ".port"
    uid=19_2638 StaticText "}"
    uid=19_2639 StaticText "`"
    uid=19_2640 StaticText ","
    uid=19_2641 StaticText "
"
    uid=19_2642 StaticText "    })"
    uid=19_2643 StaticText "
"
    uid=19_2644 StaticText "  }"
    uid=19_2645 StaticText "
"
    uid=19_2646 StaticText "}"
    uid=19_2647 StaticText "
"
    uid=19_2648 button "Copy" description="export type SimpleKubernetesWebAppConfig = KubernetesWebAppDeploymentConfig & KubernetesNodePortServiceConfig export class SimpleKubernetesWebApp extends Construct { public readonly deployment: KubernetesWebAppDeployment public readonly service: KubernetesNodePortService public readonly config: SimpleKubernetesWebAppConfig constructor( scope: Construct, name: string, config: SimpleKubernetesWebAppConfig ) { super(scope, name) this.config = config this.deployment = new KubernetesWebAppDeployment(this, 'deployment', { image: config"
    uid=19_2649 StaticText "This new class also includes a Terraform output for the URL of your NodePort Service."
    uid=19_2650 link "add a test for the simplekuberneteswebapp construct permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#add-a-test-for-the-simplekuberneteswebapp-construct"
    uid=19_2651 StaticText "Add a test for the SimpleKubernetesWebApp construct"
    uid=19_2652 StaticText "In your editor, add a test to "
    uid=19_2653 StaticText "app/__tests__/kubernetes-web-app-test.ts"
    uid=19_2654 StaticText "."
    uid=19_2655 StaticText "Add your "
    uid=19_2656 StaticText "SimpleKubernetesWebApp"
    uid=19_2657 StaticText " to the "
    uid=19_2658 StaticText "import { ... } from '../constructs';"
    uid=19_2659 StaticText " block."
    uid=19_2660 StaticText "__tests__/kubernetes-web-app-test.ts"
    uid=19_2661 StaticText "import"
    uid=19_2662 StaticText " {"
    uid=19_2663 StaticText "
"
    uid=19_2664 StaticText "  KubernetesWebAppDeployment"
    uid=19_2665 StaticText ","
    uid=19_2666 StaticText "
"
    uid=19_2667 StaticText "  KubernetesNodePortService"
    uid=19_2668 StaticText ","
    uid=19_2669 StaticText "
"
    uid=19_2670 StaticText "  SimpleKubernetesWebApp"
    uid=19_2671 StaticText ","
    uid=19_2672 StaticText "
"
    uid=19_2673 StaticText "} "
    uid=19_2674 StaticText "from"
    uid=19_2675 StaticText " "../constructs""
    uid=19_2676 StaticText "
"
    uid=19_2677 StaticText "Add two new tests inside the "
    uid=19_2678 StaticText "describe('Our CDKTF Constructs', () => { ... });"
    uid=19_2679 StaticText " block, on the same level as the "
    uid=19_2680 StaticText "describe('KubernetesWebAppDeployment', () => { ... });"
    uid=19_2681 StaticText " block."
    uid=19_2682 StaticText "__tests__/kubernetes-web-app-test.ts"
    uid=19_2683 StaticText "describe"
    uid=19_2684 StaticText "("
    uid=19_2685 StaticText "'SimpleKubernetesWebApp'"
    uid=19_2686 StaticText ","
    uid=19_2687 StaticText " () "
    uid=19_2688 StaticText "=>"
    uid=19_2689 StaticText " {"
    uid=19_2690 StaticText "
"
    uid=19_2691 StaticText "  it"
    uid=19_2692 StaticText "("
    uid=19_2693 StaticText "'should contain a Service resource'"
    uid=19_2694 StaticText ","
    uid=19_2695 StaticText " () "
    uid=19_2696 StaticText "=>"
    uid=19_2697 StaticText " {"
    uid=19_2698 StaticText "
"
    uid=19_2699 StaticText "    expect"
    uid=19_2700 StaticText "("
    uid=19_2701 StaticText "
"
    uid=19_2702 StaticText "      Testing"
    uid=19_2703 StaticText ".synthScope"
    uid=19_2704 StaticText "((scope) "
    uid=19_2705 StaticText "=>"
    uid=19_2706 StaticText " {"
    uid=19_2707 StaticText "
"
    uid=19_2708 StaticText "        new"
    uid=19_2709 StaticText " SimpleKubernetesWebApp"
    uid=19_2710 StaticText "(scope"
    uid=19_2711 StaticText ","
    uid=19_2712 StaticText " 'myapp-frontend-dev'"
    uid=19_2713 StaticText ","
    uid=19_2714 StaticText " {"
    uid=19_2715 StaticText "
"
    uid=19_2716 StaticText "          image"
    uid=19_2717 StaticText ":"
    uid=19_2718 StaticText " 'nginx:latest'"
    uid=19_2719 StaticText ","
    uid=19_2720 StaticText "
"
    uid=19_2721 StaticText "          replicas"
    uid=19_2722 StaticText ":"
    uid=19_2723 StaticText " 4"
    uid=19_2724 StaticText ","
    uid=19_2725 StaticText "
"
    uid=19_2726 StaticText "          app"
    uid=19_2727 StaticText ":"
    uid=19_2728 StaticText " 'myapp'"
    uid=19_2729 StaticText ","
    uid=19_2730 StaticText "
"
    uid=19_2731 StaticText "          component"
    uid=19_2732 StaticText ":"
    uid=19_2733 StaticText " 'frontent'"
    uid=19_2734 StaticText ","
    uid=19_2735 StaticText "
"
    uid=19_2736 StaticText "          environment"
    uid=19_2737 StaticText ":"
    uid=19_2738 StaticText " 'dev'"
    uid=19_2739 StaticText ","
    uid=19_2740 StaticText "
"
    uid=19_2741 StaticText "          port"
    uid=19_2742 StaticText ":"
    uid=19_2743 StaticText " 30001"
    uid=19_2744 StaticText ","
    uid=19_2745 StaticText "
"
    uid=19_2746 StaticText "        })"
    uid=19_2747 StaticText "
"
    uid=19_2748 StaticText "      })"
    uid=19_2749 StaticText "
"
    uid=19_2750 StaticText "    )"
    uid=19_2751 StaticText ".toHaveResource"
    uid=19_2752 StaticText "("
    uid=19_2753 StaticText "kubernetes"
    uid=19_2754 StaticText "."
    uid=19_2755 StaticText "service"
    uid=19_2756 StaticText ".Service)"
    uid=19_2757 StaticText "
"
    uid=19_2758 StaticText "  })"
    uid=19_2759 StaticText "
"
    uid=19_2760 StaticText "  it"
    uid=19_2761 StaticText "("
    uid=19_2762 StaticText "'should contain a Deployment resource'"
    uid=19_2763 StaticText ","
    uid=19_2764 StaticText " () "
    uid=19_2765 StaticText "=>"
    uid=19_2766 StaticText " {"
    uid=19_2767 StaticText "
"
    uid=19_2768 StaticText "    expect"
    uid=19_2769 StaticText "("
    uid=19_2770 StaticText "
"
    uid=19_2771 StaticText "      Testing"
    uid=19_2772 StaticText ".synthScope"
    uid=19_2773 StaticText "((scope) "
    uid=19_2774 StaticText "=>"
    uid=19_2775 StaticText " {"
    uid=19_2776 StaticText "
"
    uid=19_2777 StaticText "        new"
    uid=19_2778 StaticText " SimpleKubernetesWebApp"
    uid=19_2779 StaticText "(scope"
    uid=19_2780 StaticText ","
    uid=19_2781 StaticText " 'myapp-frontend-dev'"
    uid=19_2782 StaticText ","
    uid=19_2783 StaticText " {"
    uid=19_2784 StaticText "
"
    uid=19_2785 StaticText "          image"
    uid=19_2786 StaticText ":"
    uid=19_2787 StaticText " 'nginx:latest'"
    uid=19_2788 StaticText ","
    uid=19_2789 StaticText "
"
    uid=19_2790 StaticText "          replicas"
    uid=19_2791 StaticText ":"
    uid=19_2792 StaticText " 4"
    uid=19_2793 StaticText ","
    uid=19_2794 StaticText "
"
    uid=19_2795 StaticText "          app"
    uid=19_2796 StaticText ":"
    uid=19_2797 StaticText " 'myapp'"
    uid=19_2798 StaticText ","
    uid=19_2799 StaticText "
"
    uid=19_2800 StaticText "          component"
    uid=19_2801 StaticText ":"
    uid=19_2802 StaticText " 'frontent'"
    uid=19_2803 StaticText ","
    uid=19_2804 StaticText "
"
    uid=19_2805 StaticText "          environment"
    uid=19_2806 StaticText ":"
    uid=19_2807 StaticText " 'dev'"
    uid=19_2808 StaticText ","
    uid=19_2809 StaticText "
"
    uid=19_2810 StaticText "          port"
    uid=19_2811 StaticText ":"
    uid=19_2812 StaticText " 30001"
    uid=19_2813 StaticText ","
    uid=19_2814 StaticText "
"
    uid=19_2815 StaticText "        })"
    uid=19_2816 StaticText "
"
    uid=19_2817 StaticText "      })"
    uid=19_2818 StaticText "
"
    uid=19_2819 StaticText "    )"
    uid=19_2820 StaticText ".toHaveResource"
    uid=19_2821 StaticText "("
    uid=19_2822 StaticText "kubernetes"
    uid=19_2823 StaticText "."
    uid=19_2824 StaticText "deployment"
    uid=19_2825 StaticText ".Deployment)"
    uid=19_2826 StaticText "
"
    uid=19_2827 StaticText "  })"
    uid=19_2828 StaticText "
"
    uid=19_2829 StaticText "})"
    uid=19_2830 StaticText "
"
    uid=19_2831 button "Copy" description="describe('SimpleKubernetesWebApp', () => { it('should contain a Service resource', () => { expect( Testing.synthScope((scope) => { new SimpleKubernetesWebApp(scope, 'myapp-frontend-dev', { image: 'nginx:latest', replicas: 4, app: 'myapp', component: 'frontent', environment: 'dev', port: 30001, }) }) ).toHaveResource(kubernetes.service.Service) }) it('should contain a Deployment resource', () =>"
    uid=19_2832 link "run the tests permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#run-the-tests"
    uid=19_2833 StaticText "Run the tests"
    uid=19_2834 StaticText "Run the tests from the "
    uid=19_2835 StaticText "app/"
    uid=19_2836 StaticText " directory."
    uid=19_2837 StaticText "$"
    uid=19_2838 StaticText " npm run test"
    uid=19_2839 StaticText "
"
    uid=19_2840 StaticText "
"
    uid=19_2841 StaticText ">"
    uid=19_2842 StaticText " app@1.0.0 test"
    uid=19_2843 StaticText "
"
    uid=19_2844 StaticText ">"
    uid=19_2845 StaticText " jest"
    uid=19_2846 StaticText "
"
    uid=19_2847 StaticText "
"
    uid=19_2848 StaticText " PASS  __tests__/main-test.ts (6.019 s)"
    uid=19_2849 StaticText "
"
    uid=19_2850 StaticText " PASS  __tests__/kubernetes-web-app-test.ts (8.059 s)"
    uid=19_2851 StaticText "
"
    uid=19_2852 StaticText "
"
    uid=19_2853 StaticText "Test Suites: 2 passed, 2 total"
    uid=19_2854 StaticText "
"
    uid=19_2855 StaticText "Tests:       1 todo, 4 passed, 5 total"
    uid=19_2856 StaticText "
"
    uid=19_2857 StaticText "Snapshots:   0 total"
    uid=19_2858 StaticText "
"
    uid=19_2859 StaticText "Time:        8.556 s"
    uid=19_2860 StaticText "
"
    uid=19_2861 StaticText "Ran all test suites."
    uid=19_2862 StaticText "
"
    uid=19_2863 button "Copy" description="$ npm run test > app@1.0.0 test > jest PASS __tests__/main-test.ts (6.019 s) PASS __tests__/kubernetes-web-app-test.ts (8.059 s) Test Suites: 2 passed, 2 total Tests: 1 todo, 4 passed, 5 total Snapshots: 0 total Time: 8.556 s Ran all test suites."
    uid=19_2864 link "use the simplekuberneteswebapp construct permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#use-the-simplekuberneteswebapp-construct"
    uid=19_2865 StaticText "Use the SimpleKubernetesWebApp construct"
    uid=19_2866 StaticText "In your editor, update "
    uid=19_2867 StaticText "app/main.ts"
    uid=19_2868 StaticText " to import the "
    uid=19_2869 StaticText "SimpleKubernetesWebApp"
    uid=19_2870 StaticText " construct instead of the seperate Deployment and Service constructs."
    uid=19_2871 StaticText "Replace the entire "
    uid=19_2872 StaticText "import { ... } from "./constructs""
    uid=19_2873 StaticText " block with the following."
    uid=19_2874 StaticText "main.ts"
    uid=19_2875 StaticText "import"
    uid=19_2876 StaticText " { SimpleKubernetesWebApp } "
    uid=19_2877 StaticText "from"
    uid=19_2878 StaticText " "./constructs""
    uid=19_2879 StaticText "
"
    uid=19_2880 button "Copy" description="import { SimpleKubernetesWebApp } from "./constructs""
    uid=19_2881 StaticText "Remove the "
    uid=19_2882 StaticText "new KubernetesWebAppDeployment( ... );"
    uid=19_2883 StaticText " and "
    uid=19_2884 StaticText "new KubernetesNodePortService( ... );"
    uid=19_2885 StaticText " blocks from your "
    uid=19_2886 StaticText "constructor()"
    uid=19_2887 StaticText " function."
    uid=19_2888 StaticText "Replace the old constructs with the new one:"
    uid=19_2889 StaticText "main.ts"
    uid=19_2890 StaticText "new"
    uid=19_2891 StaticText " SimpleKubernetesWebApp"
    uid=19_2892 StaticText "("
    uid=19_2893 StaticText "this"
    uid=19_2894 StaticText ","
    uid=19_2895 StaticText " 'app_frontend'"
    uid=19_2896 StaticText ","
    uid=19_2897 StaticText " {"
    uid=19_2898 StaticText "
"
    uid=19_2899 StaticText "  image"
    uid=19_2900 StaticText ":"
    uid=19_2901 StaticText " 'nginx:latest'"
    uid=19_2902 StaticText ","
    uid=19_2903 StaticText "
"
    uid=19_2904 StaticText "  replicas"
    uid=19_2905 StaticText ":"
    uid=19_2906 StaticText " 3"
    uid=19_2907 StaticText ","
    uid=19_2908 StaticText "
"
    uid=19_2909 StaticText "  port"
    uid=19_2910 StaticText ":"
    uid=19_2911 StaticText " 30001"
    uid=19_2912 StaticText ","
    uid=19_2913 StaticText "
"
    uid=19_2914 StaticText "  app"
    uid=19_2915 StaticText ":"
    uid=19_2916 StaticText " 'myapp'"
    uid=19_2917 StaticText ","
    uid=19_2918 StaticText "
"
    uid=19_2919 StaticText "  component"
    uid=19_2920 StaticText ":"
    uid=19_2921 StaticText " 'frontend'"
    uid=19_2922 StaticText ","
    uid=19_2923 StaticText "
"
    uid=19_2924 StaticText "  environment"
    uid=19_2925 StaticText ":"
    uid=19_2926 StaticText " 'dev'"
    uid=19_2927 StaticText ","
    uid=19_2928 StaticText "
"
    uid=19_2929 StaticText "})"
    uid=19_2930 StaticText "
"
    uid=19_2931 button "Copy" description="new SimpleKubernetesWebApp(this, 'app_frontend', { image: 'nginx:latest', replicas: 3, port: 30001, app: 'myapp', component: 'frontend', environment: 'dev', })"
    uid=19_2932 StaticText "Deploy your application. Respond to the confirmation prompt by choosing "
    uid=19_2933 StaticText "Approve"
    uid=19_2934 StaticText "."
    uid=19_2935 StaticText "$"
    uid=19_2936 StaticText " cdktf deploy"
    uid=19_2937 StaticText "
"
    uid=19_2938 StaticText "app  Initializing the backend..."
    uid=19_2939 StaticText "
"
    uid=19_2940 StaticText "app  Initializing provider plugins..."
    uid=19_2941 StaticText "
"
    uid=19_2942 StaticText "app  - Reusing previous version of hashicorp/kubernetes from the dependency lock file"
    uid=19_2943 StaticText "
"
    uid=19_2944 StaticText "app  - Using previously-installed hashicorp/kubernetes v2.14.0"
    uid=19_2945 StaticText "
"
    uid=19_2946 StaticText "app  Terraform has been successfully initialized!"
    uid=19_2947 StaticText "
"
    uid=19_2948 StaticText "##..."
    uid=19_2949 StaticText "
"
    uid=19_2950 StaticText "     Plan: 2 to add, 0 to change, 0 to destroy."
    uid=19_2951 StaticText "
"
    uid=19_2952 StaticText "
"
    uid=19_2953 StaticText "     Changes to Outputs:"
    uid=19_2954 StaticText "
"
    uid=19_2955 StaticText "       + app_frontend_url_5DD99814 = "http://localhost:30001""
    uid=19_2956 StaticText "
"
    uid=19_2957 StaticText "
"
    uid=19_2958 StaticText "     ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ"
    uid=19_2959 StaticText "
"
    uid=19_2960 StaticText "
"
    uid=19_2961 StaticText "     Saved the plan to: plan"
    uid=19_2962 StaticText "
"
    uid=19_2963 StaticText "
"
    uid=19_2964 StaticText "     To perform exactly these actions, run the following command to apply:"
    uid=19_2965 StaticText "
"
    uid=19_2966 StaticText "         terraform apply "plan""
    uid=19_2967 StaticText "
"
    uid=19_2968 StaticText "
"
    uid=19_2969 StaticText "Please review the diff output above for app"
    uid=19_2970 StaticText "
"
    uid=19_2971 StaticText "‚ùØ"
    uid=19_2972 StaticText " Approve  Applies the changes outlined "
    uid=19_2973 StaticText "in"
    uid=19_2974 StaticText " the plan."
    uid=19_2975 StaticText "
"
    uid=19_2976 StaticText "  Dismiss"
    uid=19_2977 StaticText "
"
    uid=19_2978 StaticText "  Stop"
    uid=19_2979 StaticText "
"
    uid=19_2980 StaticText "app  kubernetes_service.app_frontend_service_C2863249 (app_frontend/service/service): Creating..."
    uid=19_2981 StaticText "
"
    uid=19_2982 StaticText "app  kubernetes_deployment.app_frontend_deployment_0EE98C72 (app_frontend/deployment/deployment): Creating..."
    uid=19_2983 StaticText "
"
    uid=19_2984 StaticText "app  kubernetes_service.app_frontend_service_C2863249 (app_frontend/service/service): Creation complete after 0s [id=default/myapp-frontend-dev]"
    uid=19_2985 StaticText "
"
    uid=19_2986 StaticText "app  kubernetes_deployment.app_frontend_deployment_0EE98C72 (app_frontend/deployment/deployment): Creation complete after 4s [id=default/myapp-frontend-dev]"
    uid=19_2987 StaticText "
"
    uid=19_2988 StaticText "app"
    uid=19_2989 StaticText "
"
    uid=19_2990 StaticText "     Apply complete! Resources: 2 added, 0 changed, 0 destroyed."
    uid=19_2991 StaticText "
"
    uid=19_2992 StaticText "
"
    uid=19_2993 StaticText "app"
    uid=19_2994 StaticText "
"
    uid=19_2995 StaticText "     Outputs:"
    uid=19_2996 StaticText "
"
    uid=19_2997 StaticText "
"
    uid=19_2998 StaticText "     app_frontend_url_5DD99814 = "http://localhost:30001""
    uid=19_2999 StaticText "
"
    uid=19_3000 StaticText "
"
    uid=19_3001 StaticText "  app"
    uid=19_3002 StaticText "
"
    uid=19_3003 StaticText "    app_frontend"
    uid=19_3004 StaticText "
"
    uid=19_3005 StaticText "      url = http://localhost:30001"
    uid=19_3006 StaticText "
"
    uid=19_3007 button "Copy" description="$ cdktf deploy app Initializing the backend... app Initializing provider plugins... app - Reusing previous version of hashicorp/kubernetes from the dependency lock file app - Using previously-installed hashicorp/kubernetes v2.14.0 app Terraform has been successfully initialized! ##... Plan: 2 to add, 0 to change, 0 to destroy. Changes to Outputs: + app_frontend_url_5DD99814 = "http://localhost:30001" ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply "plan" Please review the diff output above for app ‚ùØ Approve Applies the changes outlined in the plan. Dismiss Stop app kubernetes_service.app_frontend_service_C2863249 (app_frontend/service/service): Creating... app kubernetes_deployment.app_frontend_deployment_0EE98C72 (app_frontend/deployment/deployment): Creating... app kubernetes_service.app_frontend_service_C2863249 (app_frontend/service/service): Creation complete after 0s [id=default/myapp-frontend-dev] app kubernetes_deployment.app_frontend_deployment_0EE98C72 (app_frontend/deployment/deployment): Creation complete after 4s [id=default/myapp-frontend-dev] app Apply complete! Resources: 2 added, 0 changed, 0 destroyed. app Outputs: app_frontend_url_5DD99814 = "http://localhost:30001""
    uid=19_3008 StaticText "Notice that after you refactored your applications resources using constructs, CDKTF assigned the resources new names. Because the names have changed, Terraform will treat them as new resources. If you had not destroyed the old application first, then Terraform would attempt to provision the new resources before destroying the old ones. Since both services use the port "
    uid=19_3009 StaticText "30001"
    uid=19_3010 StaticText ", this would result in a port conflict error from Kubernetes."
    uid=19_3011 StaticText "List your running services with the kubectl command."
    uid=19_3012 StaticText "$"
    uid=19_3013 StaticText " kubectl get services"
    uid=19_3014 StaticText "
"
    uid=19_3015 StaticText "NAME                 TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)        AGE"
    uid=19_3016 StaticText "
"
    uid=19_3017 StaticText "kubernetes           ClusterIP   10.96.0.1      <none>        443/TCP        142m"
    uid=19_3018 StaticText "
"
    uid=19_3019 StaticText "myapp-frontend-dev   NodePort    10.96.216.88   <none>        80:30001/TCP   44s"
    uid=19_3020 StaticText "
"
    uid=19_3021 button "Copy" description="$ kubectl get services NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE kubernetes ClusterIP 10.96.0.1 <none> 443/TCP 142m myapp-frontend-dev NodePort 10.96.216.88 <none> 80:30001/TCP 44s"
    uid=19_3022 StaticText "After Kubernetes is finished deploying your application, curl will once again respond with the NGINX welcome page:"
    uid=19_3023 StaticText "$"
    uid=19_3024 StaticText " curl http://localhost:30001"
    uid=19_3025 StaticText "
"
    uid=19_3026 StaticText "<!DOCTYPE html>"
    uid=19_3027 StaticText "
"
    uid=19_3028 StaticText "<html>"
    uid=19_3029 StaticText "
"
    uid=19_3030 StaticText "<head>"
    uid=19_3031 StaticText "
"
    uid=19_3032 StaticText "<title>Welcome to nginx!</title>"
    uid=19_3033 StaticText "
"
    uid=19_3034 StaticText "<style>"
    uid=19_3035 StaticText "
"
    uid=19_3036 StaticText "html { color-scheme: light dark; }"
    uid=19_3037 StaticText "
"
    uid=19_3038 StaticText "body { width: 35em; margin: 0 auto;"
    uid=19_3039 StaticText "
"
    uid=19_3040 StaticText "font-family: Tahoma, Verdana, Arial, sans-serif; }"
    uid=19_3041 StaticText "
"
    uid=19_3042 StaticText "</style>"
    uid=19_3043 StaticText "
"
    uid=19_3044 StaticText "</head>"
    uid=19_3045 StaticText "
"
    uid=19_3046 StaticText "<body>"
    uid=19_3047 StaticText "
"
    uid=19_3048 StaticText "<h1>Welcome to nginx!</h1>"
    uid=19_3049 StaticText "
"
    uid=19_3050 StaticText "<p>If you see this page, the nginx web server is successfully installed and"
    uid=19_3051 StaticText "
"
    uid=19_3052 StaticText "working. Further configuration is required.</p>"
    uid=19_3053 StaticText "
"
    uid=19_3054 StaticText "
"
    uid=19_3055 StaticText "<p>For online documentation and support please refer to"
    uid=19_3056 StaticText "
"
    uid=19_3057 StaticText "<a href="http://nginx.org/">nginx.org</a>.<br/>"
    uid=19_3058 StaticText "
"
    uid=19_3059 StaticText "Commercial support is available at"
    uid=19_3060 StaticText "
"
    uid=19_3061 StaticText "<a href="http://nginx.com/">nginx.com</a>.</p>"
    uid=19_3062 StaticText "
"
    uid=19_3063 StaticText "
"
    uid=19_3064 StaticText "<p><em>Thank you for using nginx.</em></p>"
    uid=19_3065 StaticText "
"
    uid=19_3066 StaticText "</body>"
    uid=19_3067 StaticText "
"
    uid=19_3068 StaticText "</html>"
    uid=19_3069 StaticText "
"
    uid=19_3070 button "Copy" description="$ curl http://localhost:30001 <!DOCTYPE html> <html> <head> <title>Welcome to nginx!</title> <style> html { color-scheme: light dark; } body { width: 35em; margin: 0 auto; font-family: Tahoma, Verdana, Arial, sans-serif; } </style> </head> <body> <h1>Welcome to nginx!</h1> <p>If you see this page, the nginx web server is successfully installed and working. Further configuration is required.</p> <p>For online documentation and support please refer to <a href="http://nginx.org/">nginx.org</a>.<br/> Commercial support is available at <a href="http://nginx.com/">nginx.com</a>.</p> <p><em>Thank you for using nginx.</em></p> </body> </html>"
    uid=19_3071 StaticText "Visit this URL in your web browser to confirm that your application still works as expected after refactoring your code."
    uid=19_3072 link "deploy a custom image permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#deploy-a-custom-image"
    uid=19_3073 StaticText "Deploy a custom image"
    uid=19_3074 StaticText "Now you will deploy a custom image to your application's frontend."
    uid=19_3075 link "build frontend docker image permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#build-frontend-docker-image"
    uid=19_3076 StaticText "Build frontend docker image"
    uid=19_3077 StaticText "Navigate to the "
    uid=19_3078 StaticText "frontend"
    uid=19_3079 StaticText " directory."
    uid=19_3080 StaticText "$"
    uid=19_3081 StaticText " cd ../frontend"
    uid=19_3082 StaticText "
"
    uid=19_3083 button "Copy" description="$ cd ../frontend"
    uid=19_3084 StaticText "This directory contains Terramino, a Terraform-skinned Tetris game, which you will deploy as a Docker container."
    uid=19_3085 StaticText "Build a Docker image for your web app:"
    uid=19_3086 StaticText "$"
    uid=19_3087 StaticText " docker build "
    uid=19_3088 StaticText "."
    uid=19_3089 StaticText " -t nocorp-frontend"
    uid=19_3090 StaticText "
"
    uid=19_3091 StaticText "[+] Building 33.0s (12/12) FINISHED"
    uid=19_3092 StaticText "
"
    uid=19_3093 StaticText " => [internal] load build definition from Dockerfile                                                                              0.0s"
    uid=19_3094 StaticText "
"
    uid=19_3095 StaticText " => => transferring dockerfile: 295B                                                                                              0.0s"
    uid=19_3096 StaticText "
"
    uid=19_3097 StaticText " => [internal] load .dockerignore                                                                                                 0.0s"
    uid=19_3098 StaticText "
"
    uid=19_3099 StaticText " => => transferring context: 67B                                                                                                  0.0s"
    uid=19_3100 StaticText "
"
    uid=19_3101 StaticText " => [internal] load metadata for docker.io/library/node:14                                                                        1.3s"
    uid=19_3102 StaticText "
"
    uid=19_3103 StaticText " => [1/7] FROM docker.io/library/node:14@sha256:109b118e0d49dd12ca6f5b84a7a9a9c8a147f75567b3ad50620bdacaf5e6320d                 26.2s"
    uid=19_3104 StaticText "
"
    uid=19_3105 StaticText "## ..."
    uid=19_3106 StaticText "
"
    uid=19_3107 StaticText " => [internal] load build context                                                                                                 0.0s"
    uid=19_3108 StaticText "
"
    uid=19_3109 StaticText " => => transferring context: 718.44kB                                                                                             0.0s"
    uid=19_3110 StaticText "
"
    uid=19_3111 StaticText " => [2/7] WORKDIR /usr/share/app                                                                                                  0.2s"
    uid=19_3112 StaticText "
"
    uid=19_3113 StaticText " => [3/7] COPY package*.json ./                                                                                                   0.0s"
    uid=19_3114 StaticText "
"
    uid=19_3115 StaticText " => [4/7] COPY frontend.js ./                                                                                                     0.0s"
    uid=19_3116 StaticText "
"
    uid=19_3117 StaticText " => [5/7] COPY public/ ./public/                                                                                                  0.0s"
    uid=19_3118 StaticText "
"
    uid=19_3119 StaticText " => [6/7] COPY views/ ./views/                                                                                                    0.0s"
    uid=19_3120 StaticText "
"
    uid=19_3121 StaticText " => [7/7] RUN npm install                                                                                                         4.8s"
    uid=19_3122 StaticText "
"
    uid=19_3123 StaticText " => exporting to image                                                                                                            0.2s"
    uid=19_3124 StaticText "
"
    uid=19_3125 StaticText " => => exporting layers                                                                                                           0.2s"
    uid=19_3126 StaticText "
"
    uid=19_3127 StaticText " => => writing image sha256:9dc1ce3668a79770f694ddeae6a5c2236527c381cd429d850eb4a37a8c565ce1                                      0.0s"
    uid=19_3128 StaticText "
"
    uid=19_3129 StaticText " => => naming to docker.io/library/nocorp-frontend                                                                                0.0s"
    uid=19_3130 StaticText "
"
    uid=19_3131 StaticText "
"
    uid=19_3132 StaticText "Use 'docker scan' to run Snyk tests against images to find vulnerabilities and learn how to fix them"
    uid=19_3133 StaticText "
"
    uid=19_3134 button "Copy" description="$ docker build . -t nocorp-frontend [+] Building 33.0s (12/12) FINISHED => [internal] load build definition from Dockerfile 0.0s => => transferring dockerfile: 295B 0.0s => [internal] load .dockerignore 0.0s => => transferring context: 67B 0.0s => [internal] load metadata for docker.io/library/node:14 1.3s => [1/7] FROM docker.io/library/node:14@sha256:109b118e0d49dd12ca6f5b84a7a9a9c8a147f75567b3ad50620bdacaf5e6320d 26.2s ## ... => [internal] load build context 0.0s => => transferring context: 718.44kB 0.0s => [2/7] WORKDIR /usr/share/app 0.2s => [3/7] COPY package*.json ./ 0.0s => [4/7] COPY frontend.js ./ 0.0s => [5/7] COPY public/ ./public/ 0.0s => [6/7] COPY views/ ./views/ 0.0s => [7/7] RUN npm install 4.8s => exporting to image 0.2s => => exporting layers 0.2s => => writing image sha256:9dc1ce3668a79770f694ddeae6a5c2236527c381cd429d850eb4a37a8c565ce1 0.0s => => naming to docker.io/library/nocorp-frontend 0.0s Use 'docker scan' to run Snyk tests against images to find vulnerabilities and learn how to fix them"
    uid=19_3135 StaticText "Tag your image in the local Docker registry."
    uid=19_3136 StaticText "$"
    uid=19_3137 StaticText " docker tag nocorp-frontend:latest localhost:5000/nocorp-frontend:latest"
    uid=19_3138 StaticText "
"
    uid=19_3139 button "Copy" description="$ docker tag nocorp-frontend:latest localhost:5000/nocorp-frontend:latest"
    uid=19_3140 StaticText "Push your image to the registry."
    uid=19_3141 StaticText "$"
    uid=19_3142 StaticText " docker push localhost:5000/nocorp-frontend:latest"
    uid=19_3143 StaticText "
"
    uid=19_3144 StaticText "The push refers to repository [localhost:5000/nocorp-frontend]"
    uid=19_3145 StaticText "
"
    uid=19_3146 StaticText "72d21ab0ed02: Pushed"
    uid=19_3147 StaticText "
"
    uid=19_3148 StaticText "a831dca05db6: Pushed"
    uid=19_3149 StaticText "
"
    uid=19_3150 StaticText "66018b4c7669: Pushed"
    uid=19_3151 StaticText "
"
    uid=19_3152 StaticText "65f4bcfe9daa: Pushed"
    uid=19_3153 StaticText "
"
    uid=19_3154 StaticText "add6fa0cc975: Pushed"
    uid=19_3155 StaticText "
"
    uid=19_3156 StaticText "8628cf05347a: Pushed"
    uid=19_3157 StaticText "
"
    uid=19_3158 StaticText "85bfe2c7cf32: Pushed"
    uid=19_3159 StaticText "
"
    uid=19_3160 StaticText "28e2f0d3695c: Pushed"
    uid=19_3161 StaticText "
"
    uid=19_3162 StaticText "b892edc3d92e: Pushed"
    uid=19_3163 StaticText "
"
    uid=19_3164 StaticText "f1486e967e48: Pushed"
    uid=19_3165 StaticText "
"
    uid=19_3166 StaticText "5750262417ad: Pushed"
    uid=19_3167 StaticText "
"
    uid=19_3168 StaticText "9ed3c35b4335: Pushed"
    uid=19_3169 StaticText "
"
    uid=19_3170 StaticText "6f7f3f280040: Pushed"
    uid=19_3171 StaticText "
"
    uid=19_3172 StaticText "d6e0d602719c: Pushed"
    uid=19_3173 StaticText "
"
    uid=19_3174 StaticText "73c3e7ef7bc6: Pushed"
    uid=19_3175 StaticText "
"
    uid=19_3176 StaticText "latest: digest: sha256:f56babe32077523e891b24af0e38fe00026c7f8ed38b89d90a102aaeeb3d40b8 size: 3465"
    uid=19_3177 StaticText "
"
    uid=19_3178 button "Copy" description="$ docker push localhost:5000/nocorp-frontend:latest The push refers to repository [localhost:5000/nocorp-frontend] 72d21ab0ed02: Pushed a831dca05db6: Pushed 66018b4c7669: Pushed 65f4bcfe9daa: Pushed add6fa0cc975: Pushed 8628cf05347a: Pushed 85bfe2c7cf32: Pushed 28e2f0d3695c: Pushed b892edc3d92e: Pushed f1486e967e48: Pushed 5750262417ad: Pushed 9ed3c35b4335: Pushed 6f7f3f280040: Pushed d6e0d602719c: Pushed 73c3e7ef7bc6: Pushed latest: digest: sha256:f56babe32077523e891b24af0e38fe00026c7f8ed38b89d90a102aaeeb3d40b8 size: 3465"
    uid=19_3179 StaticText "Now your application's frontend is available as a Docker container that your Kubernetes instance can deploy."
    uid=19_3180 link "use new frontend image permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#use-new-frontend-image"
    uid=19_3181 StaticText "Use new frontend image"
    uid=19_3182 StaticText "In your editor, open "
    uid=19_3183 StaticText "app/main.ts"
    uid=19_3184 StaticText ", and replace the "
    uid=19_3185 StaticText "image"
    uid=19_3186 StaticText " parameter with the location of your new image."
    uid=19_3187 StaticText "app/main.ts"
    uid=19_3188 StaticText "    new"
    uid=19_3189 StaticText " SimpleKubernetesWebApp"
    uid=19_3190 StaticText "("
    uid=19_3191 StaticText "this"
    uid=19_3192 StaticText ","
    uid=19_3193 StaticText " 'app_frontend'"
    uid=19_3194 StaticText ","
    uid=19_3195 StaticText " {"
    uid=19_3196 StaticText "
"
    uid=19_3197 StaticText "      image"
    uid=19_3198 StaticText ":"
    uid=19_3199 StaticText " 'localhost:5000/nocorp-frontend:latest'"
    uid=19_3200 StaticText ","
    uid=19_3201 StaticText "
"
    uid=19_3202 StaticText "      replicas"
    uid=19_3203 StaticText ":"
    uid=19_3204 StaticText " 3"
    uid=19_3205 StaticText ","
    uid=19_3206 StaticText "
"
    uid=19_3207 StaticText "      port"
    uid=19_3208 StaticText ":"
    uid=19_3209 StaticText " 30001"
    uid=19_3210 StaticText ","
    uid=19_3211 StaticText "
"
    uid=19_3212 StaticText "      app"
    uid=19_3213 StaticText ":"
    uid=19_3214 StaticText " 'myapp'"
    uid=19_3215 StaticText ","
    uid=19_3216 StaticText "
"
    uid=19_3217 StaticText "      component"
    uid=19_3218 StaticText ":"
    uid=19_3219 StaticText " 'frontend'"
    uid=19_3220 StaticText ","
    uid=19_3221 StaticText "
"
    uid=19_3222 StaticText "      environment"
    uid=19_3223 StaticText ":"
    uid=19_3224 StaticText " 'dev'"
    uid=19_3225 StaticText ","
    uid=19_3226 StaticText "
"
    uid=19_3227 StaticText "    });"
    uid=19_3228 StaticText "
"
    uid=19_3229 StaticText "In your terminal, return to the "
    uid=19_3230 StaticText "app"
    uid=19_3231 StaticText " directory."
    uid=19_3232 StaticText "$"
    uid=19_3233 StaticText " cd ../app"
    uid=19_3234 StaticText "
"
    uid=19_3235 button "Copy" description="$ cd ../app"
    uid=19_3236 StaticText "Deploy your new frontend with the new image. Respond to the confirmation prompt with a "
    uid=19_3237 StaticText "yes"
    uid=19_3238 StaticText "."
    uid=19_3239 StaticText "$"
    uid=19_3240 StaticText " cdktf deploy"
    uid=19_3241 StaticText "
"
    uid=19_3242 StaticText "app  Initializing the backend..."
    uid=19_3243 StaticText "
"
    uid=19_3244 StaticText "app  Initializing provider plugins..."
    uid=19_3245 StaticText "
"
    uid=19_3246 StaticText "app  - Reusing previous version of hashicorp/kubernetes from the dependency lock file"
    uid=19_3247 StaticText "
"
    uid=19_3248 StaticText "app  - Using previously-installed hashicorp/kubernetes v2.14.0"
    uid=19_3249 StaticText "
"
    uid=19_3250 StaticText "
"
    uid=19_3251 StaticText "     Terraform has been successfully initialized!"
    uid=19_3252 StaticText "
"
    uid=19_3253 StaticText "##..."
    uid=19_3254 StaticText "
"
    uid=19_3255 StaticText "app  Terraform used the selected providers to generate the following execution"
    uid=19_3256 StaticText "
"
    uid=19_3257 StaticText "     plan. Resource actions are indicated with the following symbols:"
    uid=19_3258 StaticText "
"
    uid=19_3259 StaticText "       ~ update in-place"
    uid=19_3260 StaticText "
"
    uid=19_3261 StaticText "
"
    uid=19_3262 StaticText "     Terraform will perform the following actions:"
    uid=19_3263 StaticText "
"
    uid=19_3264 StaticText "app    # kubernetes_deployment.app_frontend_deployment_0EE98C72 (app_frontend/deployment/deployment) will be updated in-place"
    uid=19_3265 StaticText "
"
    uid=19_3266 StaticText "       ~ resource "kubernetes_deployment" "app_frontend_deployment_0EE98C72" {"
    uid=19_3267 StaticText "
"
    uid=19_3268 StaticText "             id               = "default/myapp-frontend-dev""
    uid=19_3269 StaticText "
"
    uid=19_3270 StaticText "             # (1 unchanged attribute hidden)"
    uid=19_3271 StaticText "
"
    uid=19_3272 StaticText "
"
    uid=19_3273 StaticText "           ~ spec {"
    uid=19_3274 StaticText "
"
    uid=19_3275 StaticText "                 # (5 unchanged attributes hidden)"
    uid=19_3276 StaticText "
"
    uid=19_3277 StaticText "
"
    uid=19_3278 StaticText "               ~ template {"
    uid=19_3279 StaticText "
"
    uid=19_3280 StaticText "
"
    uid=19_3281 StaticText "                   ~ spec {"
    uid=19_3282 StaticText "
"
    uid=19_3283 StaticText "                         # (11 unchanged attributes hidden)"
    uid=19_3284 StaticText "
"
    uid=19_3285 StaticText "
"
    uid=19_3286 StaticText "                       ~ container {"
    uid=19_3287 StaticText "
"
    uid=19_3288 StaticText "                           ~ image                      = "nginx:latest" -> "localhost:5000/nocorp-frontend:latest""
    uid=19_3289 StaticText "
"
    uid=19_3290 StaticText "                             name                       = "myapp-frontend-dev""
    uid=19_3291 StaticText "
"
    uid=19_3292 StaticText "                             # (8 unchanged attributes hidden)"
    uid=19_3293 StaticText "
"
    uid=19_3294 StaticText "##..."
    uid=19_3295 StaticText "
"
    uid=19_3296 StaticText "     Plan: 0 to add, 1 to change, 0 to destroy."
    uid=19_3297 StaticText "
"
    uid=19_3298 StaticText "
"
    uid=19_3299 StaticText "     ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ"
    uid=19_3300 StaticText "
"
    uid=19_3301 StaticText "
"
    uid=19_3302 StaticText "     Saved the plan to: plan"
    uid=19_3303 StaticText "
"
    uid=19_3304 StaticText "
"
    uid=19_3305 StaticText "     To perform exactly these actions, run the following command to apply:"
    uid=19_3306 StaticText "
"
    uid=19_3307 StaticText "         terraform apply "plan""
    uid=19_3308 StaticText "
"
    uid=19_3309 StaticText "
"
    uid=19_3310 StaticText "Please review the diff output above for app"
    uid=19_3311 StaticText "
"
    uid=19_3312 StaticText "‚ùØ"
    uid=19_3313 StaticText " Approve  Applies the changes outlined "
    uid=19_3314 StaticText "in"
    uid=19_3315 StaticText " the plan."
    uid=19_3316 StaticText "
"
    uid=19_3317 StaticText "  Dismiss"
    uid=19_3318 StaticText "
"
    uid=19_3319 StaticText "  Stop"
    uid=19_3320 StaticText "
"
    uid=19_3321 StaticText "##..."
    uid=19_3322 StaticText "
"
    uid=19_3323 StaticText "app  kubernetes_deployment.app_frontend_deployment_0EE98C72 (app_frontend/deployment/deployment): Modifying... [id=default/myapp-frontend-dev]"
    uid=19_3324 StaticText "
"
    uid=19_3325 StaticText "app  kubernetes_deployment.app_frontend_deployment_0EE98C72 (app_frontend/deployment/deployment): Still modifying... [id=default/myapp-frontend-dev, 10s elapsed]"
    uid=19_3326 StaticText "
"
    uid=19_3327 StaticText "app  kubernetes_deployment.app_frontend_deployment_0EE98C72 (app_frontend/deployment/deployment): Still modifying... [id=default/myapp-frontend-dev, 20s elapsed]"
    uid=19_3328 StaticText "
"
    uid=19_3329 StaticText "app  kubernetes_deployment.app_frontend_deployment_0EE98C72 (app_frontend/deployment/deployment): Modifications complete after 25s [id=default/myapp-frontend-dev]"
    uid=19_3330 StaticText "
"
    uid=19_3331 StaticText "app"
    uid=19_3332 StaticText "
"
    uid=19_3333 StaticText "     Apply complete! Resources: 0 added, 1 changed, 0 destroyed."
    uid=19_3334 StaticText "
"
    uid=19_3335 StaticText "
"
    uid=19_3336 StaticText "     Outputs:"
    uid=19_3337 StaticText "
"
    uid=19_3338 StaticText "
"
    uid=19_3339 StaticText "
"
    uid=19_3340 StaticText "app  app_frontend_url_5DD99814 = "http://localhost:30001""
    uid=19_3341 StaticText "
"
    uid=19_3342 StaticText "
"
    uid=19_3343 StaticText "  app"
    uid=19_3344 StaticText "
"
    uid=19_3345 StaticText "    app_frontend"
    uid=19_3346 StaticText "
"
    uid=19_3347 StaticText "      url = http://localhost:30001"
    uid=19_3348 StaticText "
"
    uid=19_3349 button "Copy" description="$ cdktf deploy app Initializing the backend... app Initializing provider plugins... app - Reusing previous version of hashicorp/kubernetes from the dependency lock file app - Using previously-installed hashicorp/kubernetes v2.14.0 Terraform has been successfully initialized! ##... app Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols: ~ update in-place Terraform will perform the following actions: app # kubernetes_deployment.app_frontend_deployment_0EE98C72 (app_frontend/deployment/deployment) will be updated in-place ~ resource "kubernetes_deployment" "app_frontend_deployment_0EE98C72" { id = "default/myapp-frontend-dev" # (1 unchanged attribute hidden) ~ spec { # (5 unchanged attributes hidden) ~ template { ~ spec { # (11 unchanged attributes hidden) ~ container { ~ image = "nginx:latest" -> "localhost:5000/nocorp-frontend:latest" name = "myapp-frontend-dev" # (8 unchanged attributes hidden) ##... Plan: 0 to add, 1 to change, 0 to destroy. ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ"
    uid=19_3350 StaticText "Kubernetes will take a few minutes to deploy the new container image. Use "
    uid=19_3351 StaticText "kubectl"
    uid=19_3352 StaticText " to check your deployment's status."
    uid=19_3353 StaticText "$"
    uid=19_3354 StaticText " kubectl get deployments"
    uid=19_3355 StaticText "
"
    uid=19_3356 StaticText "NAME                 READY   UP-TO-DATE   AVAILABLE   AGE"
    uid=19_3357 StaticText "
"
    uid=19_3358 StaticText "myapp-frontend-dev   3/3     3            3           43s"
    uid=19_3359 StaticText "
"
    uid=19_3360 button "Copy" description="$ kubectl get deployments NAME READY UP-TO-DATE AVAILABLE AGE myapp-frontend-dev 3/3 3 3 43s"
    uid=19_3361 StaticText "Once all three replicas are up-to-date, curl will respond with a Terramino page instead of the NGINX welcome page."
    uid=19_3362 StaticText "$"
    uid=19_3363 StaticText " curl http://localhost:30001"
    uid=19_3364 StaticText "
"
    uid=19_3365 StaticText "<!DOCTYPE html><html><head><title>Terranimo</title></head><link rel="stylesheet" href="/styles/terramino.css"></html><body><div class="score" id="score"></div><div class="container"><div class="content"><h1>Terramino</h1><p class="error" id="errorMessage">Could not connect to server! <br/> Reload to try again.</p><p>Move: ‚Üê ‚Üí  Rotate: ‚Üë  Drop: ‚Üì</p></div><div class="content"><canvas width="320" height="640" id="game"></canvas></div></div><script src="/scripts/terramino.js"></script><script>start('http://localhost:30002')</script></body>"
    uid=19_3366 StaticText "
"
    uid=19_3367 button "Copy" description="$ curl http://localhost:30001 <!DOCTYPE html><html><head><title>Terranimo</title></head><link rel="stylesheet" href="/styles/terramino.css"></html><body><div class="score" id="score"></div><div class="container"><div class="content"><h1>Terramino</h1><p class="error" id="errorMessage">Could not connect to server! <br/> Reload to try again.</p><p>Move: ‚Üê ‚Üí Rotate: ‚Üë Drop: ‚Üì</p></div><div class="content"><canvas width="320" height="640" id="game"></canvas></div></div><script src="/scripts/terramino.js"></script><script>start('http://localhost:30002')</script></body>"
    uid=19_3368 StaticText "Visit "
    uid=19_3369 StaticText "http://localhost:30001"
    uid=19_3370 StaticText " to review the application. The app will display an error, because you have not yet deployed the backend server."
    uid=19_3371 link "add a backend service permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#add-a-backend-service"
    uid=19_3372 StaticText "Add a backend service"
    uid=19_3373 StaticText "Now you will deploy a backend component to your application, using the "
    uid=19_3374 StaticText "SimpleKubernetesWebApp"
    uid=19_3375 StaticText " construct."
    uid=19_3376 link "build backend image permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#build-backend-image"
    uid=19_3377 StaticText "Build backend image"
    uid=19_3378 StaticText "In your terminal, navigate to the "
    uid=19_3379 StaticText "backend"
    uid=19_3380 StaticText " directory."
    uid=19_3381 StaticText "$"
    uid=19_3382 StaticText " cd ../backend"
    uid=19_3383 StaticText "
"
    uid=19_3384 button "Copy" description="$ cd ../backend"
    uid=19_3385 StaticText "Use NPM to build and push the Docker image for your application backend."
    uid=19_3386 StaticText "$"
    uid=19_3387 StaticText " npm run deploy"
    uid=19_3388 StaticText "
"
    uid=19_3389 StaticText ">"
    uid=19_3390 StaticText " nocorp-backend-app@1.0.0 deploy /Users/"
    uid=19_3391 StaticText "<"
    uid=19_3392 StaticText "YOU"
    uid=19_3393 StaticText ">"
    uid=19_3394 StaticText "/code/learn-terraform-cdktf-applications/backend"
    uid=19_3395 StaticText "
"
    uid=19_3396 StaticText ">"
    uid=19_3397 StaticText " npm run build "
    uid=19_3398 StaticText "&&"
    uid=19_3399 StaticText " npm"
    uid=19_3400 StaticText " run"
    uid=19_3401 StaticText " tag"
    uid=19_3402 StaticText " &&"
    uid=19_3403 StaticText " npm"
    uid=19_3404 StaticText " run"
    uid=19_3405 StaticText " push"
    uid=19_3406 StaticText "
"
    uid=19_3407 StaticText "
"
    uid=19_3408 StaticText "
"
    uid=19_3409 StaticText ">"
    uid=19_3410 StaticText " nocorp-backend-app@1.0.0 build /Users/"
    uid=19_3411 StaticText "<"
    uid=19_3412 StaticText "YOU"
    uid=19_3413 StaticText ">"
    uid=19_3414 StaticText "/code/learn-terraform-cdktf-applications/backend"
    uid=19_3415 StaticText "
"
    uid=19_3416 StaticText ">"
    uid=19_3417 StaticText " docker build "
    uid=19_3418 StaticText "."
    uid=19_3419 StaticText " -t nocorp-backend"
    uid=19_3420 StaticText "
"
    uid=19_3421 StaticText "## ..."
    uid=19_3422 StaticText "
"
    uid=19_3423 StaticText "The push refers to repository [localhost:5000/nocorp-backend]"
    uid=19_3424 StaticText "
"
    uid=19_3425 StaticText "676744aedcf3: Pushed"
    uid=19_3426 StaticText "
"
    uid=19_3427 StaticText "e64b93b2c9bd: Pushed"
    uid=19_3428 StaticText "
"
    uid=19_3429 StaticText "8628cf05347a: Mounted from nocorp-frontend"
    uid=19_3430 StaticText "
"
    uid=19_3431 StaticText "85bfe2c7cf32: Mounted from nocorp-frontend"
    uid=19_3432 StaticText "
"
    uid=19_3433 StaticText "28e2f0d3695c: Mounted from nocorp-frontend"
    uid=19_3434 StaticText "
"
    uid=19_3435 StaticText "b892edc3d92e: Mounted from nocorp-frontend"
    uid=19_3436 StaticText "
"
    uid=19_3437 StaticText "f1486e967e48: Mounted from nocorp-frontend"
    uid=19_3438 StaticText "
"
    uid=19_3439 StaticText "5750262417ad: Mounted from nocorp-frontend"
    uid=19_3440 StaticText "
"
    uid=19_3441 StaticText "9ed3c35b4335: Mounted from nocorp-frontend"
    uid=19_3442 StaticText "
"
    uid=19_3443 StaticText "6f7f3f280040: Mounted from nocorp-frontend"
    uid=19_3444 StaticText "
"
    uid=19_3445 StaticText "d6e0d602719c: Mounted from nocorp-frontend"
    uid=19_3446 StaticText "
"
    uid=19_3447 StaticText "73c3e7ef7bc6: Mounted from nocorp-frontend"
    uid=19_3448 StaticText "
"
    uid=19_3449 StaticText "latest: digest: sha256:845e60dd8350066a89757f1bdb200584f317e5b15d68cc9609a3c359f3736676 size: 2841"
    uid=19_3450 StaticText "
"
    uid=19_3451 button "Copy" description="$ npm run deploy > nocorp-backend-app@1.0.0 deploy /Users/<YOU>/code/learn-terraform-cdktf-applications/backend > npm run build && npm run tag && npm run push > nocorp-backend-app@1.0.0 build /Users/<YOU>/code/learn-terraform-cdktf-applications/backend > docker build . -t nocorp-backend ## ... The push refers to repository [localhost:5000/nocorp-backend] 676744aedcf3: Pushed e64b93b2c9bd: Pushed 8628cf05347a: Mounted from nocorp-frontend 85bfe2c7cf32: Mounted from nocorp-frontend 28e2f0d3695c: Mounted from nocorp-frontend b892edc3d92e: Mounted from nocorp-frontend f1486e967e48: Mounted from nocorp-frontend 5750262417ad: Mounted from nocorp-frontend 9ed3c35b4335: Mounted from nocorp-frontend 6f7f3f280040: Mounted from nocorp-frontend d6e0d602719c: Mounted from nocorp-frontend 73c3e7ef7bc6: Mounted from nocorp-frontend latest: digest: sha256:845e60dd8350066a89757f1bdb200584f317e5b15d68cc9609a3c359f3736676 size: 2841"
    uid=19_3452 StaticText "This command automatically ran the same build, tag, and push steps that you ran manually for your frontend image."
    uid=19_3453 StaticText "In your editor, open "
    uid=19_3454 StaticText "app/main.ts"
    uid=19_3455 StaticText ", and add a new "
    uid=19_3456 StaticText "SimpleKubernetesWebApp"
    uid=19_3457 StaticText " immediately before the "
    uid=19_3458 StaticText "new SimpleKubernetesWebApp(this, 'app_frontend', { ... });"
    uid=19_3459 StaticText " block."
    uid=19_3460 StaticText "main.ts"
    uid=19_3461 StaticText "const"
    uid=19_3462 StaticText " app_backend"
    uid=19_3463 StaticText " ="
    uid=19_3464 StaticText " new"
    uid=19_3465 StaticText " SimpleKubernetesWebApp"
    uid=19_3466 StaticText "("
    uid=19_3467 StaticText "this"
    uid=19_3468 StaticText ","
    uid=19_3469 StaticText " 'app_backend'"
    uid=19_3470 StaticText ","
    uid=19_3471 StaticText " {"
    uid=19_3472 StaticText "
"
    uid=19_3473 StaticText "  image"
    uid=19_3474 StaticText ":"
    uid=19_3475 StaticText " 'localhost:5000/nocorp-backend:latest'"
    uid=19_3476 StaticText ","
    uid=19_3477 StaticText "
"
    uid=19_3478 StaticText "  replicas"
    uid=19_3479 StaticText ":"
    uid=19_3480 StaticText " 1"
    uid=19_3481 StaticText ","
    uid=19_3482 StaticText "
"
    uid=19_3483 StaticText "  port"
    uid=19_3484 StaticText ":"
    uid=19_3485 StaticText " 30002"
    uid=19_3486 StaticText ","
    uid=19_3487 StaticText "
"
    uid=19_3488 StaticText "  app"
    uid=19_3489 StaticText ":"
    uid=19_3490 StaticText " 'myapp'"
    uid=19_3491 StaticText ","
    uid=19_3492 StaticText "
"
    uid=19_3493 StaticText "  component"
    uid=19_3494 StaticText ":"
    uid=19_3495 StaticText " 'backend'"
    uid=19_3496 StaticText ","
    uid=19_3497 StaticText "
"
    uid=19_3498 StaticText "  environment"
    uid=19_3499 StaticText ":"
    uid=19_3500 StaticText " 'dev'"
    uid=19_3501 StaticText ","
    uid=19_3502 StaticText "
"
    uid=19_3503 StaticText "})"
    uid=19_3504 StaticText "
"
    uid=19_3505 button "Copy" description="const app_backend = new SimpleKubernetesWebApp(this, 'app_backend', { image: 'localhost:5000/nocorp-backend:latest', replicas: 1, port: 30002, app: 'myapp', component: 'backend', environment: 'dev', })"
    uid=19_3506 StaticText "Your application's frontend needs access to the backend's URL. Update the frontend block in "
    uid=19_3507 StaticText "app/main.ts"
    uid=19_3508 StaticText " to pass this as an environment variable."
    uid=19_3509 StaticText "main.ts"
    uid=19_3510 StaticText "new"
    uid=19_3511 StaticText " SimpleKubernetesWebApp"
    uid=19_3512 StaticText "("
    uid=19_3513 StaticText "this"
    uid=19_3514 StaticText ","
    uid=19_3515 StaticText " 'app_frontend'"
    uid=19_3516 StaticText ","
    uid=19_3517 StaticText " {"
    uid=19_3518 StaticText "
"
    uid=19_3519 StaticText "  image"
    uid=19_3520 StaticText ":"
    uid=19_3521 StaticText " 'localhost:5000/nocorp-frontend:latest'"
    uid=19_3522 StaticText ","
    uid=19_3523 StaticText "
"
    uid=19_3524 StaticText "  replicas"
    uid=19_3525 StaticText ":"
    uid=19_3526 StaticText " 3"
    uid=19_3527 StaticText ","
    uid=19_3528 StaticText "
"
    uid=19_3529 StaticText "  port"
    uid=19_3530 StaticText ":"
    uid=19_3531 StaticText " 30001"
    uid=19_3532 StaticText ","
    uid=19_3533 StaticText "
"
    uid=19_3534 StaticText "  app"
    uid=19_3535 StaticText ":"
    uid=19_3536 StaticText " 'myapp'"
    uid=19_3537 StaticText ","
    uid=19_3538 StaticText "
"
    uid=19_3539 StaticText "  component"
    uid=19_3540 StaticText ":"
    uid=19_3541 StaticText " 'frontend'"
    uid=19_3542 StaticText ","
    uid=19_3543 StaticText "
"
    uid=19_3544 StaticText "  environment"
    uid=19_3545 StaticText ":"
    uid=19_3546 StaticText " 'dev'"
    uid=19_3547 StaticText ","
    uid=19_3548 StaticText "
"
    uid=19_3549 StaticText "  env"
    uid=19_3550 StaticText ":"
    uid=19_3551 StaticText " { BACKEND_APP_URL"
    uid=19_3552 StaticText ":"
    uid=19_3553 StaticText " `http://localhost:"
    uid=19_3554 StaticText "${"
    uid=19_3555 StaticText "app_backend"
    uid=19_3556 StaticText "."
    uid=19_3557 StaticText "config"
    uid=19_3558 StaticText ".port"
    uid=19_3559 StaticText "}"
    uid=19_3560 StaticText "`"
    uid=19_3561 StaticText " }"
    uid=19_3562 StaticText ","
    uid=19_3563 StaticText "
"
    uid=19_3564 StaticText "})"
    uid=19_3565 StaticText "
"
    uid=19_3566 StaticText "In your terminal, return to the "
    uid=19_3567 StaticText "app"
    uid=19_3568 StaticText " directory."
    uid=19_3569 StaticText "$"
    uid=19_3570 StaticText " cd ../app"
    uid=19_3571 StaticText "
"
    uid=19_3572 button "Copy" description="$ cd ../app"
    uid=19_3573 StaticText "Deploy your new backend. Respond to the confirmation prompt with a "
    uid=19_3574 StaticText "yes"
    uid=19_3575 StaticText "."
    uid=19_3576 StaticText "$"
    uid=19_3577 StaticText " cdktf deploy"
    uid=19_3578 StaticText "
"
    uid=19_3579 StaticText "app  Initializing the backend..."
    uid=19_3580 StaticText "
"
    uid=19_3581 StaticText "app  Initializing provider plugins..."
    uid=19_3582 StaticText "
"
    uid=19_3583 StaticText "     - Reusing previous version of hashicorp/kubernetes from the dependency lock file"
    uid=19_3584 StaticText "
"
    uid=19_3585 StaticText "app  - Using previously-installed hashicorp/kubernetes v2.14.0"
    uid=19_3586 StaticText "
"
    uid=19_3587 StaticText "
"
    uid=19_3588 StaticText "     Terraform has been successfully initialized!"
    uid=19_3589 StaticText "
"
    uid=19_3590 StaticText "##..."
    uid=19_3591 StaticText "
"
    uid=19_3592 StaticText "app  Terraform used the selected providers to generate the following execution"
    uid=19_3593 StaticText "
"
    uid=19_3594 StaticText "     plan. Resource actions are indicated with the following symbols:"
    uid=19_3595 StaticText "
"
    uid=19_3596 StaticText "       + create"
    uid=19_3597 StaticText "
"
    uid=19_3598 StaticText "       ~ update in-place"
    uid=19_3599 StaticText "
"
    uid=19_3600 StaticText "
"
    uid=19_3601 StaticText "     Terraform will perform the following actions:"
    uid=19_3602 StaticText "
"
    uid=19_3603 StaticText "app    # kubernetes_deployment.app_backend_deployment_1A8B5520 (app_backend/deployment/deployment) will be created"
    uid=19_3604 StaticText "
"
    uid=19_3605 StaticText "       + resource "kubernetes_deployment" "app_backend_deployment_1A8B5520" {"
    uid=19_3606 StaticText "
"
    uid=19_3607 StaticText "##..."
    uid=19_3608 StaticText "
"
    uid=19_3609 StaticText "       # kubernetes_deployment.app_frontend_deployment_0EE98C72 (app_frontend/deployment/deployment) will be updated in-place"
    uid=19_3610 StaticText "
"
    uid=19_3611 StaticText "       ~ resource "kubernetes_deployment" "app_frontend_deployment_0EE98C72" {"
    uid=19_3612 StaticText "
"
    uid=19_3613 StaticText "             id               = "default/myapp-frontend-dev""
    uid=19_3614 StaticText "
"
    uid=19_3615 StaticText "##..."
    uid=19_3616 StaticText "
"
    uid=19_3617 StaticText "                           + env {"
    uid=19_3618 StaticText "
"
    uid=19_3619 StaticText "                               + name  = "BACKEND_APP_URL""
    uid=19_3620 StaticText "
"
    uid=19_3621 StaticText "                               + value = "http://localhost:30002""
    uid=19_3622 StaticText "
"
    uid=19_3623 StaticText "                             }"
    uid=19_3624 StaticText "
"
    uid=19_3625 StaticText "##..."
    uid=19_3626 StaticText "
"
    uid=19_3627 StaticText "       # kubernetes_service.app_backend_service_EAD583EF (app_backend/service/service) will be created"
    uid=19_3628 StaticText "
"
    uid=19_3629 StaticText "       + resource "kubernetes_service" "app_backend_service_EAD583EF" {"
    uid=19_3630 StaticText "
"
    uid=19_3631 StaticText "##..."
    uid=19_3632 StaticText "
"
    uid=19_3633 StaticText "     Plan: 2 to add, 1 to change, 0 to destroy."
    uid=19_3634 StaticText "
"
    uid=19_3635 StaticText "
"
    uid=19_3636 StaticText "     Changes to Outputs:"
    uid=19_3637 StaticText "
"
    uid=19_3638 StaticText "       + app_backend_url_CAA2B50B = "http://localhost:30002""
    uid=19_3639 StaticText "
"
    uid=19_3640 StaticText "
"
    uid=19_3641 StaticText "     ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ"
    uid=19_3642 StaticText "
"
    uid=19_3643 StaticText "
"
    uid=19_3644 StaticText "     Saved the plan to: plan"
    uid=19_3645 StaticText "
"
    uid=19_3646 StaticText "
"
    uid=19_3647 StaticText "     To perform exactly these actions, run the following command to apply:"
    uid=19_3648 StaticText "
"
    uid=19_3649 StaticText "         terraform apply "plan""
    uid=19_3650 StaticText "
"
    uid=19_3651 StaticText "
"
    uid=19_3652 StaticText "Please review the diff output above for app"
    uid=19_3653 StaticText "
"
    uid=19_3654 StaticText "‚ùØ"
    uid=19_3655 StaticText " Approve  Applies the changes outlined "
    uid=19_3656 StaticText "in"
    uid=19_3657 StaticText " the plan."
    uid=19_3658 StaticText "
"
    uid=19_3659 StaticText "  Dismiss"
    uid=19_3660 StaticText "
"
    uid=19_3661 StaticText "  Stop"
    uid=19_3662 StaticText "
"
    uid=19_3663 StaticText "##..."
    uid=19_3664 StaticText "
"
    uid=19_3665 StaticText "app  kubernetes_service.app_backend_service_EAD583EF (app_backend/service/service): Creating..."
    uid=19_3666 StaticText "
"
    uid=19_3667 StaticText "app  kubernetes_deployment.app_backend_deployment_1A8B5520 (app_backend/deployment/deployment): Creating..."
    uid=19_3668 StaticText "
"
    uid=19_3669 StaticText "app  kubernetes_deployment.app_frontend_deployment_0EE98C72 (app_frontend/deployment/deployment): Modifying... [id=default/myapp-frontend-dev]"
    uid=19_3670 StaticText "
"
    uid=19_3671 StaticText "app  kubernetes_service.app_backend_service_EAD583EF (app_backend/service/service): Creation complete after 0s [id=default/myapp-backend-dev]"
    uid=19_3672 StaticText "
"
    uid=19_3673 StaticText "app  kubernetes_deployment.app_backend_deployment_1A8B5520 (app_backend/deployment/deployment): Creation complete after 1s [id=default/myapp-backend-dev]"
    uid=19_3674 StaticText "
"
    uid=19_3675 StaticText "app  kubernetes_deployment.app_frontend_deployment_0EE98C72 (app_frontend/deployment/deployment): Modifications complete after 3s [id=default/myapp-frontend-dev]"
    uid=19_3676 StaticText "
"
    uid=19_3677 StaticText "app"
    uid=19_3678 StaticText "
"
    uid=19_3679 StaticText "     Apply complete! Resources: 2 added, 1 changed, 0 destroyed."
    uid=19_3680 StaticText "
"
    uid=19_3681 StaticText "
"
    uid=19_3682 StaticText "     Outputs:"
    uid=19_3683 StaticText "
"
    uid=19_3684 StaticText "
"
    uid=19_3685 StaticText "     app_backend_url_CAA2B50B = "http://localhost:30002""
    uid=19_3686 StaticText "
"
    uid=19_3687 StaticText "     app_frontend_url_5DD99814 = "http://localhost:30001""
    uid=19_3688 StaticText "
"
    uid=19_3689 StaticText "
"
    uid=19_3690 StaticText "  app"
    uid=19_3691 StaticText "
"
    uid=19_3692 StaticText "    app_backend"
    uid=19_3693 StaticText "
"
    uid=19_3694 StaticText "      url = http://localhost:30002"
    uid=19_3695 StaticText "
"
    uid=19_3696 StaticText "
"
    uid=19_3697 StaticText "    app_frontend"
    uid=19_3698 StaticText "
"
    uid=19_3699 StaticText "      url = http://localhost:30001"
    uid=19_3700 StaticText "
"
    uid=19_3701 button "Copy" description="$ cdktf deploy app Initializing the backend... app Initializing provider plugins... - Reusing previous version of hashicorp/kubernetes from the dependency lock file app - Using previously-installed hashicorp/kubernetes v2.14.0 Terraform has been successfully initialized! ##... app Terraform used the selected providers to generate the following execution plan. Resource actions are indicated with the following symbols: + create ~ update in-place Terraform will perform the following actions: app # kubernetes_deployment.app_backend_deployment_1A8B5520 (app_backend/deployment/deployment) will be created + resource "kubernetes_deployment" "app_backend_deployment_1A8B5520" { ##... # kubernetes_deployment.app_frontend_deployment_0EE98C72 (app_frontend/deployment/deployment) will be updated in-place ~ resource "kubernetes_deployment" "app_frontend_deployment_0EE98C72" { id = "default/myapp-frontend-dev" ##... + env { + name = "BACKEND_APP_URL" + value = "http://localhost:30002" } ##... # kubernetes_service.app_backend_service_EAD583EF (app_backend/service/service) will be created + resource "kubernetes_service" "app_backend_service_EAD583EF" { ##... Plan: 2 to add, 1 to change, 0 to destroy. Changes to Outputs: + app_backend_url_CAA2B50B = "http://localhost:30002""
    uid=19_3702 StaticText "It may take Kubernetes a few minutes to deploy your new resources. Use "
    uid=19_3703 StaticText "kubectl"
    uid=19_3704 StaticText " to check the status."
    uid=19_3705 StaticText "$"
    uid=19_3706 StaticText " kubectl get deployments"
    uid=19_3707 StaticText "
"
    uid=19_3708 StaticText "NAME                 READY   UP-TO-DATE   AVAILABLE   AGE"
    uid=19_3709 StaticText "
"
    uid=19_3710 StaticText "myapp-backend-dev    1/1     1            1           57s"
    uid=19_3711 StaticText "
"
    uid=19_3712 StaticText "myapp-frontend-dev   3/3     3            3           15m"
    uid=19_3713 StaticText "
"
    uid=19_3714 button "Copy" description="$ kubectl get deployments NAME READY UP-TO-DATE AVAILABLE AGE myapp-backend-dev 1/1 1 1 57s myapp-frontend-dev 3/3 3 3 15m"
    uid=19_3715 StaticText "Once your kubectl reports all four replicas as ready (three "
    uid=19_3716 StaticText "myapp-frontend-dev"
    uid=19_3717 StaticText " and one "
    uid=19_3718 StaticText "myapp-backend-dev"
    uid=19_3719 StaticText "), your application will be available."
    uid=19_3720 StaticText "Visit your application's frontend URL ("
    uid=19_3721 StaticText "http://localhost:30001"
    uid=19_3722 StaticText ") in your web browser. You may need to reload the page for the application to work."
    uid=19_3723 StaticText "You can also use "
    uid=19_3724 StaticText "curl"
    uid=19_3725 StaticText " to interact directly with the backend server:"
    uid=19_3726 StaticText "$"
    uid=19_3727 StaticText " curl http://localhost:30002/new"
    uid=19_3728 StaticText "
"
    uid=19_3729 StaticText "{"game":{"id":"pdSW6Cymw","state":"running","score":0,"tetrominoSequence":["I","J","Z","O","T","S"]},"tetromino":"L"}"
    uid=19_3730 StaticText "
"
    uid=19_3731 button "Copy" description="$ curl http://localhost:30002/new {"game":{"id":"pdSW6Cymw","state":"running","score":0,"tetrominoSequence":["I","J","Z","O","T","S"]},"tetromino":"L"}"
    uid=19_3732 link "deploy another application stack permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#deploy-another-application-stack"
    uid=19_3733 StaticText "Deploy another application stack"
    uid=19_3734 StaticText "CDKTF projects can support multiple application stacks. Each CDKTF Stack is a separate Terraform project that you can manage independently. So far in this tutorial, you have deployed your resources as a single stack. In this section, you will deploy a new copy of your application as a new stack representing a test environment."
    uid=19_3735 link "refactor application stack permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#refactor-application-stack"
    uid=19_3736 StaticText "Refactor application stack"
    uid=19_3737 StaticText "Currently, your stack's frontend and backend services are configured using hard-coded values that you pass to "
    uid=19_3738 StaticText "SimpleKubernetesWebApp"
    uid=19_3739 StaticText " in "
    uid=19_3740 StaticText "main.ts"
    uid=19_3741 StaticText "."
    uid=19_3742 StaticText "Refactor your "
    uid=19_3743 StaticText "MyApp"
    uid=19_3744 StaticText " stack to accept your application's configuration as an argument instead of hard-coding it in the "
    uid=19_3745 StaticText "constructor()"
    uid=19_3746 StaticText " function."
    uid=19_3747 StaticText "In your editor, open "
    uid=19_3748 StaticText "app/main.ts"
    uid=19_3749 StaticText ", and add the "
    uid=19_3750 StaticText "SimpleKubernetesWebAppConfig"
    uid=19_3751 StaticText " interface to your list of imports near the top of the file."
    uid=19_3752 StaticText "main.ts"
    uid=19_3753 StaticText "import"
    uid=19_3754 StaticText " {"
    uid=19_3755 StaticText "
"
    uid=19_3756 StaticText "  SimpleKubernetesWebApp"
    uid=19_3757 StaticText ","
    uid=19_3758 StaticText "
"
    uid=19_3759 StaticText "  SimpleKubernetesWebAppConfig"
    uid=19_3760 StaticText ","
    uid=19_3761 StaticText "
"
    uid=19_3762 StaticText "} "
    uid=19_3763 StaticText "from"
    uid=19_3764 StaticText " "./constructs""
    uid=19_3765 StaticText "
"
    uid=19_3766 StaticText "Next, update the class's constructor to accept two "
    uid=19_3767 StaticText "SimpleKubernetesWebAppConfig"
    uid=19_3768 StaticText " objects, and pass them to your frontend and backend."
    uid=19_3769 StaticText "Replace the entire "
    uid=19_3770 StaticText "class MyStack extends TerraformStack { ... }"
    uid=19_3771 StaticText " block with the following."
    uid=19_3772 StaticText "main.ts"
    uid=19_3773 StaticText "class"
    uid=19_3774 StaticText " MyStack"
    uid=19_3775 StaticText " extends"
    uid=19_3776 StaticText " TerraformStack"
    uid=19_3777 StaticText " {"
    uid=19_3778 StaticText "
"
    uid=19_3779 StaticText "  constructor"
    uid=19_3780 StaticText "("
    uid=19_3781 StaticText "
"
    uid=19_3782 StaticText "    scope"
    uid=19_3783 StaticText ":"
    uid=19_3784 StaticText " Construct"
    uid=19_3785 StaticText ","
    uid=19_3786 StaticText "
"
    uid=19_3787 StaticText "    name"
    uid=19_3788 StaticText ":"
    uid=19_3789 StaticText " string"
    uid=19_3790 StaticText ","
    uid=19_3791 StaticText "
"
    uid=19_3792 StaticText "    config"
    uid=19_3793 StaticText ":"
    uid=19_3794 StaticText " {"
    uid=19_3795 StaticText "
"
    uid=19_3796 StaticText "      frontend"
    uid=19_3797 StaticText ":"
    uid=19_3798 StaticText " SimpleKubernetesWebAppConfig"
    uid=19_3799 StaticText "
"
    uid=19_3800 StaticText "      backend"
    uid=19_3801 StaticText ":"
    uid=19_3802 StaticText " SimpleKubernetesWebAppConfig"
    uid=19_3803 StaticText "
"
    uid=19_3804 StaticText "    }"
    uid=19_3805 StaticText "
"
    uid=19_3806 StaticText "  ) {"
    uid=19_3807 StaticText "
"
    uid=19_3808 StaticText "    super"
    uid=19_3809 StaticText "(scope"
    uid=19_3810 StaticText ","
    uid=19_3811 StaticText " name)"
    uid=19_3812 StaticText "
"
    uid=19_3813 StaticText "
"
    uid=19_3814 StaticText "    new"
    uid=19_3815 StaticText " kubernetes"
    uid=19_3816 StaticText "."
    uid=19_3817 StaticText "provider"
    uid=19_3818 StaticText ".KubernetesProvider"
    uid=19_3819 StaticText "("
    uid=19_3820 StaticText "this"
    uid=19_3821 StaticText ","
    uid=19_3822 StaticText " 'kind'"
    uid=19_3823 StaticText ","
    uid=19_3824 StaticText " {"
    uid=19_3825 StaticText "
"
    uid=19_3826 StaticText "      configPath"
    uid=19_3827 StaticText ":"
    uid=19_3828 StaticText " path"
    uid=19_3829 StaticText ".join"
    uid=19_3830 StaticText "(__dirname"
    uid=19_3831 StaticText ","
    uid=19_3832 StaticText " '../kubeconfig.yaml'"
    uid=19_3833 StaticText ")"
    uid=19_3834 StaticText ","
    uid=19_3835 StaticText "
"
    uid=19_3836 StaticText "    })"
    uid=19_3837 StaticText "
"
    uid=19_3838 StaticText "
"
    uid=19_3839 StaticText "    const"
    uid=19_3840 StaticText " app_backend"
    uid=19_3841 StaticText " ="
    uid=19_3842 StaticText " new"
    uid=19_3843 StaticText " SimpleKubernetesWebApp"
    uid=19_3844 StaticText "("
    uid=19_3845 StaticText "
"
    uid=19_3846 StaticText "      this"
    uid=19_3847 StaticText ","
    uid=19_3848 StaticText "
"
    uid=19_3849 StaticText "      'app_backend'"
    uid=19_3850 StaticText ","
    uid=19_3851 StaticText "
"
    uid=19_3852 StaticText "      config"
    uid=19_3853 StaticText ".backend"
    uid=19_3854 StaticText "
"
    uid=19_3855 StaticText "    )"
    uid=19_3856 StaticText "
"
    uid=19_3857 StaticText "    new"
    uid=19_3858 StaticText " SimpleKubernetesWebApp"
    uid=19_3859 StaticText "("
    uid=19_3860 StaticText "this"
    uid=19_3861 StaticText ","
    uid=19_3862 StaticText " 'app_frontend'"
    uid=19_3863 StaticText ","
    uid=19_3864 StaticText " {"
    uid=19_3865 StaticText "
"
    uid=19_3866 StaticText "      ..."
    uid=19_3867 StaticText "config"
    uid=19_3868 StaticText ".frontend"
    uid=19_3869 StaticText ","
    uid=19_3870 StaticText "
"
    uid=19_3871 StaticText "      env"
    uid=19_3872 StaticText ":"
    uid=19_3873 StaticText " { BACKEND_APP_URL"
    uid=19_3874 StaticText ":"
    uid=19_3875 StaticText " `http://localhost:"
    uid=19_3876 StaticText "${"
    uid=19_3877 StaticText "app_backend"
    uid=19_3878 StaticText "."
    uid=19_3879 StaticText "config"
    uid=19_3880 StaticText ".port"
    uid=19_3881 StaticText "}"
    uid=19_3882 StaticText "`"
    uid=19_3883 StaticText " }"
    uid=19_3884 StaticText ","
    uid=19_3885 StaticText "
"
    uid=19_3886 StaticText "    })"
    uid=19_3887 StaticText "
"
    uid=19_3888 StaticText "  }"
    uid=19_3889 StaticText "
"
    uid=19_3890 StaticText "}"
    uid=19_3891 StaticText "
"
    uid=19_3892 button "Copy" description="class MyStack extends TerraformStack { constructor( scope: Construct, name: string, config: { frontend: SimpleKubernetesWebAppConfig backend: SimpleKubernetesWebAppConfig } ) { super(scope, name) new kubernetes.provider.KubernetesProvider(this, 'kind', { configPath: path.join(__dirname, '../kubeconfig.yaml'), }) const app_backend = new SimpleKubernetesWebApp( this, 'app_backend', config"
    uid=19_3893 StaticText "Finally, pass these configuration objects when you create your application object near the end of the file. Replace the current "
    uid=19_3894 StaticText "new MyStack..."
    uid=19_3895 StaticText " line with the following, immediately before the last line, "
    uid=19_3896 StaticText "app.synth();"
    uid=19_3897 StaticText "."
    uid=19_3898 StaticText "main.ts"
    uid=19_3899 StaticText "const"
    uid=19_3900 StaticText " app"
    uid=19_3901 StaticText " ="
    uid=19_3902 StaticText " new"
    uid=19_3903 StaticText " App"
    uid=19_3904 StaticText "()"
    uid=19_3905 StaticText "
"
    uid=19_3906 StaticText "new"
    uid=19_3907 StaticText " MyStack"
    uid=19_3908 StaticText "(app"
    uid=19_3909 StaticText ","
    uid=19_3910 StaticText " 'app'"
    uid=19_3911 StaticText ","
    uid=19_3912 StaticText " {"
    uid=19_3913 StaticText "
"
    uid=19_3914 StaticText "  frontend"
    uid=19_3915 StaticText ":"
    uid=19_3916 StaticText " {"
    uid=19_3917 StaticText "
"
    uid=19_3918 StaticText "    image"
    uid=19_3919 StaticText ":"
    uid=19_3920 StaticText " 'localhost:5000/nocorp-frontend:latest'"
    uid=19_3921 StaticText ","
    uid=19_3922 StaticText "
"
    uid=19_3923 StaticText "    replicas"
    uid=19_3924 StaticText ":"
    uid=19_3925 StaticText " 3"
    uid=19_3926 StaticText ","
    uid=19_3927 StaticText "
"
    uid=19_3928 StaticText "    port"
    uid=19_3929 StaticText ":"
    uid=19_3930 StaticText " 30001"
    uid=19_3931 StaticText ","
    uid=19_3932 StaticText "
"
    uid=19_3933 StaticText "    app"
    uid=19_3934 StaticText ":"
    uid=19_3935 StaticText " 'myapp'"
    uid=19_3936 StaticText ","
    uid=19_3937 StaticText "
"
    uid=19_3938 StaticText "    component"
    uid=19_3939 StaticText ":"
    uid=19_3940 StaticText " 'frontend'"
    uid=19_3941 StaticText ","
    uid=19_3942 StaticText "
"
    uid=19_3943 StaticText "    environment"
    uid=19_3944 StaticText ":"
    uid=19_3945 StaticText " 'dev'"
    uid=19_3946 StaticText ","
    uid=19_3947 StaticText "
"
    uid=19_3948 StaticText "  }"
    uid=19_3949 StaticText ","
    uid=19_3950 StaticText "
"
    uid=19_3951 StaticText "  backend"
    uid=19_3952 StaticText ":"
    uid=19_3953 StaticText " {"
    uid=19_3954 StaticText "
"
    uid=19_3955 StaticText "    image"
    uid=19_3956 StaticText ":"
    uid=19_3957 StaticText " 'localhost:5000/nocorp-backend:latest'"
    uid=19_3958 StaticText ","
    uid=19_3959 StaticText "
"
    uid=19_3960 StaticText "    replicas"
    uid=19_3961 StaticText ":"
    uid=19_3962 StaticText " 1"
    uid=19_3963 StaticText ","
    uid=19_3964 StaticText "
"
    uid=19_3965 StaticText "    port"
    uid=19_3966 StaticText ":"
    uid=19_3967 StaticText " 30002"
    uid=19_3968 StaticText ","
    uid=19_3969 StaticText "
"
    uid=19_3970 StaticText "    app"
    uid=19_3971 StaticText ":"
    uid=19_3972 StaticText " 'myapp'"
    uid=19_3973 StaticText ","
    uid=19_3974 StaticText "
"
    uid=19_3975 StaticText "    component"
    uid=19_3976 StaticText ":"
    uid=19_3977 StaticText " 'backend'"
    uid=19_3978 StaticText ","
    uid=19_3979 StaticText "
"
    uid=19_3980 StaticText "    environment"
    uid=19_3981 StaticText ":"
    uid=19_3982 StaticText " 'dev'"
    uid=19_3983 StaticText ","
    uid=19_3984 StaticText "
"
    uid=19_3985 StaticText "  }"
    uid=19_3986 StaticText ","
    uid=19_3987 StaticText "
"
    uid=19_3988 StaticText "})"
    uid=19_3989 StaticText "
"
    uid=19_3990 StaticText "
"
    uid=19_3991 StaticText "app"
    uid=19_3992 StaticText ".synth"
    uid=19_3993 StaticText "()"
    uid=19_3994 StaticText "
"
    uid=19_3995 StaticText "In your terminal, run "
    uid=19_3996 StaticText "cdktf deploy"
    uid=19_3997 StaticText ". Since the Terraform configuration generated by CDKTF has not changed, there will be no changes to deploy."
    uid=19_3998 StaticText "$"
    uid=19_3999 StaticText " cdktf deploy"
    uid=19_4000 StaticText "
"
    uid=19_4001 StaticText "app  Initializing the backend..."
    uid=19_4002 StaticText "
"
    uid=19_4003 StaticText "app  Initializing provider plugins..."
    uid=19_4004 StaticText "
"
    uid=19_4005 StaticText "     - Reusing previous version of hashicorp/kubernetes from the dependency lock file"
    uid=19_4006 StaticText "
"
    uid=19_4007 StaticText "app  - Using previously-installed hashicorp/kubernetes v2.14.0"
    uid=19_4008 StaticText "
"
    uid=19_4009 StaticText "app  Terraform has been successfully initialized!"
    uid=19_4010 StaticText "
"
    uid=19_4011 StaticText "##..."
    uid=19_4012 StaticText "
"
    uid=19_4013 StaticText "app  No changes. Your infrastructure matches the configuration."
    uid=19_4014 StaticText "
"
    uid=19_4015 StaticText "
"
    uid=19_4016 StaticText "
"
    uid=19_4017 StaticText "app  Terraform has compared your real infrastructure against your configuration"
    uid=19_4018 StaticText "
"
    uid=19_4019 StaticText "     and found no differences, so no changes are needed."
    uid=19_4020 StaticText "
"
    uid=19_4021 StaticText "
"
    uid=19_4022 StaticText "  app"
    uid=19_4023 StaticText "
"
    uid=19_4024 StaticText "    app_frontend"
    uid=19_4025 StaticText "
"
    uid=19_4026 StaticText "      url = http://localhost:30001"
    uid=19_4027 StaticText "
"
    uid=19_4028 StaticText "
"
    uid=19_4029 StaticText "    app_backend"
    uid=19_4030 StaticText "
"
    uid=19_4031 StaticText "      url = http://localhost:30002"
    uid=19_4032 StaticText "
"
    uid=19_4033 button "Copy" description="$ cdktf deploy app Initializing the backend... app Initializing provider plugins... - Reusing previous version of hashicorp/kubernetes from the dependency lock file app - Using previously-installed hashicorp/kubernetes v2.14.0 app Terraform has been successfully initialized! ##... app No changes. Your infrastructure matches the configuration. app Terraform has compared your real infrastructure against your configuration and found no differences, so no changes are needed. app app_frontend url = http://localhost:30001 app_backend url = http://localhost:30002"
    uid=19_4034 link "add a second stack permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#add-a-second-stack"
    uid=19_4035 StaticText "Add a second stack"
    uid=19_4036 StaticText "Now, add a second stack to "
    uid=19_4037 StaticText "main.ts"
    uid=19_4038 StaticText " to represent your test environment, immediately before the last line, "
    uid=19_4039 StaticText "app.synth();"
    uid=19_4040 StaticText "."
    uid=19_4041 StaticText "main.ts"
    uid=19_4042 StaticText "new"
    uid=19_4043 StaticText " MyStack"
    uid=19_4044 StaticText "(app"
    uid=19_4045 StaticText ","
    uid=19_4046 StaticText " 'app-test'"
    uid=19_4047 StaticText ","
    uid=19_4048 StaticText " {"
    uid=19_4049 StaticText "
"
    uid=19_4050 StaticText "  frontend"
    uid=19_4051 StaticText ":"
    uid=19_4052 StaticText " {"
    uid=19_4053 StaticText "
"
    uid=19_4054 StaticText "    image"
    uid=19_4055 StaticText ":"
    uid=19_4056 StaticText " 'localhost:5000/nocorp-frontend:latest'"
    uid=19_4057 StaticText ","
    uid=19_4058 StaticText "
"
    uid=19_4059 StaticText "    replicas"
    uid=19_4060 StaticText ":"
    uid=19_4061 StaticText " 4"
    uid=19_4062 StaticText ","
    uid=19_4063 StaticText "
"
    uid=19_4064 StaticText "    port"
    uid=19_4065 StaticText ":"
    uid=19_4066 StaticText " 30003"
    uid=19_4067 StaticText ","
    uid=19_4068 StaticText "
"
    uid=19_4069 StaticText "    app"
    uid=19_4070 StaticText ":"
    uid=19_4071 StaticText " 'myapp'"
    uid=19_4072 StaticText ","
    uid=19_4073 StaticText "
"
    uid=19_4074 StaticText "    component"
    uid=19_4075 StaticText ":"
    uid=19_4076 StaticText " 'frontend'"
    uid=19_4077 StaticText ","
    uid=19_4078 StaticText "
"
    uid=19_4079 StaticText "    environment"
    uid=19_4080 StaticText ":"
    uid=19_4081 StaticText " 'test'"
    uid=19_4082 StaticText ","
    uid=19_4083 StaticText "
"
    uid=19_4084 StaticText "  }"
    uid=19_4085 StaticText ","
    uid=19_4086 StaticText "
"
    uid=19_4087 StaticText "  backend"
    uid=19_4088 StaticText ":"
    uid=19_4089 StaticText " {"
    uid=19_4090 StaticText "
"
    uid=19_4091 StaticText "    image"
    uid=19_4092 StaticText ":"
    uid=19_4093 StaticText " 'localhost:5000/nocorp-backend:latest'"
    uid=19_4094 StaticText ","
    uid=19_4095 StaticText "
"
    uid=19_4096 StaticText "    replicas"
    uid=19_4097 StaticText ":"
    uid=19_4098 StaticText " 2"
    uid=19_4099 StaticText ","
    uid=19_4100 StaticText "
"
    uid=19_4101 StaticText "    port"
    uid=19_4102 StaticText ":"
    uid=19_4103 StaticText " 30004"
    uid=19_4104 StaticText ","
    uid=19_4105 StaticText "
"
    uid=19_4106 StaticText "    app"
    uid=19_4107 StaticText ":"
    uid=19_4108 StaticText " 'myapp'"
    uid=19_4109 StaticText ","
    uid=19_4110 StaticText "
"
    uid=19_4111 StaticText "    component"
    uid=19_4112 StaticText ":"
    uid=19_4113 StaticText " 'backend'"
    uid=19_4114 StaticText ","
    uid=19_4115 StaticText "
"
    uid=19_4116 StaticText "    environment"
    uid=19_4117 StaticText ":"
    uid=19_4118 StaticText " 'test'"
    uid=19_4119 StaticText ","
    uid=19_4120 StaticText "
"
    uid=19_4121 StaticText "  }"
    uid=19_4122 StaticText ","
    uid=19_4123 StaticText "
"
    uid=19_4124 StaticText "})"
    uid=19_4125 StaticText "
"
    uid=19_4126 button "Copy" description="new MyStack(app, 'app-test', { frontend: { image: 'localhost:5000/nocorp-frontend:latest', replicas: 4, port: 30003, app: 'myapp', component: 'frontend', environment: 'test', }, backend: { image: 'localhost:5000/nocorp-backend:latest', replicas: 2, port: 30004, app: 'myapp', component: 'backend', environment: 'test', },"
    uid=19_4127 StaticText "Now that your project contains more than one stack, you must specify a stack when you run CDKTF commands."
    uid=19_4128 StaticText "Deploy your new stack. Respond to the confirmation prompt by choosing "
    uid=19_4129 StaticText "Approve"
    uid=19_4130 StaticText "."
    uid=19_4131 StaticText "$"
    uid=19_4132 StaticText " cdktf deploy app-test"
    uid=19_4133 StaticText "
"
    uid=19_4134 StaticText "app-test  Initializing the backend..."
    uid=19_4135 StaticText "
"
    uid=19_4136 StaticText "app-test"
    uid=19_4137 StaticText "
"
    uid=19_4138 StaticText "          Successfully configured the backend "local"! Terraform will automatically"
    uid=19_4139 StaticText "
"
    uid=19_4140 StaticText "          use this backend unless the backend configuration changes."
    uid=19_4141 StaticText "
"
    uid=19_4142 StaticText "app-test  Initializing provider plugins..."
    uid=19_4143 StaticText "
"
    uid=19_4144 StaticText "          - Finding hashicorp/kubernetes versions matching "2.14.0"..."
    uid=19_4145 StaticText "
"
    uid=19_4146 StaticText "app-test  - Using hashicorp/kubernetes v2.14.0 from the shared cache directory"
    uid=19_4147 StaticText "
"
    uid=19_4148 StaticText "app-test  Terraform has created a lock file .terraform.lock.hcl to record the provider"
    uid=19_4149 StaticText "
"
    uid=19_4150 StaticText "          selections it made above. Include this file in your version control repository"
    uid=19_4151 StaticText "
"
    uid=19_4152 StaticText "          so that Terraform can guarantee to make the same selections by default when"
    uid=19_4153 StaticText "
"
    uid=19_4154 StaticText "          you run "terraform init" in the future."
    uid=19_4155 StaticText "
"
    uid=19_4156 StaticText "##..."
    uid=19_4157 StaticText "
"
    uid=19_4158 StaticText "Please review the diff output above for app"
    uid=19_4159 StaticText "
"
    uid=19_4160 StaticText "‚ùØ"
    uid=19_4161 StaticText " Approve  Applies the changes outlined "
    uid=19_4162 StaticText "in"
    uid=19_4163 StaticText " the plan."
    uid=19_4164 StaticText "
"
    uid=19_4165 StaticText "  Dismiss"
    uid=19_4166 StaticText "
"
    uid=19_4167 StaticText "  Stop"
    uid=19_4168 StaticText "
"
    uid=19_4169 StaticText "##..."
    uid=19_4170 StaticText "
"
    uid=19_4171 StaticText "app-test  kubernetes_service.app_frontend_service_C2863249 (app_frontend/service/service): Creating..."
    uid=19_4172 StaticText "
"
    uid=19_4173 StaticText "          kubernetes_service.app_backend_service_EAD583EF (app_backend/service/service): Creating..."
    uid=19_4174 StaticText "
"
    uid=19_4175 StaticText "app-test  kubernetes_deployment.app_backend_deployment_1A8B5520 (app_backend/deployment/deployment): Creating..."
    uid=19_4176 StaticText "
"
    uid=19_4177 StaticText "app-test  kubernetes_deployment.app_frontend_deployment_0EE98C72 (app_frontend/deployment/deployment): Creating..."
    uid=19_4178 StaticText "
"
    uid=19_4179 StaticText "app-test  kubernetes_service.app_frontend_service_C2863249 (app_frontend/service/service): Creation complete after 0s [id=default/myapp-frontend-test]"
    uid=19_4180 StaticText "
"
    uid=19_4181 StaticText "app-test  kubernetes_service.app_backend_service_EAD583EF (app_backend/service/service): Creation complete after 0s [id=default/myapp-backend-test]"
    uid=19_4182 StaticText "
"
    uid=19_4183 StaticText "app-test  kubernetes_deployment.app_frontend_deployment_0EE98C72 (app_frontend/deployment/deployment): Creation complete after 8s [id=default/myapp-frontend-test]"
    uid=19_4184 StaticText "
"
    uid=19_4185 StaticText "app-test  kubernetes_deployment.app_backend_deployment_1A8B5520 (app_backend/deployment/deployment): Creation complete after 8s [id=default/myapp-backend-test]"
    uid=19_4186 StaticText "
"
    uid=19_4187 StaticText "app-test"
    uid=19_4188 StaticText "
"
    uid=19_4189 StaticText "          Apply complete! Resources: 4 added, 0 changed, 0 destroyed."
    uid=19_4190 StaticText "
"
    uid=19_4191 StaticText "
"
    uid=19_4192 StaticText "app-test"
    uid=19_4193 StaticText "
"
    uid=19_4194 StaticText "          Outputs:"
    uid=19_4195 StaticText "
"
    uid=19_4196 StaticText "
"
    uid=19_4197 StaticText "          app_backend_url_CAA2B50B = "http://localhost:30004""
    uid=19_4198 StaticText "
"
    uid=19_4199 StaticText "          app_frontend_url_5DD99814 = "http://localhost:30003""
    uid=19_4200 StaticText "
"
    uid=19_4201 StaticText "
"
    uid=19_4202 StaticText "  app-test"
    uid=19_4203 StaticText "
"
    uid=19_4204 StaticText "    app_backend"
    uid=19_4205 StaticText "
"
    uid=19_4206 StaticText "      url = http://localhost:30004"
    uid=19_4207 StaticText "
"
    uid=19_4208 StaticText "
"
    uid=19_4209 StaticText "    app_frontend"
    uid=19_4210 StaticText "
"
    uid=19_4211 StaticText "      url = http://localhost:30003"
    uid=19_4212 StaticText "
"
    uid=19_4213 button "Copy" description="$ cdktf deploy app-test app-test Initializing the backend... app-test Successfully configured the backend "local"! Terraform will automatically use this backend unless the backend configuration changes. app-test Initializing provider plugins... - Finding hashicorp/kubernetes versions matching "2.14.0"... app-test - Using hashicorp/kubernetes v2.14.0 from the shared cache directory app-test Terraform has created a lock file .terraform.lock.hcl to record the provider selections it made above. Include this file in your version control repository so that Terraform can guarantee to make the same selections by default when you run "terraform init" in the future. ##... Please review the diff output above for app ‚ùØ Approve Applies the changes outlined in the plan. Dismiss Stop ##... app-test kubernetes_service.app_frontend_service_C2863249 (app_frontend/service/service): Creating... kubernetes_service.app_backend_service_EAD583EF (app_backend/service/service): Creating... app-test kubernetes_deployment.app_backend_deployment_1A8B5520 (app_backend/deployment/deployment): Creating... app-test kubernetes_deployment.app_frontend_deployment_0EE98C72 (app_frontend/deployment/deployment): Creating... app-test kubernetes_service.app_frontend_service_C2863249 (app_frontend/service/service): Creation complete after 0s [id=default/myapp-frontend-test] app-test kubernetes_service.app_backend_service_EAD583EF (app_backend/service/service): Creation complete after 0s [id=default/myapp-backend-test] app-test kubernetes_deployment.app_frontend_deployment_0EE98C72 (app_frontend/deployment/deployment): Creation complete after 8s [id=default/myapp-frontend-test] app-test kubernetes_deployment.app_backend_deployment_1A8B5520 (app_backend/deployment/deployment): Creation complete after 8s [id=default/myapp-backend-test] app-test Apply complete! Resources: 4 added, 0 changed, 0 destroyed. app-test Outputs:"
    uid=19_4214 StaticText "Since each stack is a separate Terraform project with separate state, you can deploy, update, and destroy them independently."
    uid=19_4215 StaticText "Confirm that kubernetes has deployed your test stack's frontend and backend with kubectl."
    uid=19_4216 StaticText "$"
    uid=19_4217 StaticText " kubectl get deployments"
    uid=19_4218 StaticText "
"
    uid=19_4219 StaticText "NAME                  READY   UP-TO-DATE   AVAILABLE   AGE"
    uid=19_4220 StaticText "
"
    uid=19_4221 StaticText "myapp-backend-dev     1/1     1            1           46m"
    uid=19_4222 StaticText "
"
    uid=19_4223 StaticText "myapp-backend-test    2/2     2            2           71s"
    uid=19_4224 StaticText "
"
    uid=19_4225 StaticText "myapp-frontend-dev    3/3     3            3           60m"
    uid=19_4226 StaticText "
"
    uid=19_4227 StaticText "myapp-frontend-test   4/4     4            4           71s"
    uid=19_4228 StaticText "
"
    uid=19_4229 button "Copy" description="$ kubectl get deployments NAME READY UP-TO-DATE AVAILABLE AGE myapp-backend-dev 1/1 1 1 46m myapp-backend-test 2/2 2 2 71s myapp-frontend-dev 3/3 3 3 60m myapp-frontend-test 4/4 4 4 71s"
    uid=19_4230 StaticText "This command will list both your "-dev" and "-test" deployments, since they are running on the same Kubernetes cluster."
    uid=19_4231 link "clean up resources permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#clean-up-resources"
    uid=19_4232 StaticText "Clean up resources"
    uid=19_4233 StaticText "In this section, you will delete your CDKTF application stacks, your kind cluster, and your local Docker image registry."
    uid=19_4234 StaticText "Destroy your "
    uid=19_4235 StaticText "app-test"
    uid=19_4236 StaticText " stack. Respond to the confirmation prompt by choosing "
    uid=19_4237 StaticText "Approve"
    uid=19_4238 StaticText "."
    uid=19_4239 StaticText "$"
    uid=19_4240 StaticText " cdktf destroy app-test"
    uid=19_4241 StaticText "
"
    uid=19_4242 StaticText "app-test  Initializing the backend..."
    uid=19_4243 StaticText "
"
    uid=19_4244 StaticText "app-test  Initializing provider plugins..."
    uid=19_4245 StaticText "
"
    uid=19_4246 StaticText "          - Reusing previous version of hashicorp/kubernetes from the dependency lock file"
    uid=19_4247 StaticText "
"
    uid=19_4248 StaticText "app-test  - Using previously-installed hashicorp/kubernetes v2.14.0"
    uid=19_4249 StaticText "
"
    uid=19_4250 StaticText "app-test  Terraform has been successfully initialized!"
    uid=19_4251 StaticText "
"
    uid=19_4252 StaticText "##..."
    uid=19_4253 StaticText "
"
    uid=19_4254 StaticText "          Plan: 0 to add, 0 to change, 4 to destroy."
    uid=19_4255 StaticText "
"
    uid=19_4256 StaticText "
"
    uid=19_4257 StaticText "app-test"
    uid=19_4258 StaticText "
"
    uid=19_4259 StaticText "          Changes to Outputs:"
    uid=19_4260 StaticText "
"
    uid=19_4261 StaticText "            - app_backend_url_CAA2B50B  = "http://localhost:30004" -> null"
    uid=19_4262 StaticText "
"
    uid=19_4263 StaticText "            - app_frontend_url_5DD99814 = "http://localhost:30003" -> null"
    uid=19_4264 StaticText "
"
    uid=19_4265 StaticText "
"
    uid=19_4266 StaticText "          ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ"
    uid=19_4267 StaticText "
"
    uid=19_4268 StaticText "
"
    uid=19_4269 StaticText "          Saved the plan to: plan"
    uid=19_4270 StaticText "
"
    uid=19_4271 StaticText "
"
    uid=19_4272 StaticText "          To perform exactly these actions, run the following command to apply:"
    uid=19_4273 StaticText "
"
    uid=19_4274 StaticText "              terraform apply "plan""
    uid=19_4275 StaticText "
"
    uid=19_4276 StaticText "
"
    uid=19_4277 StaticText "Please review the diff output above for app-test"
    uid=19_4278 StaticText "
"
    uid=19_4279 StaticText "‚ùØ"
    uid=19_4280 StaticText " Approve  Applies the changes outlined "
    uid=19_4281 StaticText "in"
    uid=19_4282 StaticText " the plan."
    uid=19_4283 StaticText "
"
    uid=19_4284 StaticText "  Dismiss"
    uid=19_4285 StaticText "
"
    uid=19_4286 StaticText "  Stop"
    uid=19_4287 StaticText "
"
    uid=19_4288 StaticText "##..."
    uid=19_4289 StaticText "
"
    uid=19_4290 StaticText "app-test  kubernetes_service.app_backend_service_EAD583EF (app_backend/service/service): Destruction complete after 0s"
    uid=19_4291 StaticText "
"
    uid=19_4292 StaticText "app-test  kubernetes_service.app_frontend_service_C2863249 (app_frontend/service/service): Destruction complete after 0s"
    uid=19_4293 StaticText "
"
    uid=19_4294 StaticText "app-test"
    uid=19_4295 StaticText "
"
    uid=19_4296 StaticText "          Destroy complete! Resources: 4 destroyed."
    uid=19_4297 StaticText "
"
    uid=19_4298 button "Copy" description="$ cdktf destroy app-test app-test Initializing the backend... app-test Initializing provider plugins... - Reusing previous version of hashicorp/kubernetes from the dependency lock file app-test - Using previously-installed hashicorp/kubernetes v2.14.0 app-test Terraform has been successfully initialized! ##... Plan: 0 to add, 0 to change, 4 to destroy. app-test Changes to Outputs: - app_backend_url_CAA2B50B = "http://localhost:30004" -> null - app_frontend_url_5DD99814 = "http://localhost:30003" -> null ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply "plan" Please review the diff output above for app-test ‚ùØ Approve Applies the changes outlined in the plan. Dismiss Stop ##... app-test kubernetes_service.app_backend_service_EAD583EF (app_backend/service/service): Destruction complete after 0s app-test kubernetes_service.app_frontend_service_C2863249 (app_frontend/service/service): Destruction complete after 0s app-test Destroy complete! Resources: 4 destroyed."
    uid=19_4299 StaticText "Next, destroy your "
    uid=19_4300 StaticText "app"
    uid=19_4301 StaticText " stack. Respond to the confirmation prompt by choosing "
    uid=19_4302 StaticText "Approve"
    uid=19_4303 StaticText "."
    uid=19_4304 StaticText "$"
    uid=19_4305 StaticText " cdktf destroy app"
    uid=19_4306 StaticText "
"
    uid=19_4307 StaticText "app  Initializing the backend..."
    uid=19_4308 StaticText "
"
    uid=19_4309 StaticText "app  Initializing provider plugins..."
    uid=19_4310 StaticText "
"
    uid=19_4311 StaticText "     - Reusing previous version of hashicorp/kubernetes from the dependency lock file"
    uid=19_4312 StaticText "
"
    uid=19_4313 StaticText "app  - Using previously-installed hashicorp/kubernetes v2.12.1"
    uid=19_4314 StaticText "
"
    uid=19_4315 StaticText "app  Terraform has been successfully initialized!"
    uid=19_4316 StaticText "
"
    uid=19_4317 StaticText "##..."
    uid=19_4318 StaticText "
"
    uid=19_4319 StaticText "     Plan: 0 to add, 0 to change, 4 to destroy."
    uid=19_4320 StaticText "
"
    uid=19_4321 StaticText "
"
    uid=19_4322 StaticText "     Changes to Outputs:"
    uid=19_4323 StaticText "
"
    uid=19_4324 StaticText "     - app_frontend_url_FE3D723A = "http://localhost:30001" -> null"
    uid=19_4325 StaticText "
"
    uid=19_4326 StaticText "     - app_backend_url_91B41C22   = "http://localhost:30002" -> null"
    uid=19_4327 StaticText "
"
    uid=19_4328 StaticText "
"
    uid=19_4329 StaticText "     ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ"
    uid=19_4330 StaticText "
"
    uid=19_4331 StaticText "
"
    uid=19_4332 StaticText "     Saved the plan to: plan"
    uid=19_4333 StaticText "
"
    uid=19_4334 StaticText "
"
    uid=19_4335 StaticText "     To perform exactly these actions, run the following command to apply:"
    uid=19_4336 StaticText "
"
    uid=19_4337 StaticText "     terraform apply "plan""
    uid=19_4338 StaticText "
"
    uid=19_4339 StaticText "
"
    uid=19_4340 StaticText "Please review the diff output above for app"
    uid=19_4341 StaticText "
"
    uid=19_4342 StaticText "‚ùØ"
    uid=19_4343 StaticText " Approve  Applies the changes outlined "
    uid=19_4344 StaticText "in"
    uid=19_4345 StaticText " the plan."
    uid=19_4346 StaticText "
"
    uid=19_4347 StaticText "  Dismiss"
    uid=19_4348 StaticText "
"
    uid=19_4349 StaticText "  Stop"
    uid=19_4350 StaticText "
"
    uid=19_4351 StaticText "##..."
    uid=19_4352 StaticText "
"
    uid=19_4353 StaticText "app  kubernetes_service.app_backend_service_EAD583EF (app_backend/service/service): Destruction complete after 0s"
    uid=19_4354 StaticText "
"
    uid=19_4355 StaticText "app  kubernetes_service.app_frontend_service_C2863249 (app_frontend/service/service): Destruction complete after 0s"
    uid=19_4356 StaticText "
"
    uid=19_4357 StaticText "app"
    uid=19_4358 StaticText "
"
    uid=19_4359 StaticText "     Destroy complete! Resources: 4 destroyed."
    uid=19_4360 StaticText "
"
    uid=19_4361 button "Copy" description="$ cdktf destroy app app Initializing the backend... app Initializing provider plugins... - Reusing previous version of hashicorp/kubernetes from the dependency lock file app - Using previously-installed hashicorp/kubernetes v2.12.1 app Terraform has been successfully initialized! ##... Plan: 0 to add, 0 to change, 4 to destroy. Changes to Outputs: - app_frontend_url_FE3D723A = "http://localhost:30001" -> null - app_backend_url_91B41C22 = "http://localhost:30002" -> null ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ Saved the plan to: plan To perform exactly these actions, run the following command to apply: terraform apply "plan" Please review the diff output above for app ‚ùØ Approve Applies the changes outlined in the plan. Dismiss Stop ##... app kubernetes_service.app_backend_service_EAD583EF (app_backend/service/service): Destruction complete after 0s app kubernetes_service.app_frontend_service_C2863249 (app_frontend/service/service): Destruction complete after 0s app Destroy complete! Resources: 4 destroyed."
    uid=19_4362 StaticText "Delete your kind cluster."
    uid=19_4363 StaticText "$"
    uid=19_4364 StaticText " kind delete cluster --name=cdktf-app"
    uid=19_4365 StaticText "
"
    uid=19_4366 StaticText "Deleting cluster "cdktf-app" ..."
    uid=19_4367 StaticText "
"
    uid=19_4368 button "Copy" description="$ kind delete cluster --name=cdktf-app Deleting cluster "cdktf-app" ..."
    uid=19_4369 StaticText "Stop your local registry Docker container."
    uid=19_4370 StaticText "$"
    uid=19_4371 StaticText " docker stop local-registry"
    uid=19_4372 StaticText "
"
    uid=19_4373 StaticText "local-registry"
    uid=19_4374 StaticText "
"
    uid=19_4375 button "Copy" description="$ docker stop local-registry local-registry"
    uid=19_4376 StaticText "Remove the container."
    uid=19_4377 StaticText "$"
    uid=19_4378 StaticText " docker rm local-registry"
    uid=19_4379 StaticText "
"
    uid=19_4380 StaticText "local-registry"
    uid=19_4381 StaticText "
"
    uid=19_4382 button "Copy" description="$ docker rm local-registry local-registry"
    uid=19_4383 link "next steps permalink" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#next-steps"
    uid=19_4384 StaticText "Next steps"
    uid=19_4385 StaticText "In this tutorial, you used the CDK for Terraform to deploy an application to a local Kubernetes cluster. You used CDK Constructs to refactor your application, and deployed multiple copies of your entire application as separate stacks."
    uid=19_4386 StaticText "Learn more about how to use the CDK for Terraform to manage Terraform projects by reviewing the following resources:"
    uid=19_4387 StaticText "Follow the other "
    uid=19_4388 link "CDKTF tutorials" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf"
      uid=19_4389 StaticText "CDKTF tutorials"
    uid=19_4390 StaticText "."
    uid=19_4391 StaticText "Find more examples and documentation in the "
    uid=19_4392 link "CDKTF documentation" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/cdktf"
      uid=19_4393 StaticText "CDKTF documentation"
    uid=19_4394 StaticText "."
    uid=19_4395 StaticText "Learn how the "
    uid=19_4396 link "Mozilla Pocket team uses the CDK for Terraform" url="https://web.archive.org/web/20251208045256/https://www.hashicorp.com/blog/cdk-for-terraform-in-production-learning-from-pocket"
      uid=19_4397 StaticText "Mozilla Pocket team uses the CDK for Terraform"
    uid=19_4398 StaticText " to deploy applications on Amazon ECS."
    uid=19_4399 StaticText "Was this tutorial helpful?"
    uid=19_4400 button "Yes"
    uid=19_4401 button "No"
    uid=19_4402 link "Go to previous tutorial: Lambda functions" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-assets-stacks-lambda"
      uid=19_4403 StaticText "Previous"
      uid=19_4404 StaticText "Lambda functions"
    uid=19_4405 link "Go to next collection: Community Providers" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/community-providers"
      uid=19_4406 StaticText "Next Collection"
      uid=19_4407 StaticText "Community Providers"
    uid=19_4408 heading "This tutorial also appears in:" level="2"
    uid=19_4409 link "Deploy and Monitor Applications" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/applications"
    uid=19_4410 StaticText "9 tutorials"
    uid=19_4411 StaticText "Deploy and Monitor Applications"
    uid=19_4412 StaticText "Deploy, release, and monitor applications using Terraform. Host a static website with Cloudflare, roll out new releases with the help of load balancers, and monitor applications with Datadog, managed with Terraform configurations."
    uid=19_4413 StaticText "Terraform"
  uid=19_24 StaticText "‚Äã"
  uid=19_4414 navigation "On this page:"
    uid=19_4415 StaticText "On this page:"
    uid=19_4416 link "Deploy an application with CDK for Terraform" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#cdktf-applications"
      uid=19_4417 StaticText "Deploy an application with CDK for Terraform"
    uid=19_4418 link "Prerequisites" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#prerequisites"
      uid=19_4419 StaticText "Prerequisites"
    uid=19_4420 link "Clone example repository" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#clone-example-repository"
      uid=19_4421 StaticText "Clone example repository"
    uid=19_4422 link "Initialize your CDKTF application" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#initialize-your-cdktf-application"
      uid=19_4423 StaticText "Initialize your CDKTF application"
    uid=19_4424 link "Create a Kubernetes Deployment" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#create-a-kubernetes-deployment"
      uid=19_4425 StaticText "Create a Kubernetes Deployment"
    uid=19_4426 link "Refactor your deployment" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#refactor-your-deployment"
      uid=19_4427 StaticText "Refactor your deployment"
    uid=19_4428 link "Add a NodePort Service" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#add-a-nodeport-service"
      uid=19_4429 StaticText "Add a NodePort Service"
    uid=19_4430 link "Add a NodePortService to your application" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#add-a-nodeportservice-to-your-application"
      uid=19_4431 StaticText "Add a NodePortService to your application"
    uid=19_4432 link "Refactor your application" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#refactor-your-application"
      uid=19_4433 StaticText "Refactor your application"
    uid=19_4434 link "Run the tests" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#run-the-tests"
      uid=19_4435 StaticText "Run the tests"
    uid=19_4436 link "Use the SimpleKubernetesWebApp construct" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#use-the-simplekuberneteswebapp-construct"
      uid=19_4437 StaticText "Use the SimpleKubernetesWebApp construct"
    uid=19_4438 link "Deploy a custom image" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#deploy-a-custom-image"
      uid=19_4439 StaticText "Deploy a custom image"
    uid=19_4440 link "Add a backend service" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#add-a-backend-service"
      uid=19_4441 StaticText "Add a backend service"
    uid=19_4442 link "Deploy another application stack" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#deploy-another-application-stack"
      uid=19_4443 StaticText "Deploy another application stack"
    uid=19_4444 link "Clean up resources" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#clean-up-resources"
      uid=19_4445 StaticText "Clean up resources"
    uid=19_4446 link "Next steps" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/terraform/tutorials/cdktf/cdktf-applications#next-steps"
      uid=19_4447 StaticText "Next steps"
  uid=19_24 StaticText "‚Äã"
  uid=19_4448 contentinfo
    uid=19_4449 link "Go to HashiCorp home page" url="https://web.archive.org/web/20251208045256/https://www.hashicorp.com/"
    uid=19_4450 StaticText "Theme"
    uid=19_4451 link "Certifications" url="https://web.archive.org/web/20251208045256/https://developer.hashicorp.com/certifications"
      uid=19_4452 StaticText "Certifications"
    uid=19_4453 link "System Status" url="https://web.archive.org/web/20251208045256/https://status.hashicorp.com/"
      uid=19_4454 StaticText "System Status"
    uid=19_4455 button "Cookie Manager"
    uid=19_4456 link "Terms of Use" url="https://web.archive.org/web/20251208045256/https://www.hashicorp.com/terms-of-service"
      uid=19_4457 StaticText "Terms of Use"
    uid=19_4458 link "Security" url="https://web.archive.org/web/20251208045256/https://www.hashicorp.com/trust/security"
      uid=19_4459 StaticText "Security"
    uid=19_4460 link "Privacy" url="https://web.archive.org/web/20251208045256/https://www.hashicorp.com/privacy"
      uid=19_4461 StaticText "Privacy"
    uid=19_4462 link "Trademark Policy" url="https://web.archive.org/web/20251208045256/https://www.hashicorp.com/trademark-policy"
      uid=19_4463 StaticText "Trademark Policy"
    uid=19_4464 link "Trade Controls" url="https://web.archive.org/web/20251208045256/https://www.hashicorp.com/trade-controls"
      uid=19_4465 StaticText "Trade Controls"
    uid=19_4466 link "Accessibility" url="https://web.archive.org/web/20251208045256/https://www.hashicorp.com/trust/accessibility"
      uid=19_4467 StaticText "Accessibility"
    uid=19_4468 link "Give Feedback" description="(opens in new tab)" url="https://web.archive.org/web/20251208045256/https://forms.gle/fnHLuNahLEhjuKvE6"
      uid=19_4469 StaticText "Give Feedback"
    uid=19_4470 StaticText "(opens in new tab)"
    uid=19_4471 StaticText "stdin is not a tty"
